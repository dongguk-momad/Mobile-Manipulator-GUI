(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hM={exports:{}},Uv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD;function K8(){if(zD)return Uv;zD=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return Uv.Fragment=t,Uv.jsx=e,Uv.jsxs=e,Uv}var HD;function $8(){return HD||(HD=1,hM.exports=K8()),hM.exports}var dt=$8(),dM={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD;function Q8(){if(FD)return an;FD=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function x(G,et,ot){this.props=G,this.context=et,this.refs=E,this.updater=ot||_}x.prototype.isReactComponent={},x.prototype.setState=function(G,et){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,et,"setState")},x.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=x.prototype;function w(G,et,ot){this.props=G,this.context=et,this.refs=E,this.updater=ot||_}var O=w.prototype=new M;O.constructor=w,S(O,x.prototype),O.isPureReactComponent=!0;var R=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function U(G,et,ot,mt,rt,_t){return ot=_t.ref,{$$typeof:n,type:G,key:et,ref:ot!==void 0?ot:null,props:_t}}function z(G,et){return U(G.type,et,void 0,void 0,void 0,G.props)}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function B(G){var et={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ot){return et[ot]})}var F=/\/+/g;function K(G,et){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):et.toString(36)}function W(){}function tt(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(W,W):(G.status="pending",G.then(function(et){G.status==="pending"&&(G.status="fulfilled",G.value=et)},function(et){G.status==="pending"&&(G.status="rejected",G.reason=et)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function J(G,et,ot,mt,rt){var _t=typeof G;(_t==="undefined"||_t==="boolean")&&(G=null);var Ut=!1;if(G===null)Ut=!0;else switch(_t){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(G.$$typeof){case n:case t:Ut=!0;break;case m:return Ut=G._init,J(Ut(G._payload),et,ot,mt,rt)}}if(Ut)return rt=rt(G),Ut=mt===""?"."+K(G,0):mt,R(rt)?(ot="",Ut!=null&&(ot=Ut.replace(F,"$&/")+"/"),J(rt,et,ot,"",function(wt){return wt})):rt!=null&&(I(rt)&&(rt=z(rt,ot+(rt.key==null||G&&G.key===rt.key?"":(""+rt.key).replace(F,"$&/")+"/")+Ut)),et.push(rt)),1;Ut=0;var Zt=mt===""?".":mt+":";if(R(G))for(var $t=0;$t<G.length;$t++)mt=G[$t],_t=Zt+K(mt,$t),Ut+=J(mt,et,ot,_t,rt);else if($t=y(G),typeof $t=="function")for(G=$t.call(G),$t=0;!(mt=G.next()).done;)mt=mt.value,_t=Zt+K(mt,$t++),Ut+=J(mt,et,ot,_t,rt);else if(_t==="object"){if(typeof G.then=="function")return J(tt(G),et,ot,mt,rt);throw et=String(G),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function H(G,et,ot){if(G==null)return G;var mt=[],rt=0;return J(G,mt,"","",function(_t){return et.call(ot,_t,rt++)}),mt}function q(G){if(G._status===-1){var et=G._result;et=et(),et.then(function(ot){(G._status===0||G._status===-1)&&(G._status=1,G._result=ot)},function(ot){(G._status===0||G._status===-1)&&(G._status=2,G._result=ot)}),G._status===-1&&(G._status=0,G._result=et)}if(G._status===1)return G._result.default;throw G._result}var k=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function it(){}return an.Children={map:H,forEach:function(G,et,ot){H(G,function(){et.apply(this,arguments)},ot)},count:function(G){var et=0;return H(G,function(){et++}),et},toArray:function(G){return H(G,function(et){return et})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},an.Component=x,an.Fragment=e,an.Profiler=r,an.PureComponent=w,an.StrictMode=i,an.Suspense=c,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,an.__COMPILER_RUNTIME={__proto__:null,c:function(G){return N.H.useMemoCache(G)}},an.cache=function(G){return function(){return G.apply(null,arguments)}},an.cloneElement=function(G,et,ot){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var mt=S({},G.props),rt=G.key,_t=void 0;if(et!=null)for(Ut in et.ref!==void 0&&(_t=void 0),et.key!==void 0&&(rt=""+et.key),et)!P.call(et,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&et.ref===void 0||(mt[Ut]=et[Ut]);var Ut=arguments.length-2;if(Ut===1)mt.children=ot;else if(1<Ut){for(var Zt=Array(Ut),$t=0;$t<Ut;$t++)Zt[$t]=arguments[$t+2];mt.children=Zt}return U(G.type,rt,void 0,void 0,_t,mt)},an.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},an.createElement=function(G,et,ot){var mt,rt={},_t=null;if(et!=null)for(mt in et.key!==void 0&&(_t=""+et.key),et)P.call(et,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(rt[mt]=et[mt]);var Ut=arguments.length-2;if(Ut===1)rt.children=ot;else if(1<Ut){for(var Zt=Array(Ut),$t=0;$t<Ut;$t++)Zt[$t]=arguments[$t+2];rt.children=Zt}if(G&&G.defaultProps)for(mt in Ut=G.defaultProps,Ut)rt[mt]===void 0&&(rt[mt]=Ut[mt]);return U(G,_t,void 0,void 0,null,rt)},an.createRef=function(){return{current:null}},an.forwardRef=function(G){return{$$typeof:l,render:G}},an.isValidElement=I,an.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:q}},an.memo=function(G,et){return{$$typeof:h,type:G,compare:et===void 0?null:et}},an.startTransition=function(G){var et=N.T,ot={};N.T=ot;try{var mt=G(),rt=N.S;rt!==null&&rt(ot,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(it,k)}catch(_t){k(_t)}finally{N.T=et}},an.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},an.use=function(G){return N.H.use(G)},an.useActionState=function(G,et,ot){return N.H.useActionState(G,et,ot)},an.useCallback=function(G,et){return N.H.useCallback(G,et)},an.useContext=function(G){return N.H.useContext(G)},an.useDebugValue=function(){},an.useDeferredValue=function(G,et){return N.H.useDeferredValue(G,et)},an.useEffect=function(G,et,ot){var mt=N.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(G,et)},an.useId=function(){return N.H.useId()},an.useImperativeHandle=function(G,et,ot){return N.H.useImperativeHandle(G,et,ot)},an.useInsertionEffect=function(G,et){return N.H.useInsertionEffect(G,et)},an.useLayoutEffect=function(G,et){return N.H.useLayoutEffect(G,et)},an.useMemo=function(G,et){return N.H.useMemo(G,et)},an.useOptimistic=function(G,et){return N.H.useOptimistic(G,et)},an.useReducer=function(G,et,ot){return N.H.useReducer(G,et,ot)},an.useRef=function(G){return N.H.useRef(G)},an.useState=function(G){return N.H.useState(G)},an.useSyncExternalStore=function(G,et,ot){return N.H.useSyncExternalStore(G,et,ot)},an.useTransition=function(){return N.H.useTransition()},an.version="19.1.0",an}var jD;function om(){return jD||(jD=1,dM.exports=Q8()),dM.exports}var St=om();const gt=Gn(St);var pM={exports:{}},Lv={},mM={exports:{}},vM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function J8(){return VD||(VD=1,function(n){function t(H,q){var k=H.length;H.push(q);t:for(;0<k;){var it=k-1>>>1,G=H[it];if(0<r(G,q))H[it]=q,H[k]=G,k=it;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],k=H.pop();if(k!==q){H[0]=k;t:for(var it=0,G=H.length,et=G>>>1;it<et;){var ot=2*(it+1)-1,mt=H[ot],rt=ot+1,_t=H[rt];if(0>r(mt,k))rt<G&&0>r(_t,mt)?(H[it]=_t,H[rt]=k,it=rt):(H[it]=mt,H[ot]=k,it=ot);else if(rt<G&&0>r(_t,k))H[it]=_t,H[rt]=k,it=rt;else break t}}return q}function r(H,q){var k=H.sortIndex-q.sortIndex;return k!==0?k:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],m=1,v=null,y=3,_=!1,S=!1,E=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var q=e(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=H)i(h),q.sortIndex=q.expirationTime,t(c,q);else break;q=e(h)}}function N(H){if(E=!1,R(H),!S)if(e(c)!==null)S=!0,P||(P=!0,K());else{var q=e(h);q!==null&&J(N,q.startTime-H)}}var P=!1,U=-1,z=5,I=-1;function B(){return x?!0:!(n.unstable_now()-I<z)}function F(){if(x=!1,P){var H=n.unstable_now();I=H;var q=!0;try{t:{S=!1,E&&(E=!1,w(U),U=-1),_=!0;var k=y;try{e:{for(R(H),v=e(c);v!==null&&!(v.expirationTime>H&&B());){var it=v.callback;if(typeof it=="function"){v.callback=null,y=v.priorityLevel;var G=it(v.expirationTime<=H);if(H=n.unstable_now(),typeof G=="function"){v.callback=G,R(H),q=!0;break e}v===e(c)&&i(c),R(H)}else i(c);v=e(c)}if(v!==null)q=!0;else{var et=e(h);et!==null&&J(N,et.startTime-H),q=!1}}break t}finally{v=null,y=k,_=!1}q=void 0}}finally{q?K():P=!1}}}var K;if(typeof O=="function")K=function(){O(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,tt=W.port2;W.port1.onmessage=F,K=function(){tt.postMessage(null)}}else K=function(){M(F,0)};function J(H,q){U=M(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var k=y;y=q;try{return H()}finally{y=k}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=y;y=H;try{return q()}finally{y=k}},n.unstable_scheduleCallback=function(H,q,k){var it=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?it+k:it):k=it,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,H={id:m++,callback:q,priorityLevel:H,startTime:k,expirationTime:G,sortIndex:-1},k>it?(H.sortIndex=k,t(h,H),e(c)===null&&H===e(h)&&(E?(w(U),U=-1):E=!0,J(N,k-it))):(H.sortIndex=G,t(c,H),S||_||(S=!0,P||(P=!0,K()))),H},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(H){var q=y;return function(){var k=y;y=q;try{return H.apply(this,arguments)}finally{y=k}}}}(vM)),vM}var GD;function tV(){return GD||(GD=1,mM.exports=J8()),mM.exports}var gM={exports:{}},Zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function eV(){if(qD)return Zr;qD=1;var n=om();function t(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:c,containerInfo:h,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zr.createPortal=function(c,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(c,h,null,m)},Zr.flushSync=function(c){var h=o.T,m=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=h,i.p=m,i.d.f()}},Zr.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(c,h))},Zr.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Zr.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var m=h.as,v=l(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):m==="script"&&i.d.X(c,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zr.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);i.d.M(c,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(c)},Zr.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=l(m,h.crossOrigin);i.d.L(c,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zr.preloadModule=function(c,h){if(typeof c=="string")if(h){var m=l(h.as,h.crossOrigin);i.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(c)},Zr.requestFormReset=function(c){i.d.r(c)},Zr.unstable_batchedUpdates=function(c,h){return c(h)},Zr.useFormState=function(c,h,m){return o.H.useFormState(c,h,m)},Zr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Zr.version="19.1.0",Zr}var kD;function nV(){if(kD)return gM.exports;kD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gM.exports=eV(),gM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function iV(){if(XD)return Lv;XD=1;var n=tV(),t=om(),e=nV();function i(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(a(s)!==s)throw Error(i(188))}function c(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(i(188));return u!==s?null:s}for(var p=s,g=u;;){var A=p.return;if(A===null)break;var C=A.alternate;if(C===null){if(g=A.return,g!==null){p=g;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===p)return l(A),s;if(C===g)return l(A),u;C=C.sibling}throw Error(i(188))}if(p.return!==g.return)p=A,g=C;else{for(var j=!1,X=A.child;X;){if(X===p){j=!0,p=A,g=C;break}if(X===g){j=!0,g=A,p=C;break}X=X.sibling}if(!j){for(X=C.child;X;){if(X===p){j=!0,p=C,g=A;break}if(X===g){j=!0,g=C,p=A;break}X=X.sibling}if(!j)throw Error(i(189))}}if(p.alternate!==g)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?s:u}function h(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=h(s),u!==null)return u;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),O=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var W=Symbol.for("react.client.reference");function tt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===W?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case O:return(s.displayName||"Context")+".Provider";case w:return(s._context.displayName||"Context")+".Consumer";case R:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return u=s.displayName||null,u!==null?u:tt(s.type)||"Memo";case z:u=s._payload,s=s._init;try{return tt(s(u))}catch{}}return null}var J=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},it=[],G=-1;function et(s){return{current:s}}function ot(s){0>G||(s.current=it[G],it[G]=null,G--)}function mt(s,u){G++,it[G]=s.current,s.current=u}var rt=et(null),_t=et(null),Ut=et(null),Zt=et(null);function $t(s,u){switch(mt(Ut,u),mt(_t,s),mt(rt,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?hD(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=hD(u),s=dD(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ot(rt),mt(rt,s)}function wt(){ot(rt),ot(_t),ot(Ut)}function Qt(s){s.memoizedState!==null&&mt(Zt,s);var u=rt.current,p=dD(u,s.type);u!==p&&(mt(_t,s),mt(rt,p))}function se(s){_t.current===s&&(ot(rt),ot(_t)),Zt.current===s&&(ot(Zt),Cv._currentValue=k)}var Lt=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,nt=n.unstable_cancelCallback,Be=n.unstable_shouldYield,It=n.unstable_requestPaint,Pt=n.unstable_now,Ht=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,Bt=n.unstable_UserBlockingPriority,$=n.unstable_NormalPriority,V=n.unstable_LowPriority,pt=n.unstable_IdlePriority,Nt=n.log,jt=n.unstable_setDisableYieldValue,zt=null,le=null;function te(s){if(typeof Nt=="function"&&jt(s),le&&typeof le.setStrictMode=="function")try{le.setStrictMode(zt,s)}catch{}}var ae=Math.clz32?Math.clz32:ge,tn=Math.log,Jt=Math.LN2;function ge(s){return s>>>=0,s===0?32:31-(tn(s)/Jt|0)|0}var Me=256,Ee=4194304;function oe(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ut(s,u,p){var g=s.pendingLanes;if(g===0)return 0;var A=0,C=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var X=g&134217727;return X!==0?(g=X&~C,g!==0?A=oe(g):(j&=X,j!==0?A=oe(j):p||(p=X&~s,p!==0&&(A=oe(p))))):(X=g&~C,X!==0?A=oe(X):j!==0?A=oe(j):p||(p=g&~s,p!==0&&(A=oe(p)))),A===0?0:u!==0&&u!==A&&(u&C)===0&&(C=A&-A,p=u&-u,C>=p||C===32&&(p&4194048)!==0)?u:A}function Ft(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function ce(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lt(){var s=Me;return Me<<=1,(Me&4194048)===0&&(Me=256),s}function ee(){var s=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),s}function Dt(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function Gt(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pe(s,u,p,g,A,C){var j=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var X=s.entanglements,at=s.expirationTimes,Mt=s.hiddenUpdates;for(p=j&~p;0<p;){var kt=31-ae(p),Wt=1<<kt;X[kt]=0,at[kt]=-1;var At=Mt[kt];if(At!==null)for(Mt[kt]=null,kt=0;kt<At.length;kt++){var Ct=At[kt];Ct!==null&&(Ct.lane&=-536870913)}p&=~Wt}g!==0&&fe(s,g,0),C!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=C&~(j&~u))}function fe(s,u,p){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-ae(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|p&4194090}function Ce(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var g=31-ae(p),A=1<<g;A&u|s[g]&u&&(s[g]|=u),p&=~A}}function rn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function On(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $e(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:ND(s.type))}function Ti(s,u){var p=q.p;try{return q.p=s,u()}finally{q.p=p}}var si=Math.random().toString(36).slice(2),wi="__reactFiber$"+si,Ii="__reactProps$"+si,vr="__reactContainer$"+si,Fr="__reactEvents$"+si,nf="__reactListeners$"+si,$a="__reactHandles$"+si,Tr="__reactResources$"+si,Qa="__reactMarker$"+si;function In(s){delete s[wi],delete s[Ii],delete s[Fr],delete s[nf],delete s[$a]}function Ja(s){var u=s[wi];if(u)return u;for(var p=s.parentNode;p;){if(u=p[vr]||p[wi]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=gD(s);s!==null;){if(p=s[wi])return p;s=gD(s)}return u}s=p,p=s.parentNode}return null}function ts(s){if(s=s[wi]||s[vr]){var u=s.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return s}return null}function Ho(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(i(33))}function Qs(s){var u=s[Tr];return u||(u=s[Tr]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Oi(s){s[Qa]=!0}var Uu=new Set,Lu={};function es(s,u){Y(s,u),Y(s+"Capture",u)}function Y(s,u){for(Lu[s]=u,s=0;s<u.length;s++)Uu.add(u[s])}var ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},Ot={};function yt(s){return Lt.call(Ot,s)?!0:Lt.call(Tt,s)?!1:ht.test(s)?Ot[s]=!0:(Tt[s]=!0,!1)}function Kt(s,u,p){if(yt(u))if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+p)}}function ue(s,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+p)}}function he(s,u,p,g){if(g===null)s.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(u,p,""+g)}}var xe,ze;function De(s){if(xe===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);xe=u&&u[1]||"",ze=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+s+ze}var we=!1;function ln(s,u){if(!s||we)return"";we=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var Wt=function(){throw Error()};if(Object.defineProperty(Wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wt,[])}catch(Ct){var At=Ct}Reflect.construct(s,[],Wt)}else{try{Wt.call()}catch(Ct){At=Ct}s.call(Wt.prototype)}}else{try{throw Error()}catch(Ct){At=Ct}(Wt=s())&&typeof Wt.catch=="function"&&Wt.catch(function(){})}}catch(Ct){if(Ct&&At&&typeof Ct.stack=="string")return[Ct.stack,At.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),j=C[0],X=C[1];if(j&&X){var at=j.split(`
`),Mt=X.split(`
`);for(A=g=0;g<at.length&&!at[g].includes("DetermineComponentFrameRoot");)g++;for(;A<Mt.length&&!Mt[A].includes("DetermineComponentFrameRoot");)A++;if(g===at.length||A===Mt.length)for(g=at.length-1,A=Mt.length-1;1<=g&&0<=A&&at[g]!==Mt[A];)A--;for(;1<=g&&0<=A;g--,A--)if(at[g]!==Mt[A]){if(g!==1||A!==1)do if(g--,A--,0>A||at[g]!==Mt[A]){var kt=`
`+at[g].replace(" at new "," at ");return s.displayName&&kt.includes("<anonymous>")&&(kt=kt.replace("<anonymous>",s.displayName)),kt}while(1<=g&&0<=A);break}}}finally{we=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?De(p):""}function bn(s){switch(s.tag){case 26:case 27:case 5:return De(s.type);case 16:return De("Lazy");case 13:return De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return ln(s.type,!1);case 11:return ln(s.type.render,!1);case 1:return ln(s.type,!0);case 31:return De("Activity");default:return""}}function oi(s){try{var u="";do u+=bn(s),s=s.return;while(s);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hn(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ne(s){var u=hn(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),g=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,C=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return A.call(this)},set:function(j){g=""+j,C.call(this,j)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function ci(s){s._valueTracker||(s._valueTracker=Ne(s))}function gn(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),g="";return s&&(g=hn(s)?s.checked?"true":"false":s.value),s=g,s!==p?(u.setValue(s),!0):!1}function tr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xs=/[\n"\\]/g;function qn(s){return s.replace(xs,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ss(s,u,p,g,A,C,j,X){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),u!=null?j==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+cn(u)):s.value!==""+cn(u)&&(s.value=""+cn(u)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),u!=null?er(s,j,cn(u)):p!=null?er(s,j,cn(p)):g!=null&&s.removeAttribute("value"),A==null&&C!=null&&(s.defaultChecked=!!C),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.name=""+cn(X):s.removeAttribute("name")}function Bn(s,u,p,g,A,C,j,X){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),u!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||u!=null))return;p=p!=null?""+cn(p):"",u=u!=null?""+cn(u):p,X||u===s.value||(s.value=u),s.defaultValue=u}g=g??A,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=X?s.checked:!!g,s.defaultChecked=!!g,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j)}function er(s,u,p){u==="number"&&tr(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function Ci(s,u,p,g){if(s=s.options,u){u={};for(var A=0;A<p.length;A++)u["$"+p[A]]=!0;for(p=0;p<s.length;p++)A=u.hasOwnProperty("$"+s[p].value),s[p].selected!==A&&(s[p].selected=A),A&&g&&(s[p].defaultSelected=!0)}else{for(p=""+cn(p),u=null,A=0;A<s.length;A++){if(s[A].value===p){s[A].selected=!0,g&&(s[A].defaultSelected=!0);return}u!==null||s[A].disabled||(u=s[A])}u!==null&&(u.selected=!0)}}function Gi(s,u,p){if(u!=null&&(u=""+cn(u),u!==s.value&&(s.value=u),p==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=p!=null?""+cn(p):""}function qi(s,u,p,g){if(u==null){if(g!=null){if(p!=null)throw Error(i(92));if(J(g)){if(1<g.length)throw Error(i(93));g=g[0]}p=g}p==null&&(p=""),u=p}p=cn(u),s.defaultValue=p,g=s.textContent,g===p&&g!==""&&g!==null&&(s.value=g)}function wr(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var Ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rf(s,u,p){var g=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,p):typeof p!="number"||p===0||Ms.has(u)?u==="float"?s.cssFloat=p:s[u]=(""+p).trim():s[u]=p+"px"}function af(s,u,p){if(u!=null&&typeof u!="object")throw Error(i(62));if(s=s.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var A in u)g=u[A],u.hasOwnProperty(A)&&p[A]!==g&&rf(s,A,g)}else for(var C in u)u.hasOwnProperty(C)&&rf(s,C,u[C])}function Xh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sf(s){return Xy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Yh=null;function Wh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fo=null,Il=null;function Sm(s){var u=ts(s);if(u&&(s=u.stateNode)){var p=s[Ii]||null;t:switch(s=u.stateNode,u.type){case"input":if(Ss(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+qn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var g=p[u];if(g!==s&&g.form===s.form){var A=g[Ii]||null;if(!A)throw Error(i(90));Ss(g,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<p.length;u++)g=p[u],g.form===s.form&&gn(g)}break t;case"textarea":Gi(s,p.value,p.defaultValue);break t;case"select":u=p.value,u!=null&&Ci(s,!!p.multiple,u,!1)}}}var of=!1;function Mm(s,u,p){if(of)return s(u,p);of=!0;try{var g=s(u);return g}finally{if(of=!1,(Fo!==null||Il!==null)&&(Hs(),Fo&&(u=Fo,s=Il,Il=Fo=null,Sm(u),s)))for(u=0;u<s.length;u++)Sm(s[u])}}function Iu(s,u){var p=s.stateNode;if(p===null)return null;var g=p[Ii]||null;if(g===null)return null;p=g[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break t;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(i(231,u,typeof p));return p}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=!1;if(Es)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){lf=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{lf=!1}var Js=null,Em=null,Zh=null;function Am(){if(Zh)return Zh;var s,u=Em,p=u.length,g,A="value"in Js?Js.value:Js.textContent,C=A.length;for(s=0;s<p&&u[s]===A[s];s++);var j=p-s;for(g=1;g<=j&&u[p-g]===A[C-g];g++);return Zh=A.slice(s,1<g?1-g:void 0)}function jo(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function zu(){return!0}function uf(){return!1}function Or(s){function u(p,g,A,C,j){this._reactName=p,this._targetInst=A,this.type=g,this.nativeEvent=C,this.target=j,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(p=s[X],this[X]=p?p(C):C[X]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?zu:uf,this.isPropagationStopped=uf,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),u}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=Or(Vo),Fu=m({},Vo,{view:0,detail:0}),Yy=Or(Fu),to,ju,Vu,Gu=m({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vu&&(Vu&&s.type==="mousemove"?(to=s.screenX-Vu.screenX,ju=s.screenY-Vu.screenY):ju=to=0,Vu=s),to)},movementY:function(s){return"movementY"in s?s.movementY:ju}}),Tm=Or(Gu),Wy=m({},Gu,{dataTransfer:0}),R1=Or(Wy),nr=m({},Fu,{relatedTarget:0}),Kh=Or(nr),Zy=m({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ky=Or(Zy),$y=m({},Vo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qy=Or($y),cf=m({},Vo,{data:0}),$h=Or(cf),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wm(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=e0[s])?!!u[s]:!1}function ff(){return wm}var n0=m({},Fu,{key:function(s){if(s.key){var u=Jy[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=jo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?t0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(s){return s.type==="keypress"?jo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?jo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Om=Or(n0),Cm=m({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=Or(Cm),i0=m({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),Rm=Or(i0),r0=m({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),eo=Or(r0),Dm=m({},Gu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),D1=Or(Dm),a0=m({},Vo,{newState:0,oldState:0}),Go=Or(a0),no=[9,13,27,32],hf=Es&&"CompositionEvent"in window,Bl=null;Es&&"documentMode"in document&&(Bl=document.documentMode);var df=Es&&"TextEvent"in window&&!Bl,pf=Es&&(!hf||Bl&&8<Bl&&11>=Bl),qo=" ",ir=!1;function mf(s,u){switch(s){case"keyup":return no.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ko=!1;function vf(s,u){switch(s){case"compositionend":return Nm(u);case"keypress":return u.which!==32?null:(ir=!0,qo);case"textInput":return s=u.data,s===qo&&ir?null:s;default:return null}}function Pm(s,u){if(ko)return s==="compositionend"||!hf&&mf(s,u)?(s=Am(),Zh=Em=Js=null,ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return pf&&u.locale!=="ko"?null:u.data;default:return null}}var Jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Jh[s.type]:u==="textarea"}function jr(s,u,p,g){Fo?Il?Il.push(g):Il=[g]:Fo=g,u=rb(u,"onChange"),0<u.length&&(p=new Hu("onChange","change",null,p,g),s.push({event:p,listeners:u}))}var qu=null,zl=null;function s0(s){oD(s,0)}function gf(s){var u=Ho(s);if(gn(u))return s}function td(s,u){if(s==="change")return u}var ed=!1;if(Es){var nd;if(Es){var ku="oninput"in document;if(!ku){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),ku=typeof Xu.oninput=="function"}nd=ku}else nd=!1;ed=nd&&(!document.documentMode||9<document.documentMode)}function li(){qu&&(qu.detachEvent("onpropertychange",o0),zl=qu=null)}function o0(s){if(s.propertyName==="value"&&gf(zl)){var u=[];jr(u,zl,s,Wh(s)),Mm(s0,u)}}function N1(s,u,p){s==="focusin"?(li(),qu=u,zl=p,qu.attachEvent("onpropertychange",o0)):s==="focusout"&&li()}function l0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gf(zl)}function yf(s,u){if(s==="click")return gf(u)}function Xo(s,u){if(s==="input"||s==="change")return gf(u)}function u0(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Vr=typeof Object.is=="function"?Object.is:u0;function ns(s,u){if(Vr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),g=Object.keys(u);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var A=p[g];if(!Lt.call(u,A)||!Vr(s[A],u[A]))return!1}return!0}function Gr(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Lm(s,u){var p=Gr(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=u&&g>=u)return{node:p,offset:u-s};s=g}t:{for(;p;){if(p.nextSibling){p=p.nextSibling;break t}p=p.parentNode}p=void 0}p=Gr(p)}}function Im(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Im(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Bm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=tr(s.document);u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=tr(s.document)}return u}function bf(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var zm=Es&&"documentMode"in document&&11>=document.documentMode,io=null,id=null,_f=null,rd=!1;function Hm(s,u,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;rd||io==null||io!==tr(g)||(g=io,"selectionStart"in g&&bf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_f&&ns(_f,g)||(_f=g,g=rb(id,"onSelect"),0<g.length&&(u=new Hu("onSelect","select",null,u,p),s.push({event:u,listeners:g}),u.target=io)))}function rr(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var Yo={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionrun:rr("Transition","TransitionRun"),transitionstart:rr("Transition","TransitionStart"),transitioncancel:rr("Transition","TransitionCancel"),transitionend:rr("Transition","TransitionEnd")},ad={},c0={};Es&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function ro(s){if(ad[s])return ad[s];if(!Yo[s])return s;var u=Yo[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in c0)return ad[s]=u[p];return s}var Cr=ro("animationend"),Fm=ro("animationiteration"),qr=ro("animationstart"),f0=ro("transitionrun"),ao=ro("transitionstart"),Yu=ro("transitioncancel"),so=ro("transitionend"),sd=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ki(s,u){sd.set(s,u),es(u,[s])}var jm=new WeakMap;function ar(s,u){if(typeof s=="object"&&s!==null){var p=jm.get(s);return p!==void 0?p:(u={value:s,source:u,stack:oi(u)},jm.set(s,u),u)}return{value:s,source:u,stack:oi(u)}}var gr=[],Ra=0,od=0;function Sf(){for(var s=Ra,u=od=Ra=0;u<s;){var p=gr[u];gr[u++]=null;var g=gr[u];gr[u++]=null;var A=gr[u];gr[u++]=null;var C=gr[u];if(gr[u++]=null,g!==null&&A!==null){var j=g.pending;j===null?A.next=A:(A.next=j.next,j.next=A),g.pending=A}C!==0&&Vm(p,A,C)}}function Wo(s,u,p,g){gr[Ra++]=s,gr[Ra++]=u,gr[Ra++]=p,gr[Ra++]=g,od|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function ld(s,u,p,g){return Wo(s,u,p,g),Wu(s)}function oo(s,u){return Wo(s,null,null,u),Wu(s)}function Vm(s,u,p){s.lanes|=p;var g=s.alternate;g!==null&&(g.lanes|=p);for(var A=!1,C=s.return;C!==null;)C.childLanes|=p,g=C.alternate,g!==null&&(g.childLanes|=p),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(A=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,A&&u!==null&&(A=31-ae(p),s=C.hiddenUpdates,g=s[A],g===null?s[A]=[u]:g.push(u),u.lane=p|536870912),C):null}function Wu(s){if(50<zs)throw zs=0,nu=null,Error(i(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var Zo={};function Gm(s,u,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,u,p,g){return new Gm(s,u,p,g)}function Mf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bi(s,u){var p=s.alternate;return p===null?(p=kr(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function qm(s,u){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,u=p.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function Xi(s,u,p,g,A,C){var j=0;if(g=s,typeof s=="function")Mf(s)&&(j=1);else if(typeof s=="string")j=B8(s,p,rt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=kr(31,p,u,A),s.elementType=I,s.lanes=C,s;case S:return Ko(p.children,A,C,u);case E:j=8,A|=24;break;case x:return s=kr(12,p,u,A|2),s.elementType=x,s.lanes=C,s;case N:return s=kr(13,p,u,A),s.elementType=N,s.lanes=C,s;case P:return s=kr(19,p,u,A),s.elementType=P,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case O:j=10;break t;case w:j=9;break t;case R:j=11;break t;case U:j=14;break t;case z:j=16,g=null;break t}j=29,p=Error(i(130,s===null?"null":typeof s,"")),g=null}return u=kr(j,p,u,A),u.elementType=s,u.type=g,u.lanes=C,u}function Ko(s,u,p,g){return s=kr(7,s,g,u),s.lanes=p,s}function Ef(s,u,p){return s=kr(6,s,null,u),s.lanes=p,s}function ud(s,u,p){return u=kr(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var Zu=[],Xr=0,Af=null,Ku=0,sr=[],la=0,$o=null,As=1,Ts="";function lo(s,u){Zu[Xr++]=Ku,Zu[Xr++]=Af,Af=s,Ku=u}function cd(s,u,p){sr[la++]=As,sr[la++]=Ts,sr[la++]=$o,$o=s;var g=As;s=Ts;var A=32-ae(g)-1;g&=~(1<<A),p+=1;var C=32-ae(u)+A;if(30<C){var j=A-A%5;C=(g&(1<<j)-1).toString(32),g>>=j,A-=j,As=1<<32-ae(u)+A|p<<A|g,Ts=C+s}else As=1<<C|p<<A|g,Ts=s}function km(s){s.return!==null&&(lo(s,1),cd(s,1,0))}function Xm(s){for(;s===Af;)Af=Zu[--Xr],Zu[Xr]=null,Ku=Zu[--Xr],Zu[Xr]=null;for(;s===$o;)$o=sr[--la],sr[la]=null,Ts=sr[--la],sr[la]=null,As=sr[--la],sr[la]=null}var Rr=null,fi=null,Mn=!1,Da=null,ua=!1,fd=Error(i(519));function Qo(s){var u=Error(i(418,""));throw Hl(ar(u,s)),fd}function h0(s){var u=s.stateNode,p=s.type,g=s.memoizedProps;switch(u[wi]=s,u[Ii]=g,p){case"dialog":vn("cancel",u),vn("close",u);break;case"iframe":case"object":case"embed":vn("load",u);break;case"video":case"audio":for(p=0;p<Mv.length;p++)vn(Mv[p],u);break;case"source":vn("error",u);break;case"img":case"image":case"link":vn("error",u),vn("load",u);break;case"details":vn("toggle",u);break;case"input":vn("invalid",u),Bn(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),ci(u);break;case"select":vn("invalid",u);break;case"textarea":vn("invalid",u),qi(u,g.value,g.defaultValue,g.children),ci(u)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||g.suppressHydrationWarning===!0||fD(u.textContent,p)?(g.popover!=null&&(vn("beforetoggle",u),vn("toggle",u)),g.onScroll!=null&&vn("scroll",u),g.onScrollEnd!=null&&vn("scrollend",u),g.onClick!=null&&(u.onclick=ab),u=!0):u=!1,u||Qo(s)}function Ym(s){for(Rr=s.return;Rr;)switch(Rr.tag){case 5:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:Rr=Rr.return}}function is(s){if(s!==Rr)return!1;if(!Mn)return Ym(s),Mn=!0,!1;var u=s.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||Q1(s.type,s.memoizedProps)),p=!p),p&&fi&&Qo(s),Ym(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8)if(p=s.data,p==="/$"){if(u===0){fi=Mo(s.nextSibling);break t}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;s=s.nextSibling}fi=null}}else u===27?(u=fi,xc(s.type)?(s=nM,nM=null,fi=s):fi=u):fi=Rr?Mo(s.stateNode.nextSibling):null;return!0}function $u(){fi=Rr=null,Mn=!1}function Cn(){var s=Da;return s!==null&&(Le===null?Le=s:Le.push.apply(Le,s),Da=null),s}function Hl(s){Da===null?Da=[s]:Da.push(s)}var Wm=et(null),Jo=null,uo=null;function tl(s,u,p){mt(Wm,u._currentValue),u._currentValue=p}function co(s){s._currentValue=Wm.current,ot(Wm)}function Zm(s,u,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===p)break;s=s.return}}function Tf(s,u,p,g){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var C=A.dependencies;if(C!==null){var j=A.child;C=C.firstContext;t:for(;C!==null;){var X=C;C=A;for(var at=0;at<u.length;at++)if(X.context===u[at]){C.lanes|=p,X=C.alternate,X!==null&&(X.lanes|=p),Zm(C.return,p,s),g||(j=null);break t}C=X.next}}else if(A.tag===18){if(j=A.return,j===null)throw Error(i(341));j.lanes|=p,C=j.alternate,C!==null&&(C.lanes|=p),Zm(j,p,s),j=null}else j=A.child;if(j!==null)j.return=A;else for(j=A;j!==null;){if(j===s){j=null;break}if(A=j.sibling,A!==null){A.return=j.return,j=A;break}j=j.return}A=j}}function Na(s,u,p,g){s=null;for(var A=u,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var j=A.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var X=A.type;Vr(A.pendingProps.value,j.value)||(s!==null?s.push(X):s=[X])}}else if(A===Zt.current){if(j=A.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Cv):s=[Cv])}A=A.return}s!==null&&Tf(u,s,p,g),u.flags|=262144}function wf(s){for(s=s.firstContext;s!==null;){if(!Vr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ws(s){Jo=s,uo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pi(s){return hd(Jo,s)}function Of(s,u){return Jo===null&&ws(s),hd(s,u)}function hd(s,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},uo===null){if(s===null)throw Error(i(308));uo=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else uo=uo.next=u;return p}var Km=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(p,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(p){return p()})}},P1=n.unstable_scheduleCallback,d0=n.unstable_NormalPriority,Ri={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new Km,data:new Map,refCount:0}}function Qu(s){s.refCount--,s.refCount===0&&P1(d0,function(){s.controller.abort()})}var Ju=null,Cf=0,We=0,tc=null;function ca(s,u){if(Ju===null){var p=Ju=[];Cf=0,We=G1(),tc={status:"pending",value:void 0,then:function(g){p.push(g)}}}return Cf++,u.then(pd,pd),u}function pd(){if(--Cf===0&&Ju!==null){tc!==null&&(tc.status="fulfilled");var s=Ju;Ju=null,We=0,tc=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function U1(s,u){var p=[],g={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var A=0;A<p.length;A++)(0,p[A])(u)},function(A){for(g.status="rejected",g.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),g}var Rf=H.S;H.S=function(s,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&ca(s,u),Rf!==null&&Rf(s,u)};var Pa=et(null);function el(){var s=Pa.current;return s!==null?s:Xe.pooledCache}function Df(s,u){u===null?mt(Pa,Pa.current):mt(Pa,u.pool)}function md(){var s=el();return s===null?null:{parent:Ri._currentValue,pool:s}}var Nf=Error(i(460)),$m=Error(i(474)),rs=Error(i(542)),Pf={then:function(){}};function vd(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ec(){}function gd(s,u,p){switch(p=s[p],p===void 0?s.push(u):p!==u&&(u.then(ec,ec),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,p0(s),s;default:if(typeof u.status=="string")u.then(ec,ec);else{if(s=Xe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=g}},function(g){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,p0(s),s}throw Ua=u,Nf}}var Ua=null;function Qm(){if(Ua===null)throw Error(i(459));var s=Ua;return Ua=null,s}function p0(s){if(s===Nf||s===rs)throw Error(i(483))}var fo=!1;function Jm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ve(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Os(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ho(s,u,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Rn&2)!==0){var A=g.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),g.pending=u,u=Wu(s),Vm(s,null,p),u}return Wo(s,g,u,p),Wu(s)}function Fl(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,p|=g,u.lanes=p,Ce(s,p)}}function nc(s,u){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var A=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var j={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?A=C=j:C=C.next=j,p=p.next}while(p!==null);C===null?A=C=u:C=C.next=u}else A=C=u;p={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}var tv=!1;function Uf(){if(tv){var s=tc;if(s!==null)throw s}}function ic(s,u,p,g){tv=!1;var A=s.updateQueue;fo=!1;var C=A.firstBaseUpdate,j=A.lastBaseUpdate,X=A.shared.pending;if(X!==null){A.shared.pending=null;var at=X,Mt=at.next;at.next=null,j===null?C=Mt:j.next=Mt,j=at;var kt=s.alternate;kt!==null&&(kt=kt.updateQueue,X=kt.lastBaseUpdate,X!==j&&(X===null?kt.firstBaseUpdate=Mt:X.next=Mt,kt.lastBaseUpdate=at))}if(C!==null){var Wt=A.baseState;j=0,kt=Mt=at=null,X=C;do{var At=X.lane&-536870913,Ct=At!==X.lane;if(Ct?(Pe&At)===At:(g&At)===At){At!==0&&At===We&&(tv=!0),kt!==null&&(kt=kt.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});t:{var qe=s,He=X;At=u;var ti=p;switch(He.tag){case 1:if(qe=He.payload,typeof qe=="function"){Wt=qe.call(ti,Wt,At);break t}Wt=qe;break t;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=He.payload,At=typeof qe=="function"?qe.call(ti,Wt,At):qe,At==null)break t;Wt=m({},Wt,At);break t;case 2:fo=!0}}At=X.callback,At!==null&&(s.flags|=64,Ct&&(s.flags|=8192),Ct=A.callbacks,Ct===null?A.callbacks=[At]:Ct.push(At))}else Ct={lane:At,tag:X.tag,payload:X.payload,callback:X.callback,next:null},kt===null?(Mt=kt=Ct,at=Wt):kt=kt.next=Ct,j|=At;if(X=X.next,X===null){if(X=A.shared.pending,X===null)break;Ct=X,X=Ct.next,Ct.next=null,A.lastBaseUpdate=Ct,A.shared.pending=null}}while(!0);kt===null&&(at=Wt),A.baseState=at,A.firstBaseUpdate=Mt,A.lastBaseUpdate=kt,C===null&&(A.shared.lanes=0),hs|=j,s.lanes=j,s.memoizedState=Wt}}function rc(s,u){if(typeof s!="function")throw Error(i(191,s));s.call(u)}function m0(s,u){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)rc(p[s],u)}var ac=et(null),yd=et(0);function v0(s,u){s=Fa,mt(yd,s),mt(ac,u),Fa=s|u.baseLanes}function ev(){mt(yd,Fa),mt(ac,ac.current)}function Lf(){Fa=yd.current,ot(ac),ot(yd)}var po=0,Ze=null,Un=null,Di=null,bd=!1,nl=!1,Dr=!1,Bi=0,La=0,or=null,g0=0;function _i(){throw Error(i(321))}function yr(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!Vr(s[p],u[p]))return!1;return!0}function mo(s,u,p,g,A,C){return po=C,Ze=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=s===null||s.memoizedState===null?Od:gv,Dr=!1,C=p(g,A),Dr=!1,nl&&(C=b0(u,p,g,A)),y0(s),C}function y0(s){H.H=zf;var u=Un!==null&&Un.next!==null;if(po=0,Di=Un=Ze=null,bd=!1,La=0,or=null,u)throw Error(i(300));s===null||Yi||(s=s.dependencies,s!==null&&wf(s)&&(Yi=!0))}function b0(s,u,p,g){Ze=s;var A=0;do{if(nl&&(or=null),La=0,nl=!1,25<=A)throw Error(i(301));if(A+=1,Di=Un=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}H.H=k0,C=u(p,g)}while(nl);return C}function L1(){var s=H.H,u=s.useState()[0];return u=typeof u.then=="function"?as(u):u,s=s.useState()[0],(Un!==null?Un.memoizedState:null)!==s&&(Ze.flags|=1024),u}function nv(){var s=Bi!==0;return Bi=0,s}function _d(s,u,p){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~p}function iv(s){if(bd){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}bd=!1}po=0,Di=Un=Ze=null,nl=!1,La=Bi=0,or=null}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Di===null?Ze.memoizedState=Di=s:Di=Di.next=s,Di}function Ni(){if(Un===null){var s=Ze.alternate;s=s!==null?s.memoizedState:null}else s=Un.next;var u=Di===null?Ze.memoizedState:Di.next;if(u!==null)Di=u,Un=s;else{if(s===null)throw Ze.alternate===null?Error(i(467)):Error(i(310));Un=s,s={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Di===null?Ze.memoizedState=Di=s:Di=Di.next=s}return Di}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function as(s){var u=La;return La+=1,or===null&&(or=[]),s=gd(or,s,u),u=Ze,(Di===null?u.memoizedState:Di.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?Od:gv),s}function xd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return as(s);if(s.$$typeof===O)return pi(s)}throw Error(i(438,String(s)))}function rv(s){var u=null,p=Ze.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var g=Ze.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=il(),Ze.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(s),g=0;g<s;g++)p[g]=B;return u.index++,p}function vo(s,u){return typeof u=="function"?u(s):u}function rl(s){var u=Ni();return av(u,Un,s)}function av(s,u,p){var g=s.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=p;var A=s.baseQueue,C=g.pending;if(C!==null){if(A!==null){var j=A.next;A.next=C.next,C.next=j}u.baseQueue=A=C,g.pending=null}if(C=s.baseState,A===null)s.memoizedState=C;else{u=A.next;var X=j=null,at=null,Mt=u,kt=!1;do{var Wt=Mt.lane&-536870913;if(Wt!==Mt.lane?(Pe&Wt)===Wt:(po&Wt)===Wt){var At=Mt.revertLane;if(At===0)at!==null&&(at=at.next={lane:0,revertLane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),Wt===We&&(kt=!0);else if((po&At)===At){Mt=Mt.next,At===We&&(kt=!0);continue}else Wt={lane:0,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},at===null?(X=at=Wt,j=C):at=at.next=Wt,Ze.lanes|=At,hs|=At;Wt=Mt.action,Dr&&p(C,Wt),C=Mt.hasEagerState?Mt.eagerState:p(C,Wt)}else At={lane:Wt,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},at===null?(X=at=At,j=C):at=at.next=At,Ze.lanes|=Wt,hs|=Wt;Mt=Mt.next}while(Mt!==null&&Mt!==u);if(at===null?j=C:at.next=X,!Vr(C,s.memoizedState)&&(Yi=!0,kt&&(p=tc,p!==null)))throw p;s.memoizedState=C,s.baseState=j,s.baseQueue=at,g.lastRenderedState=C}return A===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function sv(s){var u=Ni(),p=u.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=s;var g=p.dispatch,A=p.pending,C=u.memoizedState;if(A!==null){p.pending=null;var j=A=A.next;do C=s(C,j.action),j=j.next;while(j!==A);Vr(C,u.memoizedState)||(Yi=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),p.lastRenderedState=C}return[C,g]}function _0(s,u,p){var g=Ze,A=Ni(),C=Mn;if(C){if(p===void 0)throw Error(i(407));p=p()}else p=u();var j=!Vr((Un||A).memoizedState,p);j&&(A.memoizedState=p,Yi=!0),A=A.queue;var X=S0.bind(null,g,A,s);if(lc(2048,8,X,[s]),A.getSnapshot!==u||j||Di!==null&&Di.memoizedState.tag&1){if(g.flags|=2048,oc(9,If(),x0.bind(null,g,A,p,u),null),Xe===null)throw Error(i(349));C||(po&124)!==0||sc(g,u,p)}return p}function sc(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=Ze.updateQueue,u===null?(u=il(),Ze.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function x0(s,u,p,g){u.value=p,u.getSnapshot=g,M0(u)&&E0(s)}function S0(s,u,p){return p(function(){M0(u)&&E0(s)})}function M0(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!Vr(s,p)}catch{return!0}}function E0(s){var u=oo(s,2);u!==null&&Lr(u,s,2)}function ov(s){var u=Nr();if(typeof s=="function"){var p=s;if(s=p(),Dr){te(!0);try{p()}finally{te(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:s},u}function A0(s,u,p,g){return s.baseState=p,av(s,Un,typeof g=="function"?g:vo)}function I1(s,u,p,g,A){if(wd(s))throw Error(i(485));if(s=u.action,s!==null){var C={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){C.listeners.push(j)}};H.T!==null?p(!0):C.isTransition=!1,g(C),p=u.pending,p===null?(C.next=u.pending=C,T0(u,C)):(C.next=p.next,u.pending=p.next=C)}}function T0(s,u){var p=u.action,g=u.payload,A=s.state;if(u.isTransition){var C=H.T,j={};H.T=j;try{var X=p(A,g),at=H.S;at!==null&&at(j,X),w0(s,u,X)}catch(Mt){lv(s,u,Mt)}finally{H.T=C}}else try{C=p(A,g),w0(s,u,C)}catch(Mt){lv(s,u,Mt)}}function w0(s,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){O0(s,u,g)},function(g){return lv(s,u,g)}):O0(s,u,p)}function O0(s,u,p){u.status="fulfilled",u.value=p,C0(u),s.state=p,u=s.pending,u!==null&&(p=u.next,p===u?s.pending=null:(p=p.next,u.next=p,T0(s,p)))}function lv(s,u,p){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=p,C0(u),u=u.next;while(u!==g)}s.action=null}function C0(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function uv(s,u){return u}function R0(s,u){if(Mn){var p=Xe.formState;if(p!==null){t:{var g=Ze;if(Mn){if(fi){e:{for(var A=fi,C=ua;A.nodeType!==8;){if(!C){A=null;break e}if(A=Mo(A.nextSibling),A===null){A=null;break e}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){fi=Mo(A.nextSibling),g=A.data==="F!";break t}}Qo(g)}g=!1}g&&(u=p[0])}}return p=Nr(),p.memoizedState=p.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:u},p.queue=g,p=G0.bind(null,Ze,g),g.dispatch=p,g=ov(!1),C=Td.bind(null,Ze,!1,g.queue),g=Nr(),A={state:u,dispatch:null,action:s,pending:null},g.queue=A,p=I1.bind(null,Ze,A,C,p),A.dispatch=p,g.memoizedState=s,[u,p,!1]}function D0(s){var u=Ni();return N0(u,Un,s)}function N0(s,u,p){if(u=av(s,u,uv)[0],s=rl(vo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=as(u)}catch(j){throw j===Nf?rs:j}else g=u;u=Ni();var A=u.queue,C=A.dispatch;return p!==u.memoizedState&&(Ze.flags|=2048,oc(9,If(),B1.bind(null,A,p),null)),[g,C,s]}function B1(s,u){s.action=u}function P0(s){var u=Ni(),p=Un;if(p!==null)return N0(u,p,s);Ni(),u=u.memoizedState,p=Ni();var g=p.queue.dispatch;return p.memoizedState=s,[u,g,!1]}function oc(s,u,p,g){return s={tag:s,create:p,deps:g,inst:u,next:null},u=Ze.updateQueue,u===null&&(u=il(),Ze.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,u.lastEffect=s),s}function If(){return{destroy:void 0,resource:void 0}}function cv(){return Ni().memoizedState}function Sd(s,u,p,g){var A=Nr();g=g===void 0?null:g,Ze.flags|=s,A.memoizedState=oc(1|u,If(),p,g)}function lc(s,u,p,g){var A=Ni();g=g===void 0?null:g;var C=A.memoizedState.inst;Un!==null&&g!==null&&yr(g,Un.memoizedState.deps)?A.memoizedState=oc(u,C,p,g):(Ze.flags|=s,A.memoizedState=oc(1|u,C,p,g))}function fv(s,u){Sd(8390656,8,s,u)}function hv(s,u){lc(2048,8,s,u)}function Md(s,u){return lc(4,2,s,u)}function Ed(s,u){return lc(4,4,s,u)}function U0(s,u){if(typeof u=="function"){s=s();var p=u(s);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function L0(s,u,p){p=p!=null?p.concat([s]):null,lc(4,4,U0.bind(null,u,s),p)}function dv(){}function I0(s,u){var p=Ni();u=u===void 0?null:u;var g=p.memoizedState;return u!==null&&yr(u,g[1])?g[0]:(p.memoizedState=[s,u],s)}function pv(s,u){var p=Ni();u=u===void 0?null:u;var g=p.memoizedState;if(u!==null&&yr(u,g[1]))return g[0];if(g=s(),Dr){te(!0);try{s()}finally{te(!1)}}return p.memoizedState=[g,u],g}function Ad(s,u,p){return p===void 0||(po&1073741824)!==0?s.memoizedState=u:(s.memoizedState=p,s=Hd(),Ze.lanes|=s,hs|=s,p)}function B0(s,u,p,g){return Vr(p,u)?p:ac.current!==null?(s=Ad(s,p,g),Vr(s,u)||(Yi=!0),s):(po&42)===0?(Yi=!0,s.memoizedState=p):(s=Hd(),Ze.lanes|=s,hs|=s,u)}function z0(s,u,p,g,A){var C=q.p;q.p=C!==0&&8>C?C:8;var j=H.T,X={};H.T=X,Td(s,!1,u,p);try{var at=A(),Mt=H.S;if(Mt!==null&&Mt(X,at),at!==null&&typeof at=="object"&&typeof at.then=="function"){var kt=U1(at,g);Bf(s,u,kt,gi(s))}else Bf(s,u,g,gi(s))}catch(Wt){Bf(s,u,{then:function(){},status:"rejected",reason:Wt},gi())}finally{q.p=C,H.T=j}}function z1(){}function mv(s,u,p,g){if(s.tag!==5)throw Error(i(476));var A=H0(s).queue;z0(s,A,u,k,p===null?z1:function(){return F0(s),p(g)})}function H0(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:k},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:p},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function F0(s){var u=H0(s).next.queue;Bf(s,u,{},gi())}function vv(){return pi(Cv)}function j0(){return Ni().memoizedState}function V0(){return Ni().memoizedState}function H1(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var p=gi();s=Os(p);var g=ho(u,s,p);g!==null&&(Lr(g,u,p),Fl(g,u,p)),u={cache:dd()},s.payload=u;return}u=u.return}}function F1(s,u,p){var g=gi();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},wd(s)?q0(u,p):(p=ld(s,u,p,g),p!==null&&(Lr(p,s,g),fa(p,u,g)))}function G0(s,u,p){var g=gi();Bf(s,u,p,g)}function Bf(s,u,p,g){var A={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(wd(s))q0(u,A);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var j=u.lastRenderedState,X=C(j,p);if(A.hasEagerState=!0,A.eagerState=X,Vr(X,j))return Wo(s,u,A,0),Xe===null&&Sf(),!1}catch{}finally{}if(p=ld(s,u,A,g),p!==null)return Lr(p,s,g),fa(p,u,g),!0}return!1}function Td(s,u,p,g){if(g={lane:2,revertLane:G1(),action:g,hasEagerState:!1,eagerState:null,next:null},wd(s)){if(u)throw Error(i(479))}else u=ld(s,p,g,2),u!==null&&Lr(u,s,2)}function wd(s){var u=s.alternate;return s===Ze||u!==null&&u===Ze}function q0(s,u){nl=bd=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function fa(s,u,p){if((p&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,p|=g,u.lanes=p,Ce(s,p)}}var zf={readContext:pi,use:xd,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i,useHostTransitionStatus:_i,useFormState:_i,useActionState:_i,useOptimistic:_i,useMemoCache:_i,useCacheRefresh:_i},Od={readContext:pi,use:xd,useCallback:function(s,u){return Nr().memoizedState=[s,u===void 0?null:u],s},useContext:pi,useEffect:fv,useImperativeHandle:function(s,u,p){p=p!=null?p.concat([s]):null,Sd(4194308,4,U0.bind(null,u,s),p)},useLayoutEffect:function(s,u){return Sd(4194308,4,s,u)},useInsertionEffect:function(s,u){Sd(4,2,s,u)},useMemo:function(s,u){var p=Nr();u=u===void 0?null:u;var g=s();if(Dr){te(!0);try{s()}finally{te(!1)}}return p.memoizedState=[g,u],g},useReducer:function(s,u,p){var g=Nr();if(p!==void 0){var A=p(u);if(Dr){te(!0);try{p(u)}finally{te(!1)}}}else A=u;return g.memoizedState=g.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},g.queue=s,s=s.dispatch=F1.bind(null,Ze,s),[g.memoizedState,s]},useRef:function(s){var u=Nr();return s={current:s},u.memoizedState=s},useState:function(s){s=ov(s);var u=s.queue,p=G0.bind(null,Ze,u);return u.dispatch=p,[s.memoizedState,p]},useDebugValue:dv,useDeferredValue:function(s,u){var p=Nr();return Ad(p,s,u)},useTransition:function(){var s=ov(!1);return s=z0.bind(null,Ze,s.queue,!0,!1),Nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,p){var g=Ze,A=Nr();if(Mn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=u(),Xe===null)throw Error(i(349));(Pe&124)!==0||sc(g,u,p)}A.memoizedState=p;var C={value:p,getSnapshot:u};return A.queue=C,fv(S0.bind(null,g,C,s),[s]),g.flags|=2048,oc(9,If(),x0.bind(null,g,C,p,u),null),p},useId:function(){var s=Nr(),u=Xe.identifierPrefix;if(Mn){var p=Ts,g=As;p=(g&~(1<<32-ae(g)-1)).toString(32)+p,u="«"+u+"R"+p,p=Bi++,0<p&&(u+="H"+p.toString(32)),u+="»"}else p=g0++,u="«"+u+"r"+p.toString(32)+"»";return s.memoizedState=u},useHostTransitionStatus:vv,useFormState:R0,useActionState:R0,useOptimistic:function(s){var u=Nr();u.memoizedState=u.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=Td.bind(null,Ze,!0,p),p.dispatch=u,[s,u]},useMemoCache:rv,useCacheRefresh:function(){return Nr().memoizedState=H1.bind(null,Ze)}},gv={readContext:pi,use:xd,useCallback:I0,useContext:pi,useEffect:hv,useImperativeHandle:L0,useInsertionEffect:Md,useLayoutEffect:Ed,useMemo:pv,useReducer:rl,useRef:cv,useState:function(){return rl(vo)},useDebugValue:dv,useDeferredValue:function(s,u){var p=Ni();return B0(p,Un.memoizedState,s,u)},useTransition:function(){var s=rl(vo)[0],u=Ni().memoizedState;return[typeof s=="boolean"?s:as(s),u]},useSyncExternalStore:_0,useId:j0,useHostTransitionStatus:vv,useFormState:D0,useActionState:D0,useOptimistic:function(s,u){var p=Ni();return A0(p,Un,s,u)},useMemoCache:rv,useCacheRefresh:V0},k0={readContext:pi,use:xd,useCallback:I0,useContext:pi,useEffect:hv,useImperativeHandle:L0,useInsertionEffect:Md,useLayoutEffect:Ed,useMemo:pv,useReducer:sv,useRef:cv,useState:function(){return sv(vo)},useDebugValue:dv,useDeferredValue:function(s,u){var p=Ni();return Un===null?Ad(p,s,u):B0(p,Un.memoizedState,s,u)},useTransition:function(){var s=sv(vo)[0],u=Ni().memoizedState;return[typeof s=="boolean"?s:as(s),u]},useSyncExternalStore:_0,useId:j0,useHostTransitionStatus:vv,useFormState:P0,useActionState:P0,useOptimistic:function(s,u){var p=Ni();return Un!==null?A0(p,Un,s,u):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:rv,useCacheRefresh:V0},jl=null,Hf=0;function Ff(s){var u=Hf;return Hf+=1,jl===null&&(jl=[]),gd(jl,s,u)}function uc(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function Cd(s,u){throw u.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(u),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function X0(s){var u=s._init;return u(s._payload)}function Y0(s){function u(vt,ft){if(s){var xt=vt.deletions;xt===null?(vt.deletions=[ft],vt.flags|=16):xt.push(ft)}}function p(vt,ft){if(!s)return null;for(;ft!==null;)u(vt,ft),ft=ft.sibling;return null}function g(vt){for(var ft=new Map;vt!==null;)vt.key!==null?ft.set(vt.key,vt):ft.set(vt.index,vt),vt=vt.sibling;return ft}function A(vt,ft){return vt=bi(vt,ft),vt.index=0,vt.sibling=null,vt}function C(vt,ft,xt){return vt.index=xt,s?(xt=vt.alternate,xt!==null?(xt=xt.index,xt<ft?(vt.flags|=67108866,ft):xt):(vt.flags|=67108866,ft)):(vt.flags|=1048576,ft)}function j(vt){return s&&vt.alternate===null&&(vt.flags|=67108866),vt}function X(vt,ft,xt,Yt){return ft===null||ft.tag!==6?(ft=Ef(xt,vt.mode,Yt),ft.return=vt,ft):(ft=A(ft,xt),ft.return=vt,ft)}function at(vt,ft,xt,Yt){var Ae=xt.type;return Ae===S?kt(vt,ft,xt.props.children,Yt,xt.key):ft!==null&&(ft.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===z&&X0(Ae)===ft.type)?(ft=A(ft,xt.props),uc(ft,xt),ft.return=vt,ft):(ft=Xi(xt.type,xt.key,xt.props,null,vt.mode,Yt),uc(ft,xt),ft.return=vt,ft)}function Mt(vt,ft,xt,Yt){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==xt.containerInfo||ft.stateNode.implementation!==xt.implementation?(ft=ud(xt,vt.mode,Yt),ft.return=vt,ft):(ft=A(ft,xt.children||[]),ft.return=vt,ft)}function kt(vt,ft,xt,Yt,Ae){return ft===null||ft.tag!==7?(ft=Ko(xt,vt.mode,Yt,Ae),ft.return=vt,ft):(ft=A(ft,xt),ft.return=vt,ft)}function Wt(vt,ft,xt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ft=Ef(""+ft,vt.mode,xt),ft.return=vt,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case y:return xt=Xi(ft.type,ft.key,ft.props,null,vt.mode,xt),uc(xt,ft),xt.return=vt,xt;case _:return ft=ud(ft,vt.mode,xt),ft.return=vt,ft;case z:var Yt=ft._init;return ft=Yt(ft._payload),Wt(vt,ft,xt)}if(J(ft)||K(ft))return ft=Ko(ft,vt.mode,xt,null),ft.return=vt,ft;if(typeof ft.then=="function")return Wt(vt,Ff(ft),xt);if(ft.$$typeof===O)return Wt(vt,Of(vt,ft),xt);Cd(vt,ft)}return null}function At(vt,ft,xt,Yt){var Ae=ft!==null?ft.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return Ae!==null?null:X(vt,ft,""+xt,Yt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case y:return xt.key===Ae?at(vt,ft,xt,Yt):null;case _:return xt.key===Ae?Mt(vt,ft,xt,Yt):null;case z:return Ae=xt._init,xt=Ae(xt._payload),At(vt,ft,xt,Yt)}if(J(xt)||K(xt))return Ae!==null?null:kt(vt,ft,xt,Yt,null);if(typeof xt.then=="function")return At(vt,ft,Ff(xt),Yt);if(xt.$$typeof===O)return At(vt,ft,Of(vt,xt),Yt);Cd(vt,xt)}return null}function Ct(vt,ft,xt,Yt,Ae){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return vt=vt.get(xt)||null,X(ft,vt,""+Yt,Ae);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case y:return vt=vt.get(Yt.key===null?xt:Yt.key)||null,at(ft,vt,Yt,Ae);case _:return vt=vt.get(Yt.key===null?xt:Yt.key)||null,Mt(ft,vt,Yt,Ae);case z:var pn=Yt._init;return Yt=pn(Yt._payload),Ct(vt,ft,xt,Yt,Ae)}if(J(Yt)||K(Yt))return vt=vt.get(xt)||null,kt(ft,vt,Yt,Ae,null);if(typeof Yt.then=="function")return Ct(vt,ft,xt,Ff(Yt),Ae);if(Yt.$$typeof===O)return Ct(vt,ft,xt,Of(ft,Yt),Ae);Cd(ft,Yt)}return null}function qe(vt,ft,xt,Yt){for(var Ae=null,pn=null,Re=ft,Fe=ft=0,xr=null;Re!==null&&Fe<xt.length;Fe++){Re.index>Fe?(xr=Re,Re=null):xr=Re.sibling;var Nn=At(vt,Re,xt[Fe],Yt);if(Nn===null){Re===null&&(Re=xr);break}s&&Re&&Nn.alternate===null&&u(vt,Re),ft=C(Nn,ft,Fe),pn===null?Ae=Nn:pn.sibling=Nn,pn=Nn,Re=xr}if(Fe===xt.length)return p(vt,Re),Mn&&lo(vt,Fe),Ae;if(Re===null){for(;Fe<xt.length;Fe++)Re=Wt(vt,xt[Fe],Yt),Re!==null&&(ft=C(Re,ft,Fe),pn===null?Ae=Re:pn.sibling=Re,pn=Re);return Mn&&lo(vt,Fe),Ae}for(Re=g(Re);Fe<xt.length;Fe++)xr=Ct(Re,vt,Fe,xt[Fe],Yt),xr!==null&&(s&&xr.alternate!==null&&Re.delete(xr.key===null?Fe:xr.key),ft=C(xr,ft,Fe),pn===null?Ae=xr:pn.sibling=xr,pn=xr);return s&&Re.forEach(function(Tc){return u(vt,Tc)}),Mn&&lo(vt,Fe),Ae}function He(vt,ft,xt,Yt){if(xt==null)throw Error(i(151));for(var Ae=null,pn=null,Re=ft,Fe=ft=0,xr=null,Nn=xt.next();Re!==null&&!Nn.done;Fe++,Nn=xt.next()){Re.index>Fe?(xr=Re,Re=null):xr=Re.sibling;var Tc=At(vt,Re,Nn.value,Yt);if(Tc===null){Re===null&&(Re=xr);break}s&&Re&&Tc.alternate===null&&u(vt,Re),ft=C(Tc,ft,Fe),pn===null?Ae=Tc:pn.sibling=Tc,pn=Tc,Re=xr}if(Nn.done)return p(vt,Re),Mn&&lo(vt,Fe),Ae;if(Re===null){for(;!Nn.done;Fe++,Nn=xt.next())Nn=Wt(vt,Nn.value,Yt),Nn!==null&&(ft=C(Nn,ft,Fe),pn===null?Ae=Nn:pn.sibling=Nn,pn=Nn);return Mn&&lo(vt,Fe),Ae}for(Re=g(Re);!Nn.done;Fe++,Nn=xt.next())Nn=Ct(Re,vt,Fe,Nn.value,Yt),Nn!==null&&(s&&Nn.alternate!==null&&Re.delete(Nn.key===null?Fe:Nn.key),ft=C(Nn,ft,Fe),pn===null?Ae=Nn:pn.sibling=Nn,pn=Nn);return s&&Re.forEach(function(Z8){return u(vt,Z8)}),Mn&&lo(vt,Fe),Ae}function ti(vt,ft,xt,Yt){if(typeof xt=="object"&&xt!==null&&xt.type===S&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case y:t:{for(var Ae=xt.key;ft!==null;){if(ft.key===Ae){if(Ae=xt.type,Ae===S){if(ft.tag===7){p(vt,ft.sibling),Yt=A(ft,xt.props.children),Yt.return=vt,vt=Yt;break t}}else if(ft.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===z&&X0(Ae)===ft.type){p(vt,ft.sibling),Yt=A(ft,xt.props),uc(Yt,xt),Yt.return=vt,vt=Yt;break t}p(vt,ft);break}else u(vt,ft);ft=ft.sibling}xt.type===S?(Yt=Ko(xt.props.children,vt.mode,Yt,xt.key),Yt.return=vt,vt=Yt):(Yt=Xi(xt.type,xt.key,xt.props,null,vt.mode,Yt),uc(Yt,xt),Yt.return=vt,vt=Yt)}return j(vt);case _:t:{for(Ae=xt.key;ft!==null;){if(ft.key===Ae)if(ft.tag===4&&ft.stateNode.containerInfo===xt.containerInfo&&ft.stateNode.implementation===xt.implementation){p(vt,ft.sibling),Yt=A(ft,xt.children||[]),Yt.return=vt,vt=Yt;break t}else{p(vt,ft);break}else u(vt,ft);ft=ft.sibling}Yt=ud(xt,vt.mode,Yt),Yt.return=vt,vt=Yt}return j(vt);case z:return Ae=xt._init,xt=Ae(xt._payload),ti(vt,ft,xt,Yt)}if(J(xt))return qe(vt,ft,xt,Yt);if(K(xt)){if(Ae=K(xt),typeof Ae!="function")throw Error(i(150));return xt=Ae.call(xt),He(vt,ft,xt,Yt)}if(typeof xt.then=="function")return ti(vt,ft,Ff(xt),Yt);if(xt.$$typeof===O)return ti(vt,ft,Of(vt,xt),Yt);Cd(vt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,ft!==null&&ft.tag===6?(p(vt,ft.sibling),Yt=A(ft,xt),Yt.return=vt,vt=Yt):(p(vt,ft),Yt=Ef(xt,vt.mode,Yt),Yt.return=vt,vt=Yt),j(vt)):p(vt,ft)}return function(vt,ft,xt,Yt){try{Hf=0;var Ae=ti(vt,ft,xt,Yt);return jl=null,Ae}catch(Re){if(Re===Nf||Re===rs)throw Re;var pn=kr(29,Re,null,vt.mode);return pn.lanes=Yt,pn.return=vt,pn}finally{}}}var Vl=Y0(!0),W0=Y0(!1),kn=et(null),ss=null;function al(s){var u=s.alternate;mt(xi,xi.current&1),mt(kn,s),ss===null&&(u===null||ac.current!==null||u.memoizedState!==null)&&(ss=s)}function Z0(s){if(s.tag===22){if(mt(xi,xi.current),mt(kn,s),ss===null){var u=s.alternate;u!==null&&u.memoizedState!==null&&(ss=s)}}else sl()}function sl(){mt(xi,xi.current),mt(kn,kn.current)}function Cs(s){ot(kn),ss===s&&(ss=null),ot(xi)}var xi=et(0);function go(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||eM(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function ol(s,u,p,g){u=s.memoizedState,p=p(g,u),p=p==null?u:m({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Pr={enqueueSetState:function(s,u,p){s=s._reactInternals;var g=gi(),A=Os(g);A.payload=u,p!=null&&(A.callback=p),u=ho(s,A,g),u!==null&&(Lr(u,s,g),Fl(u,s,g))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var g=gi(),A=Os(g);A.tag=1,A.payload=u,p!=null&&(A.callback=p),u=ho(s,A,g),u!==null&&(Lr(u,s,g),Fl(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=gi(),g=Os(p);g.tag=2,u!=null&&(g.callback=u),u=ho(s,g,p),u!==null&&(Lr(u,s,p),Fl(u,s,p))}};function K0(s,u,p,g,A,C,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,C,j):u.prototype&&u.prototype.isPureReactComponent?!ns(p,g)||!ns(A,C):!0}function $0(s,u,p,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,g),u.state!==s&&Pr.enqueueReplaceState(u,u.state,null)}function Rs(s,u){var p=u;if("ref"in u){p={};for(var g in u)g!=="ref"&&(p[g]=u[g])}if(s=s.defaultProps){p===u&&(p=m({},p));for(var A in s)p[A]===void 0&&(p[A]=s[A])}return p}var Gl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function jf(s){Gl(s)}function Rd(s){console.error(s)}function Q0(s){Gl(s)}function Dd(s,u){try{var p=s.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function Ia(s,u,p){try{var g=s.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Nd(s,u,p){return p=Os(p),p.tag=3,p.payload={element:null},p.callback=function(){Dd(s,u)},p}function J0(s){return s=Os(s),s.tag=3,s}function Pd(s,u,p,g){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var C=g.value;s.payload=function(){return A(C)},s.callback=function(){Ia(u,p,g)}}var j=p.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){Ia(u,p,g),typeof A!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var X=g.stack;this.componentDidCatch(g.value,{componentStack:X!==null?X:""})})}function j1(s,u,p,g,A){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=p.alternate,u!==null&&Na(u,p,A,!0),p=kn.current,p!==null){switch(p.tag){case 13:return ss===null?f():p.alternate===null&&ii===0&&(ii=3),p.flags&=-257,p.flags|=65536,p.lanes=A,g===Pf?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([g]):u.add(g),Rt(s,g,A)),!1;case 22:return p.flags|=65536,g===Pf?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([g]):p.add(g)),Rt(s,g,A)),!1}throw Error(i(435,p.tag))}return Rt(s,g,A),f(),!1}if(Mn)return u=kn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,g!==fd&&(s=Error(i(422),{cause:g}),Hl(ar(s,p)))):(g!==fd&&(u=Error(i(423),{cause:g}),Hl(ar(u,p))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,g=ar(g,p),A=Nd(s.stateNode,g,A),nc(s,A),ii!==4&&(ii=2)),!1;var C=Error(i(520),{cause:g});if(C=ar(C,p),Dn===null?Dn=[C]:Dn.push(C),ii!==4&&(ii=2),u===null)return!0;g=ar(g,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,s=A&-A,p.lanes|=s,s=Nd(p.stateNode,g,s),nc(p,s),!1;case 1:if(u=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ba===null||!ba.has(C))))return p.flags|=65536,A&=-A,p.lanes|=A,A=J0(A),Pd(A,s,p,g),nc(p,A),!1}p=p.return}while(p!==null);return!1}var tb=Error(i(461)),Yi=!1;function Si(s,u,p,g){u.child=s===null?W0(u,null,p,g):Vl(u,s.child,p,g)}function Yr(s,u,p,g,A){p=p.render;var C=u.ref;if("ref"in g){var j={};for(var X in g)X!=="ref"&&(j[X]=g[X])}else j=g;return ws(u),g=mo(s,u,p,j,C,A),X=nv(),s!==null&&!Yi?(_d(s,u,A),Wi(s,u,A)):(Mn&&X&&km(u),u.flags|=1,Si(s,u,g,A),u.child)}function Wr(s,u,p,g,A){if(s===null){var C=p.type;return typeof C=="function"&&!Mf(C)&&C.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=C,yv(s,u,C,g,A)):(s=Xi(p.type,null,g,u,u.mode,A),s.ref=u.ref,s.return=u,u.child=s)}if(C=s.child,!Vf(s,A)){var j=C.memoizedProps;if(p=p.compare,p=p!==null?p:ns,p(j,g)&&s.ref===u.ref)return Wi(s,u,A)}return u.flags|=1,s=bi(C,g),s.ref=u.ref,s.return=u,u.child=s}function yv(s,u,p,g,A){if(s!==null){var C=s.memoizedProps;if(ns(C,g)&&s.ref===u.ref)if(Yi=!1,u.pendingProps=g=C,Vf(s,A))(s.flags&131072)!==0&&(Yi=!0);else return u.lanes=s.lanes,Wi(s,u,A)}return cc(s,u,p,g,A)}function ql(s,u,p){var g=u.pendingProps,A=g.children,C=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=C!==null?C.baseLanes|p:p,s!==null){for(A=u.child=s.child,C=0;A!==null;)C=C|A.lanes|A.childLanes,A=A.sibling;u.childLanes=C&~g}else u.childLanes=0,u.child=null;return kl(s,u,g,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&Df(u,C!==null?C.cachePool:null),C!==null?v0(u,C):ev(),Z0(u);else return u.lanes=u.childLanes=536870912,kl(s,u,C!==null?C.baseLanes|p:p,p)}else C!==null?(Df(u,C.cachePool),v0(u,C),sl(),u.memoizedState=null):(s!==null&&Df(u,null),ev(),sl());return Si(s,u,A,p),u.child}function kl(s,u,p,g){var A=el();return A=A===null?null:{parent:Ri._currentValue,pool:A},u.memoizedState={baseLanes:p,cachePool:A},s!==null&&Df(u,null),ev(),Z0(u),s!==null&&Na(s,u,g,!0),null}function Xl(s,u){var p=u.ref;if(p===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(s===null||s.ref!==p)&&(u.flags|=4194816)}}function cc(s,u,p,g,A){return ws(u),p=mo(s,u,p,g,void 0,A),g=nv(),s!==null&&!Yi?(_d(s,u,A),Wi(s,u,A)):(Mn&&g&&km(u),u.flags|=1,Si(s,u,p,A),u.child)}function ha(s,u,p,g,A,C){return ws(u),u.updateQueue=null,p=b0(u,g,p,A),y0(s),g=nv(),s!==null&&!Yi?(_d(s,u,C),Wi(s,u,C)):(Mn&&g&&km(u),u.flags|=1,Si(s,u,p,C),u.child)}function da(s,u,p,g,A){if(ws(u),u.stateNode===null){var C=Zo,j=p.contextType;typeof j=="object"&&j!==null&&(C=pi(j)),C=new p(g,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Pr,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=g,C.state=u.memoizedState,C.refs={},Jm(u),j=p.contextType,C.context=typeof j=="object"&&j!==null?pi(j):Zo,C.state=u.memoizedState,j=p.getDerivedStateFromProps,typeof j=="function"&&(ol(u,p,j,g),C.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(j=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),j!==C.state&&Pr.enqueueReplaceState(C,C.state,null),ic(u,g,C,A),Uf(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){C=u.stateNode;var X=u.memoizedProps,at=Rs(p,X);C.props=at;var Mt=C.context,kt=p.contextType;j=Zo,typeof kt=="object"&&kt!==null&&(j=pi(kt));var Wt=p.getDerivedStateFromProps;kt=typeof Wt=="function"||typeof C.getSnapshotBeforeUpdate=="function",X=u.pendingProps!==X,kt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(X||Mt!==j)&&$0(u,C,g,j),fo=!1;var At=u.memoizedState;C.state=At,ic(u,g,C,A),Uf(),Mt=u.memoizedState,X||At!==Mt||fo?(typeof Wt=="function"&&(ol(u,p,Wt,g),Mt=u.memoizedState),(at=fo||K0(u,p,at,g,At,Mt,j))?(kt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=Mt),C.props=g,C.state=Mt,C.context=j,g=at):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,Ve(s,u),j=u.memoizedProps,kt=Rs(p,j),C.props=kt,Wt=u.pendingProps,At=C.context,Mt=p.contextType,at=Zo,typeof Mt=="object"&&Mt!==null&&(at=pi(Mt)),X=p.getDerivedStateFromProps,(Mt=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==Wt||At!==at)&&$0(u,C,g,at),fo=!1,At=u.memoizedState,C.state=At,ic(u,g,C,A),Uf();var Ct=u.memoizedState;j!==Wt||At!==Ct||fo||s!==null&&s.dependencies!==null&&wf(s.dependencies)?(typeof X=="function"&&(ol(u,p,X,g),Ct=u.memoizedState),(kt=fo||K0(u,p,kt,g,At,Ct,at)||s!==null&&s.dependencies!==null&&wf(s.dependencies))?(Mt||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Ct,at),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Ct,at)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&At===s.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&At===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Ct),C.props=g,C.state=Ct,C.context=at,g=kt):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&At===s.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&At===s.memoizedState||(u.flags|=1024),g=!1)}return C=g,Xl(s,u),g=(u.flags&128)!==0,C||g?(C=u.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,s!==null&&g?(u.child=Vl(u,s.child,null,A),u.child=Vl(u,null,p,A)):Si(s,u,p,A),u.memoizedState=C.state,s=u.child):s=Wi(s,u,A),s}function ll(s,u,p,g){return $u(),u.flags|=256,Si(s,u,p,g),u.child}var os={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ls(s){return{baseLanes:s,cachePool:md()}}function zi(s,u,p){return s=s!==null?s.childLanes&~p:0,u&&(s|=ja),s}function fc(s,u,p){var g=u.pendingProps,A=!1,C=(u.flags&128)!==0,j;if((j=C)||(j=s!==null&&s.memoizedState===null?!1:(xi.current&2)!==0),j&&(A=!0,u.flags&=-129),j=(u.flags&32)!==0,u.flags&=-33,s===null){if(Mn){if(A?al(u):sl(),Mn){var X=fi,at;if(at=X){t:{for(at=X,X=ua;at.nodeType!==8;){if(!X){X=null;break t}if(at=Mo(at.nextSibling),at===null){X=null;break t}}X=at}X!==null?(u.memoizedState={dehydrated:X,treeContext:$o!==null?{id:As,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},at=kr(18,null,null,0),at.stateNode=X,at.return=u,u.child=at,Rr=u,fi=null,at=!0):at=!1}at||Qo(u)}if(X=u.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return eM(X)?u.lanes=32:u.lanes=536870912,null;Cs(u)}return X=g.children,g=g.fallback,A?(sl(),A=u.mode,X=Yl({mode:"hidden",children:X},A),g=Ko(g,A,p,null),X.return=u,g.return=u,X.sibling=g,u.child=X,A=u.child,A.memoizedState=ls(p),A.childLanes=zi(s,j,p),u.memoizedState=os,g):(al(u),Ds(u,X))}if(at=s.memoizedState,at!==null&&(X=at.dehydrated,X!==null)){if(C)u.flags&256?(al(u),u.flags&=-257,u=lr(s,u,p)):u.memoizedState!==null?(sl(),u.child=s.child,u.flags|=128,u=null):(sl(),A=g.fallback,X=u.mode,g=Yl({mode:"visible",children:g.children},X),A=Ko(A,X,p,null),A.flags|=2,g.return=u,A.return=u,g.sibling=A,u.child=g,Vl(u,s.child,null,p),g=u.child,g.memoizedState=ls(p),g.childLanes=zi(s,j,p),u.memoizedState=os,u=A);else if(al(u),eM(X)){if(j=X.nextSibling&&X.nextSibling.dataset,j)var Mt=j.dgst;j=Mt,g=Error(i(419)),g.stack="",g.digest=j,Hl({value:g,source:null,stack:null}),u=lr(s,u,p)}else if(Yi||Na(s,u,p,!1),j=(p&s.childLanes)!==0,Yi||j){if(j=Xe,j!==null&&(g=p&-p,g=(g&42)!==0?1:rn(g),g=(g&(j.suspendedLanes|p))!==0?0:g,g!==0&&g!==at.retryLane))throw at.retryLane=g,oo(s,g),Lr(j,s,g),tb;X.data==="$?"||f(),u=lr(s,u,p)}else X.data==="$?"?(u.flags|=192,u.child=s.child,u=null):(s=at.treeContext,fi=Mo(X.nextSibling),Rr=u,Mn=!0,Da=null,ua=!1,s!==null&&(sr[la++]=As,sr[la++]=Ts,sr[la++]=$o,As=s.id,Ts=s.overflow,$o=u),u=Ds(u,g.children),u.flags|=4096);return u}return A?(sl(),A=g.fallback,X=u.mode,at=s.child,Mt=at.sibling,g=bi(at,{mode:"hidden",children:g.children}),g.subtreeFlags=at.subtreeFlags&65011712,Mt!==null?A=bi(Mt,A):(A=Ko(A,X,p,null),A.flags|=2),A.return=u,g.return=u,g.sibling=A,u.child=g,g=A,A=u.child,X=s.child.memoizedState,X===null?X=ls(p):(at=X.cachePool,at!==null?(Mt=Ri._currentValue,at=at.parent!==Mt?{parent:Mt,pool:Mt}:at):at=md(),X={baseLanes:X.baseLanes|p,cachePool:at}),A.memoizedState=X,A.childLanes=zi(s,j,p),u.memoizedState=os,g):(al(u),p=s.child,s=p.sibling,p=bi(p,{mode:"visible",children:g.children}),p.return=u,p.sibling=null,s!==null&&(j=u.deletions,j===null?(u.deletions=[s],u.flags|=16):j.push(s)),u.child=p,u.memoizedState=null,p)}function Ds(s,u){return u=Yl({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Yl(s,u){return s=kr(22,s,null,u),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function lr(s,u,p){return Vl(u,s.child,null,p),s=Ds(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function ur(s,u,p){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Zm(s.return,u,p)}function yn(s,u,p,g,A){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:A}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=p,C.tailMode=A)}function Ba(s,u,p){var g=u.pendingProps,A=g.revealOrder,C=g.tail;if(Si(s,u,g.children,p),g=xi.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ur(s,p,u);else if(s.tag===19)ur(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break t;for(;s.sibling===null;){if(s.return===null||s.return===u)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(mt(xi,g),A){case"forwards":for(p=u.child,A=null;p!==null;)s=p.alternate,s!==null&&go(s)===null&&(A=p),p=p.sibling;p=A,p===null?(A=u.child,u.child=null):(A=p.sibling,p.sibling=null),yn(u,!1,A,p,C);break;case"backwards":for(p=null,A=u.child,u.child=null;A!==null;){if(s=A.alternate,s!==null&&go(s)===null){u.child=A;break}s=A.sibling,A.sibling=p,p=A,A=s}yn(u,!0,p,null,C);break;case"together":yn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wi(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),hs|=u.lanes,(p&u.childLanes)===0)if(s!==null){if(Na(s,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(i(153));if(u.child!==null){for(s=u.child,p=bi(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=bi(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function Vf(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&wf(s)))}function za(s,u,p){switch(u.tag){case 3:$t(u,u.stateNode.containerInfo),tl(u,Ri,s.memoizedState.cache),$u();break;case 27:case 5:Qt(u);break;case 4:$t(u,u.stateNode.containerInfo);break;case 10:tl(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(al(u),u.flags|=128,null):(p&u.child.childLanes)!==0?fc(s,u,p):(al(u),s=Wi(s,u,p),s!==null?s.sibling:null);al(u);break;case 19:var A=(s.flags&128)!==0;if(g=(p&u.childLanes)!==0,g||(Na(s,u,p,!1),g=(p&u.childLanes)!==0),A){if(g)return Ba(s,u,p);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),mt(xi,xi.current),g)break;return null;case 22:case 23:return u.lanes=0,ql(s,u,p);case 24:tl(u,Ri,s.memoizedState.cache)}return Wi(s,u,p)}function Wl(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps)Yi=!0;else{if(!Vf(s,p)&&(u.flags&128)===0)return Yi=!1,za(s,u,p);Yi=(s.flags&131072)!==0}else Yi=!1,Mn&&(u.flags&1048576)!==0&&cd(u,Ku,u.index);switch(u.lanes=0,u.tag){case 16:t:{s=u.pendingProps;var g=u.elementType,A=g._init;if(g=A(g._payload),u.type=g,typeof g=="function")Mf(g)?(s=Rs(g,s),u.tag=1,u=da(null,u,g,s,p)):(u.tag=0,u=cc(null,u,g,s,p));else{if(g!=null){if(A=g.$$typeof,A===R){u.tag=11,u=Yr(null,u,g,s,p);break t}else if(A===U){u.tag=14,u=Wr(null,u,g,s,p);break t}}throw u=tt(g)||g,Error(i(306,u,""))}}return u;case 0:return cc(s,u,u.type,u.pendingProps,p);case 1:return g=u.type,A=Rs(g,u.pendingProps),da(s,u,g,A,p);case 3:t:{if($t(u,u.stateNode.containerInfo),s===null)throw Error(i(387));g=u.pendingProps;var C=u.memoizedState;A=C.element,Ve(s,u),ic(u,g,null,p);var j=u.memoizedState;if(g=j.cache,tl(u,Ri,g),g!==C.cache&&Tf(u,[Ri],p,!0),Uf(),g=j.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:j.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=ll(s,u,g,p);break t}else if(g!==A){A=ar(Error(i(424)),u),Hl(A),u=ll(s,u,g,p);break t}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(fi=Mo(s.firstChild),Rr=u,Mn=!0,Da=null,ua=!0,p=W0(u,null,g,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if($u(),g===A){u=Wi(s,u,p);break t}Si(s,u,g,p)}u=u.child}return u;case 26:return Xl(s,u),s===null?(p=xD(u.type,null,u.pendingProps,null))?u.memoizedState=p:Mn||(p=u.type,s=u.pendingProps,g=sb(Ut.current).createElement(p),g[wi]=u,g[Ii]=s,Ir(g,p,s),Oi(g),u.stateNode=g):u.memoizedState=xD(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Qt(u),s===null&&Mn&&(g=u.stateNode=yD(u.type,u.pendingProps,Ut.current),Rr=u,ua=!0,A=fi,xc(u.type)?(nM=A,fi=Mo(g.firstChild)):fi=A),Si(s,u,u.pendingProps.children,p),Xl(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&Mn&&((A=g=fi)&&(g=E8(g,u.type,u.pendingProps,ua),g!==null?(u.stateNode=g,Rr=u,fi=Mo(g.firstChild),ua=!1,A=!0):A=!1),A||Qo(u)),Qt(u),A=u.type,C=u.pendingProps,j=s!==null?s.memoizedProps:null,g=C.children,Q1(A,C)?g=null:j!==null&&Q1(A,j)&&(u.flags|=32),u.memoizedState!==null&&(A=mo(s,u,L1,null,null,p),Cv._currentValue=A),Xl(s,u),Si(s,u,g,p),u.child;case 6:return s===null&&Mn&&((s=p=fi)&&(p=A8(p,u.pendingProps,ua),p!==null?(u.stateNode=p,Rr=u,fi=null,s=!0):s=!1),s||Qo(u)),null;case 13:return fc(s,u,p);case 4:return $t(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=Vl(u,null,g,p):Si(s,u,g,p),u.child;case 11:return Yr(s,u,u.type,u.pendingProps,p);case 7:return Si(s,u,u.pendingProps,p),u.child;case 8:return Si(s,u,u.pendingProps.children,p),u.child;case 12:return Si(s,u,u.pendingProps.children,p),u.child;case 10:return g=u.pendingProps,tl(u,u.type,g.value),Si(s,u,g.children,p),u.child;case 9:return A=u.type._context,g=u.pendingProps.children,ws(u),A=pi(A),g=g(A),u.flags|=1,Si(s,u,g,p),u.child;case 14:return Wr(s,u,u.type,u.pendingProps,p);case 15:return yv(s,u,u.type,u.pendingProps,p);case 19:return Ba(s,u,p);case 31:return g=u.pendingProps,p=u.mode,g={mode:g.mode,children:g.children},s===null?(p=Yl(g,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=bi(s.child,g),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return ql(s,u,p);case 24:return ws(u),g=pi(Ri),s===null?(A=el(),A===null&&(A=Xe,C=dd(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=p),A=C),u.memoizedState={parent:g,cache:A},Jm(u),tl(u,Ri,A)):((s.lanes&p)!==0&&(Ve(s,u),ic(u,null,null,p),Uf()),A=s.memoizedState,C=u.memoizedState,A.parent!==g?(A={parent:g,cache:g},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),tl(u,Ri,g)):(g=C.cache,tl(u,Ri,g),g!==A.cache&&Tf(u,[Ri],p,!0))),Si(s,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function us(s){s.flags|=4}function Gf(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!TD(u)){if(u=kn.current,u!==null&&((Pe&4194048)===Pe?ss!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||u!==ss))throw Ua=Pf,$m;s.flags|=8192}}function yo(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?ee():536870912,s.lanes|=u,xn|=u)}function Zl(s,u){if(!Mn)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Kn(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(u)for(var A=s.child;A!==null;)p|=A.lanes|A.childLanes,g|=A.subtreeFlags&65011712,g|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)p|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=g,s.childLanes=p,u}function bv(s,u,p){var g=u.pendingProps;switch(Xm(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(u),null;case 1:return Kn(u),null;case 3:return p=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),co(Ri),wt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(is(u)?us(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Cn())),Kn(u),null;case 26:return p=u.memoizedState,s===null?(us(u),p!==null?(Kn(u),Gf(u,p)):(Kn(u),u.flags&=-16777217)):p?p!==s.memoizedState?(us(u),Kn(u),Gf(u,p)):(Kn(u),u.flags&=-16777217):(s.memoizedProps!==g&&us(u),Kn(u),u.flags&=-16777217),null;case 27:se(u),p=Ut.current;var A=u.type;if(s!==null&&u.stateNode!=null)s.memoizedProps!==g&&us(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return Kn(u),null}s=rt.current,is(u)?h0(u):(s=yD(A,g,p),u.stateNode=s,us(u))}return Kn(u),null;case 5:if(se(u),p=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&us(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return Kn(u),null}if(s=rt.current,is(u))h0(u);else{switch(A=sb(Ut.current),s){case 1:s=A.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:s=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":s=A.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":s=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?A.createElement("select",{is:g.is}):A.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?A.createElement(p,{is:g.is}):A.createElement(p)}}s[wi]=u,s[Ii]=g;t:for(A=u.child;A!==null;){if(A.tag===5||A.tag===6)s.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===u)break t;for(;A.sibling===null;){if(A.return===null||A.return===u)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}u.stateNode=s;t:switch(Ir(s,p,g),p){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&us(u)}}return Kn(u),u.flags&=-16777217,null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&us(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(i(166));if(s=Ut.current,is(u)){if(s=u.stateNode,p=u.memoizedProps,g=null,A=Rr,A!==null)switch(A.tag){case 27:case 5:g=A.memoizedProps}s[wi]=u,s=!!(s.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||fD(s.nodeValue,p)),s||Qo(u)}else s=sb(s).createTextNode(g),s[wi]=u,u.stateNode=s}return Kn(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=is(u),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(i(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[wi]=u}else $u(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kn(u),A=!1}else A=Cn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(Cs(u),u):(Cs(u),null)}if(Cs(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=g!==null,s=s!==null&&s.memoizedState!==null,p){g=u.child,A=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(A=g.alternate.memoizedState.cachePool.pool);var C=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==A&&(g.flags|=2048)}return p!==s&&p&&(u.child.flags|=8192),yo(u,u.updateQueue),Kn(u),null;case 4:return wt(),s===null&&Y1(u.stateNode.containerInfo),Kn(u),null;case 10:return co(u.type),Kn(u),null;case 19:if(ot(xi),A=u.memoizedState,A===null)return Kn(u),null;if(g=(u.flags&128)!==0,C=A.rendering,C===null)if(g)Zl(A,!1);else{if(ii!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(C=go(s),C!==null){for(u.flags|=128,Zl(A,!1),s=C.updateQueue,u.updateQueue=s,yo(u,s),u.subtreeFlags=0,s=p,p=u.child;p!==null;)qm(p,s),p=p.sibling;return mt(xi,xi.current&1|2),u.child}s=s.sibling}A.tail!==null&&Pt()>br&&(u.flags|=128,g=!0,Zl(A,!1),u.lanes=4194304)}else{if(!g)if(s=go(C),s!==null){if(u.flags|=128,g=!0,s=s.updateQueue,u.updateQueue=s,yo(u,s),Zl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!C.alternate&&!Mn)return Kn(u),null}else 2*Pt()-A.renderingStartTime>br&&p!==536870912&&(u.flags|=128,g=!0,Zl(A,!1),u.lanes=4194304);A.isBackwards?(C.sibling=u.child,u.child=C):(s=A.last,s!==null?s.sibling=C:u.child=C,A.last=C)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=Pt(),u.sibling=null,s=xi.current,mt(xi,g?s&1|2:s&1),u):(Kn(u),null);case 22:case 23:return Cs(u),Lf(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(p&536870912)!==0&&(u.flags&128)===0&&(Kn(u),u.subtreeFlags&6&&(u.flags|=8192)):Kn(u),p=u.updateQueue,p!==null&&yo(u,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048),s!==null&&ot(Pa),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),co(Ri),Kn(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function hc(s,u){switch(Xm(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return co(Ri),wt(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return se(u),null;case 13:if(Cs(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(i(340));$u()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ot(xi),null;case 4:return wt(),null;case 10:return co(u.type),null;case 22:case 23:return Cs(u),Lf(),s!==null&&ot(Pa),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return co(Ri),null;case 25:return null;default:return null}}function dc(s,u){switch(Xm(u),u.tag){case 3:co(Ri),wt();break;case 26:case 27:case 5:se(u);break;case 4:wt();break;case 13:Cs(u);break;case 19:ot(xi);break;case 10:co(u.type);break;case 22:case 23:Cs(u),Lf(),s!==null&&ot(Pa);break;case 24:co(Ri)}}function Kl(s,u){try{var p=u.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var A=g.next;p=A;do{if((p.tag&s)===s){g=void 0;var C=p.create,j=p.inst;g=C(),j.destroy=g}p=p.next}while(p!==A)}}catch(X){ct(u,u.return,X)}}function pa(s,u,p){try{var g=u.updateQueue,A=g!==null?g.lastEffect:null;if(A!==null){var C=A.next;g=C;do{if((g.tag&s)===s){var j=g.inst,X=j.destroy;if(X!==void 0){j.destroy=void 0,A=u;var at=p,Mt=X;try{Mt()}catch(kt){ct(A,at,kt)}}}g=g.next}while(g!==C)}}catch(kt){ct(u,u.return,kt)}}function $l(s){var u=s.updateQueue;if(u!==null){var p=s.stateNode;try{m0(u,p)}catch(g){ct(s,s.return,g)}}}function bo(s,u,p){p.props=Rs(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(g){ct(s,u,g)}}function Ql(s,u){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof p=="function"?s.refCleanup=p(g):p.current=g}}catch(A){ct(s,u,A)}}function Ns(s,u){var p=s.ref,g=s.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(A){ct(s,u,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){ct(s,u,A)}else p.current=null}function pc(s){var u=s.type,p=s.memoizedProps,g=s.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break t;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(A){ct(s,s.return,A)}}function qf(s,u,p){try{var g=s.stateNode;b8(g,s.type,p,u),g[Ii]=u}catch(A){ct(s,s.return,A)}}function kf(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&xc(s.type)||s.tag===4}function ul(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||kf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&xc(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cl(s,u,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(s),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=ab));else if(g!==4&&(g===27&&xc(s.type)&&(p=s.stateNode,u=null),s=s.child,s!==null))for(cl(s,u,p),s=s.sibling;s!==null;)cl(s,u,p),s=s.sibling}function fl(s,u,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(g!==4&&(g===27&&xc(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(fl(s,u,p),s=s.sibling;s!==null;)fl(s,u,p),s=s.sibling}function hl(s){var u=s.stateNode,p=s.memoizedProps;try{for(var g=s.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);Ir(u,g,p),u[wi]=s,u[Ii]=p}catch(C){ct(s,s.return,C)}}var Ps=!1,$n=!1,mc=!1,ma=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function Hi(s,u){if(s=s.containerInfo,K1=hb,s=Bm(s),bf(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else t:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var A=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break t}var j=0,X=-1,at=-1,Mt=0,kt=0,Wt=s,At=null;e:for(;;){for(var Ct;Wt!==p||A!==0&&Wt.nodeType!==3||(X=j+A),Wt!==C||g!==0&&Wt.nodeType!==3||(at=j+g),Wt.nodeType===3&&(j+=Wt.nodeValue.length),(Ct=Wt.firstChild)!==null;)At=Wt,Wt=Ct;for(;;){if(Wt===s)break e;if(At===p&&++Mt===A&&(X=j),At===C&&++kt===g&&(at=j),(Ct=Wt.nextSibling)!==null)break;Wt=At,At=Wt.parentNode}Wt=Ct}p=X===-1||at===-1?null:{start:X,end:at}}else p=null}p=p||{start:0,end:0}}else p=null;for($1={focusedElem:s,selectionRange:p},hb=!1,Xn=u;Xn!==null;)if(u=Xn,s=u.child,(u.subtreeFlags&1024)!==0&&s!==null)s.return=u,Xn=s;else for(;Xn!==null;){switch(u=Xn,C=u.alternate,s=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,p=u,A=C.memoizedProps,C=C.memoizedState,g=p.stateNode;try{var qe=Rs(p.type,A,p.elementType===p.type);s=g.getSnapshotBeforeUpdate(qe,C),g.__reactInternalSnapshotBeforeUpdate=s}catch(He){ct(p,p.return,He)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,p=s.nodeType,p===9)tM(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":tM(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=u.sibling,s!==null){s.return=u.return,Xn=s;break}Xn=u.return}}function _o(s,u,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:Ur(s,p),g&4&&Kl(5,p);break;case 1:if(Ur(s,p),g&4)if(s=p.stateNode,u===null)try{s.componentDidMount()}catch(j){ct(p,p.return,j)}else{var A=Rs(p.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(A,u,s.__reactInternalSnapshotBeforeUpdate)}catch(j){ct(p,p.return,j)}}g&64&&$l(p),g&512&&Ql(p,p.return);break;case 3:if(Ur(s,p),g&64&&(s=p.updateQueue,s!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{m0(s,u)}catch(j){ct(p,p.return,j)}}break;case 27:u===null&&g&4&&hl(p);case 26:case 5:Ur(s,p),u===null&&g&4&&pc(p),g&512&&Ql(p,p.return);break;case 12:Ur(s,p);break;case 13:Ur(s,p),g&4&&dl(s,p),g&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=ri.bind(null,p),T8(s,p))));break;case 22:if(g=p.memoizedState!==null||Ps,!g){u=u!==null&&u.memoizedState!==null||$n,A=Ps;var C=$n;Ps=g,($n=u)&&!C?Us(s,p,(p.subtreeFlags&8772)!==0):Ur(s,p),Ps=A,$n=C}break;case 30:break;default:Ur(s,p)}}function en(s){var u=s.alternate;u!==null&&(s.alternate=null,en(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&In(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ue=null,_n=!1;function Ha(s,u,p){for(p=p.child;p!==null;)Jl(s,u,p),p=p.sibling}function Jl(s,u,p){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount(zt,p)}catch{}switch(p.tag){case 26:$n||Ns(p,u),Ha(s,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:$n||Ns(p,u);var g=Ue,A=_n;xc(p.type)&&(Ue=p.stateNode,_n=!1),Ha(s,u,p),Av(p.stateNode),Ue=g,_n=A;break;case 5:$n||Ns(p,u);case 6:if(g=Ue,A=_n,Ue=null,Ha(s,u,p),Ue=g,_n=A,Ue!==null)if(_n)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(p.stateNode)}catch(C){ct(p,u,C)}else try{Ue.removeChild(p.stateNode)}catch(C){ct(p,u,C)}break;case 18:Ue!==null&&(_n?(s=Ue,vD(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),Pv(s)):vD(Ue,p.stateNode));break;case 4:g=Ue,A=_n,Ue=p.stateNode.containerInfo,_n=!0,Ha(s,u,p),Ue=g,_n=A;break;case 0:case 11:case 14:case 15:$n||pa(2,p,u),$n||pa(4,p,u),Ha(s,u,p);break;case 1:$n||(Ns(p,u),g=p.stateNode,typeof g.componentWillUnmount=="function"&&bo(p,u,g)),Ha(s,u,p);break;case 21:Ha(s,u,p);break;case 22:$n=(g=$n)||p.memoizedState!==null,Ha(s,u,p),$n=g;break;default:Ha(s,u,p)}}function dl(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Pv(s)}catch(p){ct(u,u.return,p)}}function Ud(s){switch(s.tag){case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new ma),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new ma),u;default:throw Error(i(435,s.tag))}}function tu(s,u){var p=Ud(s);u.forEach(function(g){var A=Ge.bind(null,s,g);p.has(g)||(p.add(g),g.then(A,A))})}function Zi(s,u){var p=u.deletions;if(p!==null)for(var g=0;g<p.length;g++){var A=p[g],C=s,j=u,X=j;t:for(;X!==null;){switch(X.tag){case 27:if(xc(X.type)){Ue=X.stateNode,_n=!1;break t}break;case 5:Ue=X.stateNode,_n=!1;break t;case 3:case 4:Ue=X.stateNode.containerInfo,_n=!0;break t}X=X.return}if(Ue===null)throw Error(i(160));Jl(C,j,A),Ue=null,_n=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Ld(u,s),u=u.sibling}var cs=null;function Ld(s,u){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zi(u,s),mi(s),g&4&&(pa(3,s,s.return),Kl(3,s),pa(5,s,s.return));break;case 1:Zi(u,s),mi(s),g&512&&($n||p===null||Ns(p,p.return)),g&64&&Ps&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var A=cs;if(Zi(u,s),mi(s),g&512&&($n||p===null||Ns(p,p.return)),g&4){var C=p!==null?p.memoizedState:null;if(g=s.memoizedState,p===null)if(g===null)if(s.stateNode===null){t:{g=s.type,p=s.memoizedProps,A=A.ownerDocument||A;e:switch(g){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Qa]||C[wi]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(g),A.head.insertBefore(C,A.querySelector("head > title"))),Ir(C,g,p),C[wi]=s,Oi(C),g=C;break t;case"link":var j=ED("link","href",A).get(g+(p.href||""));if(j){for(var X=0;X<j.length;X++)if(C=j[X],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){j.splice(X,1);break e}}C=A.createElement(g),Ir(C,g,p),A.head.appendChild(C);break;case"meta":if(j=ED("meta","content",A).get(g+(p.content||""))){for(X=0;X<j.length;X++)if(C=j[X],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){j.splice(X,1);break e}}C=A.createElement(g),Ir(C,g,p),A.head.appendChild(C);break;default:throw Error(i(468,g))}C[wi]=s,Oi(C),g=C}s.stateNode=g}else AD(A,s.type,s.stateNode);else s.stateNode=MD(A,g,s.memoizedProps);else C!==g?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,g===null?AD(A,s.type,s.stateNode):MD(A,g,s.memoizedProps)):g===null&&s.stateNode!==null&&qf(s,s.memoizedProps,p.memoizedProps)}break;case 27:Zi(u,s),mi(s),g&512&&($n||p===null||Ns(p,p.return)),p!==null&&g&4&&qf(s,s.memoizedProps,p.memoizedProps);break;case 5:if(Zi(u,s),mi(s),g&512&&($n||p===null||Ns(p,p.return)),s.flags&32){A=s.stateNode;try{wr(A,"")}catch(Ct){ct(s,s.return,Ct)}}g&4&&s.stateNode!=null&&(A=s.memoizedProps,qf(s,A,p!==null?p.memoizedProps:A)),g&1024&&(mc=!0);break;case 6:if(Zi(u,s),mi(s),g&4){if(s.stateNode===null)throw Error(i(162));g=s.memoizedProps,p=s.stateNode;try{p.nodeValue=g}catch(Ct){ct(s,s.return,Ct)}}break;case 3:if(ub=null,A=cs,cs=ob(u.containerInfo),Zi(u,s),cs=A,mi(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Pv(u.containerInfo)}catch(Ct){ct(s,s.return,Ct)}mc&&(mc=!1,pl(s));break;case 4:g=cs,cs=ob(s.stateNode.containerInfo),Zi(u,s),mi(s),cs=g;break;case 12:Zi(u,s),mi(s);break;case 13:Zi(u,s),mi(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(zn=Pt()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,tu(s,g)));break;case 22:A=s.memoizedState!==null;var at=p!==null&&p.memoizedState!==null,Mt=Ps,kt=$n;if(Ps=Mt||A,$n=kt||at,Zi(u,s),$n=kt,Ps=Mt,mi(s),g&8192)t:for(u=s.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(p===null||at||Ps||$n||va(s)),p=null,u=s;;){if(u.tag===5||u.tag===26){if(p===null){at=p=u;try{if(C=at.stateNode,A)j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{X=at.stateNode;var Wt=at.memoizedProps.style,At=Wt!=null&&Wt.hasOwnProperty("display")?Wt.display:null;X.style.display=At==null||typeof At=="boolean"?"":(""+At).trim()}}catch(Ct){ct(at,at.return,Ct)}}}else if(u.tag===6){if(p===null){at=u;try{at.stateNode.nodeValue=A?"":at.memoizedProps}catch(Ct){ct(at,at.return,Ct)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break t;for(;u.sibling===null;){if(u.return===null||u.return===s)break t;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,tu(s,p))));break;case 19:Zi(u,s),mi(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,tu(s,g)));break;case 30:break;case 21:break;default:Zi(u,s),mi(s)}}function mi(s){var u=s.flags;if(u&2){try{for(var p,g=s.return;g!==null;){if(kf(g)){p=g;break}g=g.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var A=p.stateNode,C=ul(s);fl(s,C,A);break;case 5:var j=p.stateNode;p.flags&32&&(wr(j,""),p.flags&=-33);var X=ul(s);fl(s,X,j);break;case 3:case 4:var at=p.stateNode.containerInfo,Mt=ul(s);cl(s,Mt,at);break;default:throw Error(i(161))}}catch(kt){ct(s,s.return,kt)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function pl(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;pl(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Ur(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)_o(s,u.alternate,u),u=u.sibling}function va(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:pa(4,u,u.return),va(u);break;case 1:Ns(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&bo(u,u.return,p),va(u);break;case 27:Av(u.stateNode);case 26:case 5:Ns(u,u.return),va(u);break;case 22:u.memoizedState===null&&va(u);break;case 30:va(u);break;default:va(u)}s=s.sibling}}function Us(s,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,A=s,C=u,j=C.flags;switch(C.tag){case 0:case 11:case 15:Us(A,C,p),Kl(4,C);break;case 1:if(Us(A,C,p),g=C,A=g.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Mt){ct(g,g.return,Mt)}if(g=C,A=g.updateQueue,A!==null){var X=g.stateNode;try{var at=A.shared.hiddenCallbacks;if(at!==null)for(A.shared.hiddenCallbacks=null,A=0;A<at.length;A++)rc(at[A],X)}catch(Mt){ct(g,g.return,Mt)}}p&&j&64&&$l(C),Ql(C,C.return);break;case 27:hl(C);case 26:case 5:Us(A,C,p),p&&g===null&&j&4&&pc(C),Ql(C,C.return);break;case 12:Us(A,C,p);break;case 13:Us(A,C,p),p&&j&4&&dl(A,C);break;case 22:C.memoizedState===null&&Us(A,C,p),Ql(C,C.return);break;case 30:break;default:Us(A,C,p)}u=u.sibling}}function Id(s,u){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&Qu(p))}function Bd(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Qu(s))}function Yn(s,u,p,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)zd(s,u,p,g),u=u.sibling}function zd(s,u,p,g){var A=u.flags;switch(u.tag){case 0:case 11:case 15:Yn(s,u,p,g),A&2048&&Kl(9,u);break;case 1:Yn(s,u,p,g);break;case 3:Yn(s,u,p,g),A&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Qu(s)));break;case 12:if(A&2048){Yn(s,u,p,g),s=u.stateNode;try{var C=u.memoizedProps,j=C.id,X=C.onPostCommit;typeof X=="function"&&X(j,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(at){ct(u,u.return,at)}}else Yn(s,u,p,g);break;case 13:Yn(s,u,p,g);break;case 23:break;case 22:C=u.stateNode,j=u.alternate,u.memoizedState!==null?C._visibility&2?Yn(s,u,p,g):fs(s,u):C._visibility&2?Yn(s,u,p,g):(C._visibility|=2,xo(s,u,p,g,(u.subtreeFlags&10256)!==0)),A&2048&&Id(j,u);break;case 24:Yn(s,u,p,g),A&2048&&Bd(u.alternate,u);break;default:Yn(s,u,p,g)}}function xo(s,u,p,g,A){for(A=A&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var C=s,j=u,X=p,at=g,Mt=j.flags;switch(j.tag){case 0:case 11:case 15:xo(C,j,X,at,A),Kl(8,j);break;case 23:break;case 22:var kt=j.stateNode;j.memoizedState!==null?kt._visibility&2?xo(C,j,X,at,A):fs(C,j):(kt._visibility|=2,xo(C,j,X,at,A)),A&&Mt&2048&&Id(j.alternate,j);break;case 24:xo(C,j,X,at,A),A&&Mt&2048&&Bd(j.alternate,j);break;default:xo(C,j,X,at,A)}u=u.sibling}}function fs(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=s,g=u,A=g.flags;switch(g.tag){case 22:fs(p,g),A&2048&&Id(g.alternate,g);break;case 24:fs(p,g),A&2048&&Bd(g.alternate,g);break;default:fs(p,g)}u=u.sibling}}var ga=8192;function vc(s){if(s.subtreeFlags&ga)for(s=s.child;s!==null;)eb(s),s=s.sibling}function eb(s){switch(s.tag){case 26:vc(s),s.flags&ga&&s.memoizedState!==null&&H8(cs,s.memoizedState,s.memoizedProps);break;case 5:vc(s);break;case 3:case 4:var u=cs;cs=ob(s.stateNode.containerInfo),vc(s),cs=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ga,ga=16777216,vc(s),ga=u):vc(s));break;default:vc(s)}}function nb(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Qn(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];Xn=g,Is(g,s)}nb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_v(s),s=s.sibling}function _v(s){switch(s.tag){case 0:case 11:case 15:Qn(s),s.flags&2048&&pa(9,s,s.return);break;case 3:Qn(s);break;case 12:Qn(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Ls(s)):Qn(s);break;default:Qn(s)}}function Ls(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];Xn=g,Is(g,s)}nb(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:pa(8,u,u.return),Ls(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Ls(u));break;default:Ls(u)}s=s.sibling}}function Is(s,u){for(;Xn!==null;){var p=Xn;switch(p.tag){case 0:case 11:case 15:pa(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Qu(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,Xn=g;else t:for(p=s;Xn!==null;){g=Xn;var A=g.sibling,C=g.return;if(en(g),g===p){Xn=null;break t}if(A!==null){A.return=C,Xn=A;break t}Xn=C}}}var vi={getCacheForType:function(s){var u=pi(Ri),p=u.data.get(s);return p===void 0&&(p=s(),u.data.set(s,p)),p}},xv=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Xe=null,un=null,Pe=0,Qe=0,hi=null,ya=!1,gc=!1,yc=!1,Fa=0,ii=0,hs=0,Bs=0,eu=0,ja=0,xn=0,Dn=null,Le=null,dn=!1,zn=0,br=1/0,Va=null,ba=null,Fi=0,_r=null,Wn=null,_a=0,So=0,Xf=null,xa=null,zs=0,nu=null;function gi(){if((Rn&2)!==0&&Pe!==0)return Pe&-Pe;if(H.T!==null){var s=We;return s!==0?s:G1()}return $e()}function Hd(){ja===0&&(ja=(Pe&536870912)===0||Mn?lt():536870912);var s=kn.current;return s!==null&&(s.flags|=32),ja}function Lr(s,u,p){(s===Xe&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)&&(vl(s,0),ds(s,Pe,ja,!1)),Gt(s,p),((Rn&2)===0||s!==Xe)&&(s===Xe&&((Rn&2)===0&&(Bs|=p),ii===4&&ds(s,Pe,ja,!1)),bl(s))}function bc(s,u,p){if((Rn&6)!==0)throw Error(i(327));var g=!p&&(u&124)===0&&(u&s.expiredLanes)===0||Ft(s,u),A=g?T(s,u):d(s,u,!0),C=g;do{if(A===0){gc&&!g&&ds(s,u,0,!1);break}else{if(p=s.current.alternate,C&&!ml(p)){A=d(s,u,!1),C=!1;continue}if(A===2){if(C=u,s.errorRecoveryDisabledLanes&C)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){u=j;t:{var X=s;A=Dn;var at=X.current.memoizedState.isDehydrated;if(at&&(vl(X,j).flags|=256),j=d(X,j,!1),j!==2){if(yc&&!at){X.errorRecoveryDisabledLanes|=C,Bs|=C,A=4;break t}C=Le,Le=A,C!==null&&(Le===null?Le=C:Le.push.apply(Le,C))}A=j}if(C=!1,A!==2)continue}}if(A===1){vl(s,0),ds(s,u,0,!0);break}t:{switch(g=s,C=A,C){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:ds(g,u,ja,!ya);break t;case 2:Le=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(A=zn+300-Pt(),10<A)){if(ds(g,u,ja,!ya),ut(g,0,!0)!==0)break t;g.timeoutHandle=pD(Yf.bind(null,g,p,Le,Va,dn,u,ja,Bs,xn,ya,C,2,-0,0),A);break t}Yf(g,p,Le,Va,dn,u,ja,Bs,xn,ya,C,0,-0,0)}}break}while(!0);bl(s)}function Yf(s,u,p,g,A,C,j,X,at,Mt,kt,Wt,At,Ct){if(s.timeoutHandle=-1,Wt=u.subtreeFlags,(Wt&8192||(Wt&16785408)===16785408)&&(Ov={stylesheets:null,count:0,unsuspend:z8},eb(u),Wt=F8(),Wt!==null)){s.cancelPendingCommit=Wt(re.bind(null,s,u,C,p,g,A,j,X,at,kt,1,At,Ct)),ds(s,C,j,!Mt);return}re(s,u,C,p,g,A,j,X,at)}function ml(s){for(var u=s;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var A=p[g],C=A.getSnapshot;A=A.value;try{if(!Vr(C(),A))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ds(s,u,p,g){u&=~eu,u&=~Bs,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var A=u;0<A;){var C=31-ae(A),j=1<<C;g[C]=-1,A&=~j}p!==0&&fe(s,p,u)}function Hs(){return(Rn&6)===0?(Sv(0),!1):!0}function iu(){if(un!==null){if(Qe===0)var s=un.return;else s=un,uo=Jo=null,iv(s),jl=null,Hf=0,s=un;for(;s!==null;)dc(s.alternate,s),s=s.return;un=null}}function vl(s,u){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,x8(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),iu(),Xe=s,un=p=bi(s.current,null),Pe=u,Qe=0,hi=null,ya=!1,gc=Ft(s,u),yc=!1,xn=ja=eu=Bs=hs=ii=0,Le=Dn=null,dn=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var A=31-ae(g),C=1<<A;u|=s[A],g&=~C}return Fa=u,Sf(),p}function Fd(s,u){Ze=null,H.H=zf,u===Nf||u===rs?(u=Qm(),Qe=3):u===$m?(u=Qm(),Qe=4):Qe=u===tb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,hi=u,un===null&&(ii=1,Dd(s,ar(u,s.current)))}function _c(){var s=H.H;return H.H=zf,s===null?zf:s}function jd(){var s=H.A;return H.A=vi,s}function f(){ii=4,ya||(Pe&4194048)!==Pe&&kn.current!==null||(gc=!0),(hs&134217727)===0&&(Bs&134217727)===0||Xe===null||ds(Xe,Pe,ja,!1)}function d(s,u,p){var g=Rn;Rn|=2;var A=_c(),C=jd();(Xe!==s||Pe!==u)&&(Va=null,vl(s,u)),u=!1;var j=ii;t:do try{if(Qe!==0&&un!==null){var X=un,at=hi;switch(Qe){case 8:iu(),j=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(u=!0);var Mt=Qe;if(Qe=0,hi=null,st(s,X,at,Mt),p&&gc){j=0;break t}break;default:Mt=Qe,Qe=0,hi=null,st(s,X,at,Mt)}}b(),j=ii;break}catch(kt){Fd(s,kt)}while(!0);return u&&s.shellSuspendCounter++,uo=Jo=null,Rn=g,H.H=A,H.A=C,un===null&&(Xe=null,Pe=0,Sf()),j}function b(){for(;un!==null;)L(un)}function T(s,u){var p=Rn;Rn|=2;var g=_c(),A=jd();Xe!==s||Pe!==u?(Va=null,br=Pt()+500,vl(s,u)):gc=Ft(s,u);t:do try{if(Qe!==0&&un!==null){u=un;var C=hi;e:switch(Qe){case 1:Qe=0,hi=null,st(s,u,C,1);break;case 2:case 9:if(vd(C)){Qe=0,hi=null,Z(u);break}u=function(){Qe!==2&&Qe!==9||Xe!==s||(Qe=7),bl(s)},C.then(u,u);break t;case 3:Qe=7;break t;case 4:Qe=5;break t;case 7:vd(C)?(Qe=0,hi=null,Z(u)):(Qe=0,hi=null,st(s,u,C,7));break;case 5:var j=null;switch(un.tag){case 26:j=un.memoizedState;case 5:case 27:var X=un;if(!j||TD(j)){Qe=0,hi=null;var at=X.sibling;if(at!==null)un=at;else{var Mt=X.return;Mt!==null?(un=Mt,bt(Mt)):un=null}break e}}Qe=0,hi=null,st(s,u,C,5);break;case 6:Qe=0,hi=null,st(s,u,C,6);break;case 8:iu(),ii=6;break t;default:throw Error(i(462))}}D();break}catch(kt){Fd(s,kt)}while(!0);return uo=Jo=null,H.H=g,H.A=A,Rn=p,un!==null?0:(Xe=null,Pe=0,Sf(),ii)}function D(){for(;un!==null&&!Be();)L(un)}function L(s){var u=Wl(s.alternate,s,Fa);s.memoizedProps=s.pendingProps,u===null?bt(s):un=u}function Z(s){var u=s,p=u.alternate;switch(u.tag){case 15:case 0:u=ha(p,u,u.pendingProps,u.type,void 0,Pe);break;case 11:u=ha(p,u,u.pendingProps,u.type.render,u.ref,Pe);break;case 5:iv(u);default:dc(p,u),u=un=qm(u,Fa),u=Wl(p,u,Fa)}s.memoizedProps=s.pendingProps,u===null?bt(s):un=u}function st(s,u,p,g){uo=Jo=null,iv(u),jl=null,Hf=0;var A=u.return;try{if(j1(s,A,u,p,Pe)){ii=1,Dd(s,ar(p,s.current)),un=null;return}}catch(C){if(A!==null)throw un=A,C;ii=1,Dd(s,ar(p,s.current)),un=null;return}u.flags&32768?(Mn||g===1?s=!0:gc||(Pe&536870912)!==0?s=!1:(ya=s=!0,(g===2||g===9||g===3||g===6)&&(g=kn.current,g!==null&&g.tag===13&&(g.flags|=16384))),qt(u,s)):bt(u)}function bt(s){var u=s;do{if((u.flags&32768)!==0){qt(u,ya);return}s=u.return;var p=bv(u.alternate,u,Fa);if(p!==null){un=p;return}if(u=u.sibling,u!==null){un=u;return}un=u=s}while(u!==null);ii===0&&(ii=5)}function qt(s,u){do{var p=hc(s.alternate,s);if(p!==null){p.flags&=32767,un=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(s=s.sibling,s!==null)){un=s;return}un=s=p}while(s!==null);ii=6,un=null}function re(s,u,p,g,A,C,j,X,at){s.cancelPendingCommit=null;do gl();while(Fi!==0);if((Rn&6)!==0)throw Error(i(327));if(u!==null){if(u===s.current)throw Error(i(177));if(C=u.lanes|u.childLanes,C|=od,pe(s,p,C,j,X,at),s===Xe&&(un=Xe=null,Pe=0),Wn=u,_r=s,_a=p,So=C,Xf=A,xa=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,En($,function(){return yl(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,A=q.p,q.p=2,j=Rn,Rn|=4;try{Hi(s,u,p)}finally{Rn=j,q.p=A,H.T=g}}Fi=1,me(),ye(),Ye()}}function me(){if(Fi===1){Fi=0;var s=_r,u=Wn,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var g=q.p;q.p=2;var A=Rn;Rn|=4;try{Ld(u,s);var C=$1,j=Bm(s.containerInfo),X=C.focusedElem,at=C.selectionRange;if(j!==X&&X&&X.ownerDocument&&Im(X.ownerDocument.documentElement,X)){if(at!==null&&bf(X)){var Mt=at.start,kt=at.end;if(kt===void 0&&(kt=Mt),"selectionStart"in X)X.selectionStart=Mt,X.selectionEnd=Math.min(kt,X.value.length);else{var Wt=X.ownerDocument||document,At=Wt&&Wt.defaultView||window;if(At.getSelection){var Ct=At.getSelection(),qe=X.textContent.length,He=Math.min(at.start,qe),ti=at.end===void 0?He:Math.min(at.end,qe);!Ct.extend&&He>ti&&(j=ti,ti=He,He=j);var vt=Lm(X,He),ft=Lm(X,ti);if(vt&&ft&&(Ct.rangeCount!==1||Ct.anchorNode!==vt.node||Ct.anchorOffset!==vt.offset||Ct.focusNode!==ft.node||Ct.focusOffset!==ft.offset)){var xt=Wt.createRange();xt.setStart(vt.node,vt.offset),Ct.removeAllRanges(),He>ti?(Ct.addRange(xt),Ct.extend(ft.node,ft.offset)):(xt.setEnd(ft.node,ft.offset),Ct.addRange(xt))}}}}for(Wt=[],Ct=X;Ct=Ct.parentNode;)Ct.nodeType===1&&Wt.push({element:Ct,left:Ct.scrollLeft,top:Ct.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Wt.length;X++){var Yt=Wt[X];Yt.element.scrollLeft=Yt.left,Yt.element.scrollTop=Yt.top}}hb=!!K1,$1=K1=null}finally{Rn=A,q.p=g,H.T=p}}s.current=u,Fi=2}}function ye(){if(Fi===2){Fi=0;var s=_r,u=Wn,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var g=q.p;q.p=2;var A=Rn;Rn|=4;try{_o(s,u.alternate,u)}finally{Rn=A,q.p=g,H.T=p}}Fi=3}}function Ye(){if(Fi===4||Fi===3){Fi=0,It();var s=_r,u=Wn,p=_a,g=xa;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Fi=5:(Fi=0,Wn=_r=null,Sa(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(ba=null),On(p),u=u.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot(zt,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=H.T,A=q.p,q.p=2,H.T=null;try{for(var C=s.onRecoverableError,j=0;j<g.length;j++){var X=g[j];C(X.value,{componentStack:X.stack})}}finally{H.T=u,q.p=A}}(_a&3)!==0&&gl(),bl(s),A=s.pendingLanes,(p&4194090)!==0&&(A&42)!==0?s===nu?zs++:(zs=0,nu=s):zs=0,Sv(0)}}function Sa(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,Qu(u)))}function gl(s){return me(),ye(),Ye(),yl()}function yl(){if(Fi!==5)return!1;var s=_r,u=So;So=0;var p=On(_a),g=H.T,A=q.p;try{q.p=32>p?32:p,H.T=null,p=Xf,Xf=null;var C=_r,j=_a;if(Fi=0,Wn=_r=null,_a=0,(Rn&6)!==0)throw Error(i(331));var X=Rn;if(Rn|=4,_v(C.current),zd(C,C.current,j,p),Rn=X,Sv(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot(zt,C)}catch{}return!0}finally{q.p=A,H.T=g,Sa(s,u)}}function Et(s,u,p){u=ar(p,u),u=Nd(s.stateNode,u,2),s=ho(s,u,2),s!==null&&(Gt(s,2),bl(s))}function ct(s,u,p){if(s.tag===3)Et(s,s,p);else for(;u!==null;){if(u.tag===3){Et(u,s,p);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))){s=ar(p,s),p=J0(2),g=ho(u,p,2),g!==null&&(Pd(p,g,u,s),Gt(g,2),bl(g));break}}u=u.return}}function Rt(s,u,p){var g=s.pingCache;if(g===null){g=s.pingCache=new xv;var A=new Set;g.set(u,A)}else A=g.get(u),A===void 0&&(A=new Set,g.set(u,A));A.has(p)||(yc=!0,A.add(p),s=ie.bind(null,s,u,p),u.then(s,s))}function ie(s,u,p){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Xe===s&&(Pe&p)===p&&(ii===4||ii===3&&(Pe&62914560)===Pe&&300>Pt()-zn?(Rn&2)===0&&vl(s,0):eu|=p,xn===Pe&&(xn=0)),bl(s)}function Oe(s,u){u===0&&(u=ee()),s=oo(s,u),s!==null&&(Gt(s,u),bl(s))}function ri(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),Oe(s,p)}function Ge(s,u){var p=0;switch(s.tag){case 13:var g=s.stateNode,A=s.memoizedState;A!==null&&(p=A.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(u),Oe(s,p)}function En(s,u){return be(s,u)}var Mi=null,fn=null,Fs=!1,Vd=!1,V1=!1,Wf=0;function bl(s){s!==fn&&s.next===null&&(fn===null?Mi=fn=s:fn=fn.next=s),Vd=!0,Fs||(Fs=!0,h8())}function Sv(s,u){if(!V1&&Vd){V1=!0;do for(var p=!1,g=Mi;g!==null;){if(s!==0){var A=g.pendingLanes;if(A===0)var C=0;else{var j=g.suspendedLanes,X=g.pingedLanes;C=(1<<31-ae(42|s)+1)-1,C&=A&~(j&~X),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,rD(g,C))}else C=Pe,C=ut(g,g===Xe?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||Ft(g,C)||(p=!0,rD(g,C));g=g.next}while(p);V1=!1}}function f8(){eD()}function eD(){Vd=Fs=!1;var s=0;Wf!==0&&(_8()&&(s=Wf),Wf=0);for(var u=Pt(),p=null,g=Mi;g!==null;){var A=g.next,C=nD(g,u);C===0?(g.next=null,p===null?Mi=A:p.next=A,A===null&&(fn=p)):(p=g,(s!==0||(C&3)!==0)&&(Vd=!0)),g=A}Sv(s)}function nD(s,u){for(var p=s.suspendedLanes,g=s.pingedLanes,A=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var j=31-ae(C),X=1<<j,at=A[j];at===-1?((X&p)===0||(X&g)!==0)&&(A[j]=ce(X,u)):at<=u&&(s.expiredLanes|=X),C&=~X}if(u=Xe,p=Pe,p=ut(s,s===u?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,p===0||s===u&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&nt(g),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||Ft(s,p)){if(u=p&-p,u===s.callbackPriority)return u;switch(g!==null&&nt(g),On(p)){case 2:case 8:p=Bt;break;case 32:p=$;break;case 268435456:p=pt;break;default:p=$}return g=iD.bind(null,s),p=be(p,g),s.callbackPriority=u,s.callbackNode=p,u}return g!==null&&g!==null&&nt(g),s.callbackPriority=2,s.callbackNode=null,2}function iD(s,u){if(Fi!==0&&Fi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(gl()&&s.callbackNode!==p)return null;var g=Pe;return g=ut(s,s===Xe?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(bc(s,g,u),nD(s,Pt()),s.callbackNode!=null&&s.callbackNode===p?iD.bind(null,s):null)}function rD(s,u){if(gl())return null;bc(s,u,!0)}function h8(){S8(function(){(Rn&6)!==0?be(ne,f8):eD()})}function G1(){return Wf===0&&(Wf=lt()),Wf}function aD(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:sf(""+s)}function sD(s,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,s.id&&p.setAttribute("form",s.id),u.parentNode.insertBefore(p,u),s=new FormData(s),p.parentNode.removeChild(p),s}function d8(s,u,p,g,A){if(u==="submit"&&p&&p.stateNode===A){var C=aD((A[Ii]||null).action),j=g.submitter;j&&(u=(u=j[Ii]||null)?aD(u.formAction):j.getAttribute("formAction"),u!==null&&(C=u,j=null));var X=new Hu("action","action",null,g,A);s.push({event:X,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Wf!==0){var at=j?sD(A,j):new FormData(A);mv(p,{pending:!0,data:at,method:A.method,action:C},null,at)}}else typeof C=="function"&&(X.preventDefault(),at=j?sD(A,j):new FormData(A),mv(p,{pending:!0,data:at,method:A.method,action:C},C,at))},currentTarget:A}]})}}for(var q1=0;q1<xf.length;q1++){var k1=xf[q1],p8=k1.toLowerCase(),m8=k1[0].toUpperCase()+k1.slice(1);ki(p8,"on"+m8)}ki(Cr,"onAnimationEnd"),ki(Fm,"onAnimationIteration"),ki(qr,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(f0,"onTransitionRun"),ki(ao,"onTransitionStart"),ki(Yu,"onTransitionCancel"),ki(so,"onTransitionEnd"),Y("onMouseEnter",["mouseout","mouseover"]),Y("onMouseLeave",["mouseout","mouseover"]),Y("onPointerEnter",["pointerout","pointerover"]),Y("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mv));function oD(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],A=g.event;g=g.listeners;t:{var C=void 0;if(u)for(var j=g.length-1;0<=j;j--){var X=g[j],at=X.instance,Mt=X.currentTarget;if(X=X.listener,at!==C&&A.isPropagationStopped())break t;C=X,A.currentTarget=Mt;try{C(A)}catch(kt){Gl(kt)}A.currentTarget=null,C=at}else for(j=0;j<g.length;j++){if(X=g[j],at=X.instance,Mt=X.currentTarget,X=X.listener,at!==C&&A.isPropagationStopped())break t;C=X,A.currentTarget=Mt;try{C(A)}catch(kt){Gl(kt)}A.currentTarget=null,C=at}}}}function vn(s,u){var p=u[Fr];p===void 0&&(p=u[Fr]=new Set);var g=s+"__bubble";p.has(g)||(lD(u,s,2,!1),p.add(g))}function X1(s,u,p){var g=0;u&&(g|=4),lD(p,s,g,u)}var ib="_reactListening"+Math.random().toString(36).slice(2);function Y1(s){if(!s[ib]){s[ib]=!0,Uu.forEach(function(p){p!=="selectionchange"&&(v8.has(p)||X1(p,!1,s),X1(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[ib]||(u[ib]=!0,X1("selectionchange",!1,u))}}function lD(s,u,p,g){switch(ND(u)){case 2:var A=G8;break;case 8:A=q8;break;default:A=oM}p=A.bind(null,u,p,s),A=void 0,!lf||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),g?A!==void 0?s.addEventListener(u,p,{capture:!0,passive:A}):s.addEventListener(u,p,!0):A!==void 0?s.addEventListener(u,p,{passive:A}):s.addEventListener(u,p,!1)}function W1(s,u,p,g,A){var C=g;if((u&1)===0&&(u&2)===0&&g!==null)t:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var X=g.stateNode.containerInfo;if(X===A)break;if(j===4)for(j=g.return;j!==null;){var at=j.tag;if((at===3||at===4)&&j.stateNode.containerInfo===A)return;j=j.return}for(;X!==null;){if(j=Ja(X),j===null)return;if(at=j.tag,at===5||at===6||at===26||at===27){g=C=j;continue t}X=X.parentNode}}g=g.return}Mm(function(){var Mt=C,kt=Wh(p),Wt=[];t:{var At=sd.get(s);if(At!==void 0){var Ct=Hu,qe=s;switch(s){case"keypress":if(jo(p)===0)break t;case"keydown":case"keyup":Ct=Om;break;case"focusin":qe="focus",Ct=Kh;break;case"focusout":qe="blur",Ct=Kh;break;case"beforeblur":case"afterblur":Ct=Kh;break;case"click":if(p.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=R1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=Rm;break;case Cr:case Fm:case qr:Ct=Ky;break;case so:Ct=eo;break;case"scroll":case"scrollend":Ct=Yy;break;case"wheel":Ct=D1;break;case"copy":case"cut":case"paste":Ct=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Qh;break;case"toggle":case"beforetoggle":Ct=Go}var He=(u&4)!==0,ti=!He&&(s==="scroll"||s==="scrollend"),vt=He?At!==null?At+"Capture":null:At;He=[];for(var ft=Mt,xt;ft!==null;){var Yt=ft;if(xt=Yt.stateNode,Yt=Yt.tag,Yt!==5&&Yt!==26&&Yt!==27||xt===null||vt===null||(Yt=Iu(ft,vt),Yt!=null&&He.push(Ev(ft,Yt,xt))),ti)break;ft=ft.return}0<He.length&&(At=new Ct(At,qe,null,p,kt),Wt.push({event:At,listeners:He}))}}if((u&7)===0){t:{if(At=s==="mouseover"||s==="pointerover",Ct=s==="mouseout"||s==="pointerout",At&&p!==Yh&&(qe=p.relatedTarget||p.fromElement)&&(Ja(qe)||qe[vr]))break t;if((Ct||At)&&(At=kt.window===kt?kt:(At=kt.ownerDocument)?At.defaultView||At.parentWindow:window,Ct?(qe=p.relatedTarget||p.toElement,Ct=Mt,qe=qe?Ja(qe):null,qe!==null&&(ti=a(qe),He=qe.tag,qe!==ti||He!==5&&He!==27&&He!==6)&&(qe=null)):(Ct=null,qe=Mt),Ct!==qe)){if(He=Tm,Yt="onMouseLeave",vt="onMouseEnter",ft="mouse",(s==="pointerout"||s==="pointerover")&&(He=Qh,Yt="onPointerLeave",vt="onPointerEnter",ft="pointer"),ti=Ct==null?At:Ho(Ct),xt=qe==null?At:Ho(qe),At=new He(Yt,ft+"leave",Ct,p,kt),At.target=ti,At.relatedTarget=xt,Yt=null,Ja(kt)===Mt&&(He=new He(vt,ft+"enter",qe,p,kt),He.target=xt,He.relatedTarget=ti,Yt=He),ti=Yt,Ct&&qe)e:{for(He=Ct,vt=qe,ft=0,xt=He;xt;xt=Gd(xt))ft++;for(xt=0,Yt=vt;Yt;Yt=Gd(Yt))xt++;for(;0<ft-xt;)He=Gd(He),ft--;for(;0<xt-ft;)vt=Gd(vt),xt--;for(;ft--;){if(He===vt||vt!==null&&He===vt.alternate)break e;He=Gd(He),vt=Gd(vt)}He=null}else He=null;Ct!==null&&uD(Wt,At,Ct,He,!1),qe!==null&&ti!==null&&uD(Wt,ti,qe,He,!0)}}t:{if(At=Mt?Ho(Mt):window,Ct=At.nodeName&&At.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&At.type==="file")var Ae=td;else if(Um(At))if(ed)Ae=Xo;else{Ae=l0;var pn=N1}else Ct=At.nodeName,!Ct||Ct.toLowerCase()!=="input"||At.type!=="checkbox"&&At.type!=="radio"?Mt&&Xh(Mt.elementType)&&(Ae=td):Ae=yf;if(Ae&&(Ae=Ae(s,Mt))){jr(Wt,Ae,p,kt);break t}pn&&pn(s,At,Mt),s==="focusout"&&Mt&&At.type==="number"&&Mt.memoizedProps.value!=null&&er(At,"number",At.value)}switch(pn=Mt?Ho(Mt):window,s){case"focusin":(Um(pn)||pn.contentEditable==="true")&&(io=pn,id=Mt,_f=null);break;case"focusout":_f=id=io=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Hm(Wt,p,kt);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":Hm(Wt,p,kt)}var Re;if(hf)t:{switch(s){case"compositionstart":var Fe="onCompositionStart";break t;case"compositionend":Fe="onCompositionEnd";break t;case"compositionupdate":Fe="onCompositionUpdate";break t}Fe=void 0}else ko?mf(s,p)&&(Fe="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Fe="onCompositionStart");Fe&&(pf&&p.locale!=="ko"&&(ko||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ko&&(Re=Am()):(Js=kt,Em="value"in Js?Js.value:Js.textContent,ko=!0)),pn=rb(Mt,Fe),0<pn.length&&(Fe=new $h(Fe,s,null,p,kt),Wt.push({event:Fe,listeners:pn}),Re?Fe.data=Re:(Re=Nm(p),Re!==null&&(Fe.data=Re)))),(Re=df?vf(s,p):Pm(s,p))&&(Fe=rb(Mt,"onBeforeInput"),0<Fe.length&&(pn=new $h("onBeforeInput","beforeinput",null,p,kt),Wt.push({event:pn,listeners:Fe}),pn.data=Re)),d8(Wt,s,Mt,p,kt)}oD(Wt,u)})}function Ev(s,u,p){return{instance:s,listener:u,currentTarget:p}}function rb(s,u){for(var p=u+"Capture",g=[];s!==null;){var A=s,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=Iu(s,p),A!=null&&g.unshift(Ev(s,A,C)),A=Iu(s,u),A!=null&&g.push(Ev(s,A,C))),s.tag===3)return g;s=s.return}return[]}function Gd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function uD(s,u,p,g,A){for(var C=u._reactName,j=[];p!==null&&p!==g;){var X=p,at=X.alternate,Mt=X.stateNode;if(X=X.tag,at!==null&&at===g)break;X!==5&&X!==26&&X!==27||Mt===null||(at=Mt,A?(Mt=Iu(p,C),Mt!=null&&j.unshift(Ev(p,Mt,at))):A||(Mt=Iu(p,C),Mt!=null&&j.push(Ev(p,Mt,at)))),p=p.return}j.length!==0&&s.push({event:u,listeners:j})}var g8=/\r\n?/g,y8=/\u0000|\uFFFD/g;function cD(s){return(typeof s=="string"?s:""+s).replace(g8,`
`).replace(y8,"")}function fD(s,u){return u=cD(u),cD(s)===u}function ab(){}function Jn(s,u,p,g,A,C){switch(p){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||wr(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&wr(s,""+g);break;case"className":ue(s,"class",g);break;case"tabIndex":ue(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ue(s,p,g);break;case"style":af(s,g,C);break;case"data":if(u!=="object"){ue(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||p!=="href")){s.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(p);break}g=sf(""+g),s.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(u!=="input"&&Jn(s,u,"name",A.name,A,null),Jn(s,u,"formEncType",A.formEncType,A,null),Jn(s,u,"formMethod",A.formMethod,A,null),Jn(s,u,"formTarget",A.formTarget,A,null)):(Jn(s,u,"encType",A.encType,A,null),Jn(s,u,"method",A.method,A,null),Jn(s,u,"target",A.target,A,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(p);break}g=sf(""+g),s.setAttribute(p,g);break;case"onClick":g!=null&&(s.onclick=ab);break;case"onScroll":g!=null&&vn("scroll",s);break;case"onScrollEnd":g!=null&&vn("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(p=g.__html,p!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}p=sf(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(p,""+g):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":g===!0?s.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(p,g):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(p,g):s.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(p):s.setAttribute(p,g);break;case"popover":vn("beforetoggle",s),vn("toggle",s),Kt(s,"popover",g);break;case"xlinkActuate":he(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":he(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":he(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":he(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":he(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":he(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":he(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":he(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":he(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Kt(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=xm.get(p)||p,Kt(s,p,g))}}function Z1(s,u,p,g,A,C){switch(p){case"style":af(s,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(p=g.__html,p!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"children":typeof g=="string"?wr(s,g):(typeof g=="number"||typeof g=="bigint")&&wr(s,""+g);break;case"onScroll":g!=null&&vn("scroll",s);break;case"onScrollEnd":g!=null&&vn("scrollend",s);break;case"onClick":g!=null&&(s.onclick=ab);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lu.hasOwnProperty(p))t:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),u=p.slice(2,A?p.length-7:void 0),C=s[Ii]||null,C=C!=null?C[p]:null,typeof C=="function"&&s.removeEventListener(u,C,A),typeof g=="function")){typeof C!="function"&&C!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(u,g,A);break t}p in s?s[p]=g:g===!0?s.setAttribute(p,""):Kt(s,p,g)}}}function Ir(s,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",s),vn("load",s);var g=!1,A=!1,C;for(C in p)if(p.hasOwnProperty(C)){var j=p[C];if(j!=null)switch(C){case"src":g=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Jn(s,u,C,j,p,null)}}A&&Jn(s,u,"srcSet",p.srcSet,p,null),g&&Jn(s,u,"src",p.src,p,null);return;case"input":vn("invalid",s);var X=C=j=A=null,at=null,Mt=null;for(g in p)if(p.hasOwnProperty(g)){var kt=p[g];if(kt!=null)switch(g){case"name":A=kt;break;case"type":j=kt;break;case"checked":at=kt;break;case"defaultChecked":Mt=kt;break;case"value":C=kt;break;case"defaultValue":X=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(i(137,u));break;default:Jn(s,u,g,kt,p,null)}}Bn(s,C,X,at,Mt,j,A,!1),ci(s);return;case"select":vn("invalid",s),g=j=C=null;for(A in p)if(p.hasOwnProperty(A)&&(X=p[A],X!=null))switch(A){case"value":C=X;break;case"defaultValue":j=X;break;case"multiple":g=X;default:Jn(s,u,A,X,p,null)}u=C,p=j,s.multiple=!!g,u!=null?Ci(s,!!g,u,!1):p!=null&&Ci(s,!!g,p,!0);return;case"textarea":vn("invalid",s),C=A=g=null;for(j in p)if(p.hasOwnProperty(j)&&(X=p[j],X!=null))switch(j){case"value":g=X;break;case"defaultValue":A=X;break;case"children":C=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:Jn(s,u,j,X,p,null)}qi(s,g,A,C),ci(s);return;case"option":for(at in p)if(p.hasOwnProperty(at)&&(g=p[at],g!=null))switch(at){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Jn(s,u,at,g,p,null)}return;case"dialog":vn("beforetoggle",s),vn("toggle",s),vn("cancel",s),vn("close",s);break;case"iframe":case"object":vn("load",s);break;case"video":case"audio":for(g=0;g<Mv.length;g++)vn(Mv[g],s);break;case"image":vn("error",s),vn("load",s);break;case"details":vn("toggle",s);break;case"embed":case"source":case"link":vn("error",s),vn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Mt in p)if(p.hasOwnProperty(Mt)&&(g=p[Mt],g!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Jn(s,u,Mt,g,p,null)}return;default:if(Xh(u)){for(kt in p)p.hasOwnProperty(kt)&&(g=p[kt],g!==void 0&&Z1(s,u,kt,g,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(g=p[X],g!=null&&Jn(s,u,X,g,p,null))}function b8(s,u,p,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,j=null,X=null,at=null,Mt=null,kt=null;for(Ct in p){var Wt=p[Ct];if(p.hasOwnProperty(Ct)&&Wt!=null)switch(Ct){case"checked":break;case"value":break;case"defaultValue":at=Wt;default:g.hasOwnProperty(Ct)||Jn(s,u,Ct,null,g,Wt)}}for(var At in g){var Ct=g[At];if(Wt=p[At],g.hasOwnProperty(At)&&(Ct!=null||Wt!=null))switch(At){case"type":C=Ct;break;case"name":A=Ct;break;case"checked":Mt=Ct;break;case"defaultChecked":kt=Ct;break;case"value":j=Ct;break;case"defaultValue":X=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(i(137,u));break;default:Ct!==Wt&&Jn(s,u,At,Ct,g,Wt)}}Ss(s,j,X,at,Mt,kt,C,A);return;case"select":Ct=j=X=At=null;for(C in p)if(at=p[C],p.hasOwnProperty(C)&&at!=null)switch(C){case"value":break;case"multiple":Ct=at;default:g.hasOwnProperty(C)||Jn(s,u,C,null,g,at)}for(A in g)if(C=g[A],at=p[A],g.hasOwnProperty(A)&&(C!=null||at!=null))switch(A){case"value":At=C;break;case"defaultValue":X=C;break;case"multiple":j=C;default:C!==at&&Jn(s,u,A,C,g,at)}u=X,p=j,g=Ct,At!=null?Ci(s,!!p,At,!1):!!g!=!!p&&(u!=null?Ci(s,!!p,u,!0):Ci(s,!!p,p?[]:"",!1));return;case"textarea":Ct=At=null;for(X in p)if(A=p[X],p.hasOwnProperty(X)&&A!=null&&!g.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Jn(s,u,X,null,g,A)}for(j in g)if(A=g[j],C=p[j],g.hasOwnProperty(j)&&(A!=null||C!=null))switch(j){case"value":At=A;break;case"defaultValue":Ct=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==C&&Jn(s,u,j,A,g,C)}Gi(s,At,Ct);return;case"option":for(var qe in p)if(At=p[qe],p.hasOwnProperty(qe)&&At!=null&&!g.hasOwnProperty(qe))switch(qe){case"selected":s.selected=!1;break;default:Jn(s,u,qe,null,g,At)}for(at in g)if(At=g[at],Ct=p[at],g.hasOwnProperty(at)&&At!==Ct&&(At!=null||Ct!=null))switch(at){case"selected":s.selected=At&&typeof At!="function"&&typeof At!="symbol";break;default:Jn(s,u,at,At,g,Ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in p)At=p[He],p.hasOwnProperty(He)&&At!=null&&!g.hasOwnProperty(He)&&Jn(s,u,He,null,g,At);for(Mt in g)if(At=g[Mt],Ct=p[Mt],g.hasOwnProperty(Mt)&&At!==Ct&&(At!=null||Ct!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(i(137,u));break;default:Jn(s,u,Mt,At,g,Ct)}return;default:if(Xh(u)){for(var ti in p)At=p[ti],p.hasOwnProperty(ti)&&At!==void 0&&!g.hasOwnProperty(ti)&&Z1(s,u,ti,void 0,g,At);for(kt in g)At=g[kt],Ct=p[kt],!g.hasOwnProperty(kt)||At===Ct||At===void 0&&Ct===void 0||Z1(s,u,kt,At,g,Ct);return}}for(var vt in p)At=p[vt],p.hasOwnProperty(vt)&&At!=null&&!g.hasOwnProperty(vt)&&Jn(s,u,vt,null,g,At);for(Wt in g)At=g[Wt],Ct=p[Wt],!g.hasOwnProperty(Wt)||At===Ct||At==null&&Ct==null||Jn(s,u,Wt,At,g,Ct)}var K1=null,$1=null;function sb(s){return s.nodeType===9?s:s.ownerDocument}function hD(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dD(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function Q1(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var J1=null;function _8(){var s=window.event;return s&&s.type==="popstate"?s===J1?!1:(J1=s,!0):(J1=null,!1)}var pD=typeof setTimeout=="function"?setTimeout:void 0,x8=typeof clearTimeout=="function"?clearTimeout:void 0,mD=typeof Promise=="function"?Promise:void 0,S8=typeof queueMicrotask=="function"?queueMicrotask:typeof mD<"u"?function(s){return mD.resolve(null).then(s).catch(M8)}:pD;function M8(s){setTimeout(function(){throw s})}function xc(s){return s==="head"}function vD(s,u){var p=u,g=0,A=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(0<g&&8>g){p=g;var j=s.ownerDocument;if(p&1&&Av(j.documentElement),p&2&&Av(j.body),p&4)for(p=j.head,Av(p),j=p.firstChild;j;){var X=j.nextSibling,at=j.nodeName;j[Qa]||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&j.rel.toLowerCase()==="stylesheet"||p.removeChild(j),j=X}}if(A===0){s.removeChild(C),Pv(u);return}A--}else p==="$"||p==="$?"||p==="$!"?A++:g=p.charCodeAt(0)-48;else g=0;p=C}while(p);Pv(u)}function tM(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":tM(p),In(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function E8(s,u,p,g){for(;s.nodeType===1;){var A=p;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Qa])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=Mo(s.nextSibling),s===null)break}return null}function A8(s,u,p){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=Mo(s.nextSibling),s===null))return null;return s}function eM(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function T8(s,u){var p=s.ownerDocument;if(s.data!=="$?"||p.readyState==="complete")u();else{var g=function(){u(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Mo(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return s}var nM=null;function gD(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}function yD(s,u,p){switch(u=sb(p),s){case"html":if(s=u.documentElement,!s)throw Error(i(452));return s;case"head":if(s=u.head,!s)throw Error(i(453));return s;case"body":if(s=u.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Av(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);In(s)}var js=new Map,bD=new Set;function ob(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ru=q.d;q.d={f:w8,r:O8,D:C8,C:R8,L:D8,m:N8,X:U8,S:P8,M:L8};function w8(){var s=ru.f(),u=Hs();return s||u}function O8(s){var u=ts(s);u!==null&&u.tag===5&&u.type==="form"?F0(u):ru.r(s)}var qd=typeof document>"u"?null:document;function _D(s,u,p){var g=qd;if(g&&typeof u=="string"&&u){var A=qn(u);A='link[rel="'+s+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),bD.has(A)||(bD.add(A),s={rel:s,crossOrigin:p,href:u},g.querySelector(A)===null&&(u=g.createElement("link"),Ir(u,"link",s),Oi(u),g.head.appendChild(u)))}}function C8(s){ru.D(s),_D("dns-prefetch",s,null)}function R8(s,u){ru.C(s,u),_D("preconnect",s,u)}function D8(s,u,p){ru.L(s,u,p);var g=qd;if(g&&s&&u){var A='link[rel="preload"][as="'+qn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+qn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+qn(p.imageSizes)+'"]')):A+='[href="'+qn(s)+'"]';var C=A;switch(u){case"style":C=kd(s);break;case"script":C=Xd(s)}js.has(C)||(s=m({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:s,as:u},p),js.set(C,s),g.querySelector(A)!==null||u==="style"&&g.querySelector(Tv(C))||u==="script"&&g.querySelector(wv(C))||(u=g.createElement("link"),Ir(u,"link",s),Oi(u),g.head.appendChild(u)))}}function N8(s,u){ru.m(s,u);var p=qd;if(p&&s){var g=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+qn(g)+'"][href="'+qn(s)+'"]',C=A;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Xd(s)}if(!js.has(C)&&(s=m({rel:"modulepreload",href:s},u),js.set(C,s),p.querySelector(A)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(wv(C)))return}g=p.createElement("link"),Ir(g,"link",s),Oi(g),p.head.appendChild(g)}}}function P8(s,u,p){ru.S(s,u,p);var g=qd;if(g&&s){var A=Qs(g).hoistableStyles,C=kd(s);u=u||"default";var j=A.get(C);if(!j){var X={loading:0,preload:null};if(j=g.querySelector(Tv(C)))X.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":u},p),(p=js.get(C))&&iM(s,p);var at=j=g.createElement("link");Oi(at),Ir(at,"link",s),at._p=new Promise(function(Mt,kt){at.onload=Mt,at.onerror=kt}),at.addEventListener("load",function(){X.loading|=1}),at.addEventListener("error",function(){X.loading|=2}),X.loading|=4,lb(j,u,g)}j={type:"stylesheet",instance:j,count:1,state:X},A.set(C,j)}}}function U8(s,u){ru.X(s,u);var p=qd;if(p&&s){var g=Qs(p).hoistableScripts,A=Xd(s),C=g.get(A);C||(C=p.querySelector(wv(A)),C||(s=m({src:s,async:!0},u),(u=js.get(A))&&rM(s,u),C=p.createElement("script"),Oi(C),Ir(C,"link",s),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(A,C))}}function L8(s,u){ru.M(s,u);var p=qd;if(p&&s){var g=Qs(p).hoistableScripts,A=Xd(s),C=g.get(A);C||(C=p.querySelector(wv(A)),C||(s=m({src:s,async:!0,type:"module"},u),(u=js.get(A))&&rM(s,u),C=p.createElement("script"),Oi(C),Ir(C,"link",s),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(A,C))}}function xD(s,u,p,g){var A=(A=Ut.current)?ob(A):null;if(!A)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=kd(p.href),p=Qs(A).hoistableStyles,g=p.get(u),g||(g={type:"style",instance:null,count:0,state:null},p.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=kd(p.href);var C=Qs(A).hoistableStyles,j=C.get(s);if(j||(A=A.ownerDocument||A,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,j),(C=A.querySelector(Tv(s)))&&!C._p&&(j.instance=C,j.state.loading=5),js.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},js.set(s,p),C||I8(A,s,p,j.state))),u&&g===null)throw Error(i(528,""));return j}if(u&&g!==null)throw Error(i(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Xd(p),p=Qs(A).hoistableScripts,g=p.get(u),g||(g={type:"script",instance:null,count:0,state:null},p.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function kd(s){return'href="'+qn(s)+'"'}function Tv(s){return'link[rel="stylesheet"]['+s+"]"}function SD(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function I8(s,u,p,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Ir(u,"link",p),Oi(u),s.head.appendChild(u))}function Xd(s){return'[src="'+qn(s)+'"]'}function wv(s){return"script[async]"+s}function MD(s,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+qn(p.href)+'"]');if(g)return u.instance=g,Oi(g),g;var A=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Oi(g),Ir(g,"style",A),lb(g,p.precedence,s),u.instance=g;case"stylesheet":A=kd(p.href);var C=s.querySelector(Tv(A));if(C)return u.state.loading|=4,u.instance=C,Oi(C),C;g=SD(p),(A=js.get(A))&&iM(g,A),C=(s.ownerDocument||s).createElement("link"),Oi(C);var j=C;return j._p=new Promise(function(X,at){j.onload=X,j.onerror=at}),Ir(C,"link",g),u.state.loading|=4,lb(C,p.precedence,s),u.instance=C;case"script":return C=Xd(p.src),(A=s.querySelector(wv(C)))?(u.instance=A,Oi(A),A):(g=p,(A=js.get(C))&&(g=m({},p),rM(g,A)),s=s.ownerDocument||s,A=s.createElement("script"),Oi(A),Ir(A,"link",g),s.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,lb(g,p.precedence,s));return u.instance}function lb(s,u,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=g.length?g[g.length-1]:null,C=A,j=0;j<g.length;j++){var X=g[j];if(X.dataset.precedence===u)C=X;else if(C!==A)break}C?C.parentNode.insertBefore(s,C.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(s,u.firstChild))}function iM(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function rM(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var ub=null;function ED(s,u,p){if(ub===null){var g=new Map,A=ub=new Map;A.set(p,g)}else A=ub,g=A.get(p),g||(g=new Map,A.set(p,g));if(g.has(s))return g;for(g.set(s,null),p=p.getElementsByTagName(s),A=0;A<p.length;A++){var C=p[A];if(!(C[Qa]||C[wi]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var j=C.getAttribute(u)||"";j=s+j;var X=g.get(j);X?X.push(C):g.set(j,[C])}}return g}function AD(s,u,p){s=s.ownerDocument||s,s.head.insertBefore(p,u==="title"?s.querySelector("head > title"):null)}function B8(s,u,p){if(p===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function TD(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ov=null;function z8(){}function H8(s,u,p){if(Ov===null)throw Error(i(475));var g=Ov;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var A=kd(p.href),C=s.querySelector(Tv(A));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=cb.bind(g),s.then(g,g)),u.state.loading|=4,u.instance=C,Oi(C);return}C=s.ownerDocument||s,p=SD(p),(A=js.get(A))&&iM(p,A),C=C.createElement("link"),Oi(C);var j=C;j._p=new Promise(function(X,at){j.onload=X,j.onerror=at}),Ir(C,"link",p),u.instance=C}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=cb.bind(g),s.addEventListener("load",u),s.addEventListener("error",u))}}function F8(){if(Ov===null)throw Error(i(475));var s=Ov;return s.stylesheets&&s.count===0&&aM(s,s.stylesheets),0<s.count?function(u){var p=setTimeout(function(){if(s.stylesheets&&aM(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(p)}}:null}function cb(){if(this.count--,this.count===0){if(this.stylesheets)aM(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fb=null;function aM(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fb=new Map,u.forEach(j8,s),fb=null,cb.call(s))}function j8(s,u){if(!(u.state.loading&4)){var p=fb.get(s);if(p)var g=p.get(null);else{p=new Map,fb.set(s,p);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var j=A[C];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(p.set(j.dataset.precedence,j),g=j)}g&&p.set(null,g)}A=u.instance,j=A.getAttribute("data-precedence"),C=p.get(j)||g,C===g&&p.set(null,A),p.set(j,A),this.count++,g=cb.bind(this),A.addEventListener("load",g),A.addEventListener("error",g),C?C.parentNode.insertBefore(A,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),u.state.loading|=4}}var Cv={$$typeof:O,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function V8(s,u,p,g,A,C,j,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=g,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function wD(s,u,p,g,A,C,j,X,at,Mt,kt,Wt){return s=new V8(s,u,p,j,X,at,Mt,Wt),u=1,C===!0&&(u|=24),C=kr(3,null,null,u),s.current=C,C.stateNode=s,u=dd(),u.refCount++,s.pooledCache=u,u.refCount++,C.memoizedState={element:g,isDehydrated:p,cache:u},Jm(C),s}function OD(s){return s?(s=Zo,s):Zo}function CD(s,u,p,g,A,C){A=OD(A),g.context===null?g.context=A:g.pendingContext=A,g=Os(u),g.payload={element:p},C=C===void 0?null:C,C!==null&&(g.callback=C),p=ho(s,g,u),p!==null&&(Lr(p,s,u),Fl(p,s,u))}function RD(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function sM(s,u){RD(s,u),(s=s.alternate)&&RD(s,u)}function DD(s){if(s.tag===13){var u=oo(s,67108864);u!==null&&Lr(u,s,67108864),sM(s,67108864)}}var hb=!0;function G8(s,u,p,g){var A=H.T;H.T=null;var C=q.p;try{q.p=2,oM(s,u,p,g)}finally{q.p=C,H.T=A}}function q8(s,u,p,g){var A=H.T;H.T=null;var C=q.p;try{q.p=8,oM(s,u,p,g)}finally{q.p=C,H.T=A}}function oM(s,u,p,g){if(hb){var A=lM(g);if(A===null)W1(s,u,g,db,p),PD(s,g);else if(X8(A,s,u,p,g))g.stopPropagation();else if(PD(s,g),u&4&&-1<k8.indexOf(s)){for(;A!==null;){var C=ts(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var j=oe(C.pendingLanes);if(j!==0){var X=C;for(X.pendingLanes|=2,X.entangledLanes|=2;j;){var at=1<<31-ae(j);X.entanglements[1]|=at,j&=~at}bl(C),(Rn&6)===0&&(br=Pt()+500,Sv(0))}}break;case 13:X=oo(C,2),X!==null&&Lr(X,C,2),Hs(),sM(C,2)}if(C=lM(g),C===null&&W1(s,u,g,db,p),C===A)break;A=C}A!==null&&g.stopPropagation()}else W1(s,u,g,null,p)}}function lM(s){return s=Wh(s),uM(s)}var db=null;function uM(s){if(db=null,s=Ja(s),s!==null){var u=a(s);if(u===null)s=null;else{var p=u.tag;if(p===13){if(s=o(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return db=s,null}function ND(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ht()){case ne:return 2;case Bt:return 8;case $:case V:return 32;case pt:return 268435456;default:return 32}default:return 32}}var cM=!1,Sc=null,Mc=null,Ec=null,Rv=new Map,Dv=new Map,Ac=[],k8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PD(s,u){switch(s){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Ec=null;break;case"pointerover":case"pointerout":Rv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dv.delete(u.pointerId)}}function Nv(s,u,p,g,A,C){return s===null||s.nativeEvent!==C?(s={blockedOn:u,domEventName:p,eventSystemFlags:g,nativeEvent:C,targetContainers:[A]},u!==null&&(u=ts(u),u!==null&&DD(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),s)}function X8(s,u,p,g,A){switch(u){case"focusin":return Sc=Nv(Sc,s,u,p,g,A),!0;case"dragenter":return Mc=Nv(Mc,s,u,p,g,A),!0;case"mouseover":return Ec=Nv(Ec,s,u,p,g,A),!0;case"pointerover":var C=A.pointerId;return Rv.set(C,Nv(Rv.get(C)||null,s,u,p,g,A)),!0;case"gotpointercapture":return C=A.pointerId,Dv.set(C,Nv(Dv.get(C)||null,s,u,p,g,A)),!0}return!1}function UD(s){var u=Ja(s.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){s.blockedOn=u,Ti(s.priority,function(){if(p.tag===13){var g=gi();g=rn(g);var A=oo(p,g);A!==null&&Lr(A,p,g),sM(p,g)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pb(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=lM(s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);Yh=g,p.target.dispatchEvent(g),Yh=null}else return u=ts(p),u!==null&&DD(u),s.blockedOn=p,!1;u.shift()}return!0}function LD(s,u,p){pb(s)&&p.delete(u)}function Y8(){cM=!1,Sc!==null&&pb(Sc)&&(Sc=null),Mc!==null&&pb(Mc)&&(Mc=null),Ec!==null&&pb(Ec)&&(Ec=null),Rv.forEach(LD),Dv.forEach(LD)}function mb(s,u){s.blockedOn===u&&(s.blockedOn=null,cM||(cM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y8)))}var vb=null;function ID(s){vb!==s&&(vb=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vb===s&&(vb=null);for(var u=0;u<s.length;u+=3){var p=s[u],g=s[u+1],A=s[u+2];if(typeof g!="function"){if(uM(g||p)===null)continue;break}var C=ts(p);C!==null&&(s.splice(u,3),u-=3,mv(C,{pending:!0,data:A,method:p.method,action:g},g,A))}}))}function Pv(s){function u(at){return mb(at,s)}Sc!==null&&mb(Sc,s),Mc!==null&&mb(Mc,s),Ec!==null&&mb(Ec,s),Rv.forEach(u),Dv.forEach(u);for(var p=0;p<Ac.length;p++){var g=Ac[p];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ac.length&&(p=Ac[0],p.blockedOn===null);)UD(p),p.blockedOn===null&&Ac.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var A=p[g],C=p[g+1],j=A[Ii]||null;if(typeof C=="function")j||ID(p);else if(j){var X=null;if(C&&C.hasAttribute("formAction")){if(A=C,j=C[Ii]||null)X=j.formAction;else if(uM(A)!==null)continue}else X=j.action;typeof X=="function"?p[g+1]=X:(p.splice(g,3),g-=3),ID(p)}}}function fM(s){this._internalRoot=s}gb.prototype.render=fM.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(i(409));var p=u.current,g=gi();CD(p,g,s,u,null,null)},gb.prototype.unmount=fM.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;CD(s.current,2,null,s,null,null),Hs(),u[vr]=null}};function gb(s){this._internalRoot=s}gb.prototype.unstable_scheduleHydration=function(s){if(s){var u=$e();s={blockedOn:null,target:s,priority:u};for(var p=0;p<Ac.length&&u!==0&&u<Ac[p].priority;p++);Ac.splice(p,0,s),p===0&&UD(s)}};var BD=t.version;if(BD!=="19.1.0")throw Error(i(527,BD,"19.1.0"));q.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=c(u),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var W8={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yb.isDisabled&&yb.supportsFiber)try{zt=yb.inject(W8),le=yb}catch{}}return Lv.createRoot=function(s,u){if(!r(s))throw Error(i(299));var p=!1,g="",A=jf,C=Rd,j=Q0,X=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks)),u=wD(s,1,!1,null,null,p,g,A,C,j,X,null),s[vr]=u.current,Y1(s),new fM(u)},Lv.hydrateRoot=function(s,u,p){if(!r(s))throw Error(i(299));var g=!1,A="",C=jf,j=Rd,X=Q0,at=null,Mt=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(j=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(at=p.unstable_transitionCallbacks),p.formState!==void 0&&(Mt=p.formState)),u=wD(s,1,!0,u,p??null,g,A,C,j,X,at,Mt),u.context=OD(null),p=u.current,g=gi(),g=rn(g),A=Os(g),A.callback=null,ho(p,A,g),p=g,u.current.lanes=p,Gt(u,p),bl(u),s[vr]=u.current,Y1(s),new gb(u)},Lv.version="19.1.0",Lv}var YD;function rV(){if(YD)return pM.exports;YD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),pM.exports=iV(),pM.exports}var aV=rV();const sV=Gn(aV);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),WD=n=>{const t=lV(n);return t.charAt(0).toUpperCase()+t.slice(1)},I4=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=St.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:o,...l},c)=>St.createElement("svg",{ref:c,...uV,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:I4("lucide",r),...l},[...o.map(([h,m])=>St.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=(n,t)=>{const e=St.forwardRef(({className:i,...r},a)=>St.createElement(cV,{ref:a,iconNode:t,className:I4(`lucide-${oV(WD(n))}`,`lucide-${n}`,i),...r}));return e.displayName=WD(n),e};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],dV=fV("grip-horizontal",hV);function pV({robotStatus:n="E-STOP",speed:t=0,steeringAngle:e=0,battery:i=100,jointAngles:r=[0,0,0,0,0,0],cartesianCoords:a=[0,0,0,0,0,0],gripperOpening:o=0}){const l=h=>h<=20?"text-red-600":"text-gray-800",c=h=>h<=20?"bg-red-600":"bg-green-500";return dt.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full h-full border border-gray-200",children:[dt.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"로봇 정보"}),dt.jsxs("div",{className:"space-y-3",children:[dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"로봇 상태:"}),dt.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n==="E-STOP"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:n})]}),dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"속도:"}),dt.jsxs("span",{className:"text-gray-800 font-mono",children:[t.toFixed(2)," m/s"]})]}),dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"조향 각도:"}),dt.jsxs("span",{className:"text-gray-800 font-mono",children:[e.toFixed(2),"°"]})]}),dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"배터리 상태:"}),dt.jsxs("div",{className:"flex items-center",children:[dt.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2.5 mr-2",children:dt.jsx("div",{className:`h-2.5 rounded-full ${c(i)}`,style:{width:`${i}%`}})}),dt.jsxs("span",{className:`font-medium ${l(i)}`,children:[i.toFixed(1),"%"]})]})]}),dt.jsxs("div",{className:"pt-3 mt-4 border-t border-gray-100 space-y-3",children:[dt.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"로봇팔 상태"}),dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"조인트 각도:"}),dt.jsxs("span",{className:"text-gray-800 font-mono",children:["[",r.map(h=>`${h.toFixed(1)}°`).join(", "),"]"]})]}),dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"Cartesian 좌표:"}),dt.jsxs("span",{className:"text-gray-800 font-mono",children:["(",a.map(h=>h.toFixed(2)).join(", "),")"]})]}),dt.jsxs("div",{className:"flex items-center justify-between",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"그리퍼 개방 정도:"}),dt.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[dt.jsx(dV,{className:"text-blue-600 w-4 h-4"}),dt.jsxs("span",{className:"text-gray-700 font-mono",children:[o.toFixed(1)," mm"]})]})]})]})]})]})}function B4(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=B4(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Vn(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=B4(n))&&(i&&(i+=" "),i+=t);return i}var yM,ZD;function Za(){if(ZD)return yM;ZD=1;var n=Array.isArray;return yM=n,yM}var bM,KD;function z4(){if(KD)return bM;KD=1;var n=typeof bb=="object"&&bb&&bb.Object===Object&&bb;return bM=n,bM}var _M,$D;function Pl(){if($D)return _M;$D=1;var n=z4(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=n||t||Function("return this")();return _M=e,_M}var xM,QD;function Ay(){if(QD)return xM;QD=1;var n=Pl(),t=n.Symbol;return xM=t,xM}var SM,JD;function mV(){if(JD)return SM;JD=1;var n=Ay(),t=Object.prototype,e=t.hasOwnProperty,i=t.toString,r=n?n.toStringTag:void 0;function a(o){var l=e.call(o,r),c=o[r];try{o[r]=void 0;var h=!0}catch{}var m=i.call(o);return h&&(l?o[r]=c:delete o[r]),m}return SM=a,SM}var MM,t3;function vV(){if(t3)return MM;t3=1;var n=Object.prototype,t=n.toString;function e(i){return t.call(i)}return MM=e,MM}var EM,e3;function Du(){if(e3)return EM;e3=1;var n=Ay(),t=mV(),e=vV(),i="[object Null]",r="[object Undefined]",a=n?n.toStringTag:void 0;function o(l){return l==null?l===void 0?r:i:a&&a in Object(l)?t(l):e(l)}return EM=o,EM}var AM,n3;function Nu(){if(n3)return AM;n3=1;function n(t){return t!=null&&typeof t=="object"}return AM=n,AM}var TM,i3;function lm(){if(i3)return TM;i3=1;var n=Du(),t=Nu(),e="[object Symbol]";function i(r){return typeof r=="symbol"||t(r)&&n(r)==e}return TM=i,TM}var wM,r3;function sC(){if(r3)return wM;r3=1;var n=Za(),t=lm(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,o){if(n(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:i.test(a)||!e.test(a)||o!=null&&a in Object(o)}return wM=r,wM}var OM,a3;function Yc(){if(a3)return OM;a3=1;function n(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return OM=n,OM}var CM,s3;function oC(){if(s3)return CM;s3=1;var n=Du(),t=Yc(),e="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!t(l))return!1;var c=n(l);return c==i||c==r||c==e||c==a}return CM=o,CM}var RM,o3;function gV(){if(o3)return RM;o3=1;var n=Pl(),t=n["__core-js_shared__"];return RM=t,RM}var DM,l3;function yV(){if(l3)return DM;l3=1;var n=gV(),t=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function e(i){return!!t&&t in i}return DM=e,DM}var NM,u3;function H4(){if(u3)return NM;u3=1;var n=Function.prototype,t=n.toString;function e(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return NM=e,NM}var PM,c3;function bV(){if(c3)return PM;c3=1;var n=oC(),t=yV(),e=Yc(),i=H4(),r=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,h=l.hasOwnProperty,m=RegExp("^"+c.call(h).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!e(y)||t(y))return!1;var _=n(y)?m:a;return _.test(i(y))}return PM=v,PM}var UM,f3;function _V(){if(f3)return UM;f3=1;function n(t,e){return t==null?void 0:t[e]}return UM=n,UM}var LM,h3;function Bh(){if(h3)return LM;h3=1;var n=bV(),t=_V();function e(i,r){var a=t(i,r);return n(a)?a:void 0}return LM=e,LM}var IM,d3;function vS(){if(d3)return IM;d3=1;var n=Bh(),t=n(Object,"create");return IM=t,IM}var BM,p3;function xV(){if(p3)return BM;p3=1;var n=vS();function t(){this.__data__=n?n(null):{},this.size=0}return BM=t,BM}var zM,m3;function SV(){if(m3)return zM;m3=1;function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return zM=n,zM}var HM,v3;function MV(){if(v3)return HM;v3=1;var n=vS(),t="__lodash_hash_undefined__",e=Object.prototype,i=e.hasOwnProperty;function r(a){var o=this.__data__;if(n){var l=o[a];return l===t?void 0:l}return i.call(o,a)?o[a]:void 0}return HM=r,HM}var FM,g3;function EV(){if(g3)return FM;g3=1;var n=vS(),t=Object.prototype,e=t.hasOwnProperty;function i(r){var a=this.__data__;return n?a[r]!==void 0:e.call(a,r)}return FM=i,FM}var jM,y3;function AV(){if(y3)return jM;y3=1;var n=vS(),t="__lodash_hash_undefined__";function e(i,r){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=n&&r===void 0?t:r,this}return jM=e,jM}var VM,b3;function TV(){if(b3)return VM;b3=1;var n=xV(),t=SV(),e=MV(),i=EV(),r=AV();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var h=o[l];this.set(h[0],h[1])}}return a.prototype.clear=n,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=i,a.prototype.set=r,VM=a,VM}var GM,_3;function wV(){if(_3)return GM;_3=1;function n(){this.__data__=[],this.size=0}return GM=n,GM}var qM,x3;function lC(){if(x3)return qM;x3=1;function n(t,e){return t===e||t!==t&&e!==e}return qM=n,qM}var kM,S3;function gS(){if(S3)return kM;S3=1;var n=lC();function t(e,i){for(var r=e.length;r--;)if(n(e[r][0],i))return r;return-1}return kM=t,kM}var XM,M3;function OV(){if(M3)return XM;M3=1;var n=gS(),t=Array.prototype,e=t.splice;function i(r){var a=this.__data__,o=n(a,r);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():e.call(a,o,1),--this.size,!0}return XM=i,XM}var YM,E3;function CV(){if(E3)return YM;E3=1;var n=gS();function t(e){var i=this.__data__,r=n(i,e);return r<0?void 0:i[r][1]}return YM=t,YM}var WM,A3;function RV(){if(A3)return WM;A3=1;var n=gS();function t(e){return n(this.__data__,e)>-1}return WM=t,WM}var ZM,T3;function DV(){if(T3)return ZM;T3=1;var n=gS();function t(e,i){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,i])):r[a][1]=i,this}return ZM=t,ZM}var KM,w3;function yS(){if(w3)return KM;w3=1;var n=wV(),t=OV(),e=CV(),i=RV(),r=DV();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var h=o[l];this.set(h[0],h[1])}}return a.prototype.clear=n,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=i,a.prototype.set=r,KM=a,KM}var $M,O3;function uC(){if(O3)return $M;O3=1;var n=Bh(),t=Pl(),e=n(t,"Map");return $M=e,$M}var QM,C3;function NV(){if(C3)return QM;C3=1;var n=TV(),t=yS(),e=uC();function i(){this.size=0,this.__data__={hash:new n,map:new(e||t),string:new n}}return QM=i,QM}var JM,R3;function PV(){if(R3)return JM;R3=1;function n(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return JM=n,JM}var tE,D3;function bS(){if(D3)return tE;D3=1;var n=PV();function t(e,i){var r=e.__data__;return n(i)?r[typeof i=="string"?"string":"hash"]:r.map}return tE=t,tE}var eE,N3;function UV(){if(N3)return eE;N3=1;var n=bS();function t(e){var i=n(this,e).delete(e);return this.size-=i?1:0,i}return eE=t,eE}var nE,P3;function LV(){if(P3)return nE;P3=1;var n=bS();function t(e){return n(this,e).get(e)}return nE=t,nE}var iE,U3;function IV(){if(U3)return iE;U3=1;var n=bS();function t(e){return n(this,e).has(e)}return iE=t,iE}var rE,L3;function BV(){if(L3)return rE;L3=1;var n=bS();function t(e,i){var r=n(this,e),a=r.size;return r.set(e,i),this.size+=r.size==a?0:1,this}return rE=t,rE}var aE,I3;function cC(){if(I3)return aE;I3=1;var n=NV(),t=UV(),e=LV(),i=IV(),r=BV();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var h=o[l];this.set(h[0],h[1])}}return a.prototype.clear=n,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=i,a.prototype.set=r,aE=a,aE}var sE,B3;function F4(){if(B3)return sE;B3=1;var n=cC(),t="Expected a function";function e(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(t);var a=function(){var o=arguments,l=r?r.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var h=i.apply(this,o);return a.cache=c.set(l,h)||c,h};return a.cache=new(e.Cache||n),a}return e.Cache=n,sE=e,sE}var oE,z3;function zV(){if(z3)return oE;z3=1;var n=F4(),t=500;function e(i){var r=n(i,function(o){return a.size===t&&a.clear(),o}),a=r.cache;return r}return oE=e,oE}var lE,H3;function HV(){if(H3)return lE;H3=1;var n=zV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,i=n(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(t,function(o,l,c,h){a.push(c?h.replace(e,"$1"):l||o)}),a});return lE=i,lE}var uE,F3;function fC(){if(F3)return uE;F3=1;function n(t,e){for(var i=-1,r=t==null?0:t.length,a=Array(r);++i<r;)a[i]=e(t[i],i,t);return a}return uE=n,uE}var cE,j3;function FV(){if(j3)return cE;j3=1;var n=Ay(),t=fC(),e=Za(),i=lm(),r=n?n.prototype:void 0,a=r?r.toString:void 0;function o(l){if(typeof l=="string")return l;if(e(l))return t(l,o)+"";if(i(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return cE=o,cE}var fE,V3;function j4(){if(V3)return fE;V3=1;var n=FV();function t(e){return e==null?"":n(e)}return fE=t,fE}var hE,G3;function V4(){if(G3)return hE;G3=1;var n=Za(),t=sC(),e=HV(),i=j4();function r(a,o){return n(a)?a:t(a,o)?[a]:e(i(a))}return hE=r,hE}var dE,q3;function _S(){if(q3)return dE;q3=1;var n=lm();function t(e){if(typeof e=="string"||n(e))return e;var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}return dE=t,dE}var pE,k3;function hC(){if(k3)return pE;k3=1;var n=V4(),t=_S();function e(i,r){r=n(r,i);for(var a=0,o=r.length;i!=null&&a<o;)i=i[t(r[a++])];return a&&a==o?i:void 0}return pE=e,pE}var mE,X3;function G4(){if(X3)return mE;X3=1;var n=hC();function t(e,i,r){var a=e==null?void 0:n(e,i);return a===void 0?r:a}return mE=t,mE}var jV=G4();const Ys=Gn(jV);var vE,Y3;function VV(){if(Y3)return vE;Y3=1;function n(t){return t==null}return vE=n,vE}var GV=VV();const jn=Gn(GV);var gE,W3;function qV(){if(W3)return gE;W3=1;var n=Du(),t=Za(),e=Nu(),i="[object String]";function r(a){return typeof a=="string"||!t(a)&&e(a)&&n(a)==i}return gE=r,gE}var kV=qV();const Ty=Gn(kV);var XV=oC();const mn=Gn(XV);var YV=Yc();const um=Gn(YV);var yE={exports:{}},Hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function WV(){if(Z3)return Hn;Z3=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function E(x){if(typeof x=="object"&&x!==null){var M=x.$$typeof;switch(M){case n:switch(x=x.type,x){case e:case r:case i:case h:case m:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case c:case y:case v:case a:return x;default:return M}}case t:return M}}}return Hn.ContextConsumer=o,Hn.ContextProvider=a,Hn.Element=n,Hn.ForwardRef=c,Hn.Fragment=e,Hn.Lazy=y,Hn.Memo=v,Hn.Portal=t,Hn.Profiler=r,Hn.StrictMode=i,Hn.Suspense=h,Hn.SuspenseList=m,Hn.isAsyncMode=function(){return!1},Hn.isConcurrentMode=function(){return!1},Hn.isContextConsumer=function(x){return E(x)===o},Hn.isContextProvider=function(x){return E(x)===a},Hn.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===n},Hn.isForwardRef=function(x){return E(x)===c},Hn.isFragment=function(x){return E(x)===e},Hn.isLazy=function(x){return E(x)===y},Hn.isMemo=function(x){return E(x)===v},Hn.isPortal=function(x){return E(x)===t},Hn.isProfiler=function(x){return E(x)===r},Hn.isStrictMode=function(x){return E(x)===i},Hn.isSuspense=function(x){return E(x)===h},Hn.isSuspenseList=function(x){return E(x)===m},Hn.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===e||x===r||x===i||x===h||x===m||x===_||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===v||x.$$typeof===a||x.$$typeof===o||x.$$typeof===c||x.$$typeof===S||x.getModuleId!==void 0)},Hn.typeOf=E,Hn}var K3;function ZV(){return K3||(K3=1,yE.exports=WV()),yE.exports}var KV=ZV(),bE,$3;function q4(){if($3)return bE;$3=1;var n=Du(),t=Nu(),e="[object Number]";function i(r){return typeof r=="number"||t(r)&&n(r)==e}return bE=i,bE}var _E,Q3;function $V(){if(Q3)return _E;Q3=1;var n=q4();function t(e){return n(e)&&e!=+e}return _E=t,_E}var QV=$V();const wy=Gn(QV);var JV=q4();const tG=Gn(JV);var Po=function(t){return t===0?0:t>0?1:-1},vh=function(t){return Ty(t)&&t.indexOf("%")===t.length-1},de=function(t){return tG(t)&&!wy(t)},fr=function(t){return de(t)||Ty(t)},eG=0,xS=function(t){var e=++eG;return"".concat(t||"").concat(e)},Ch=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!Ty(t))return i;var a;if(vh(t)){var o=t.indexOf("%");a=e*parseFloat(t.slice(0,o))/100}else a=+t;return wy(a)&&(a=i),r&&a>e&&(a=e),a},Ic=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},nG=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,i={},r=0;r<e;r++)if(!i[t[r]])i[t[r]]=!0;else return!0;return!1},Yd=function(t,e){return de(t)&&de(e)?function(i){return t+i*(e-t)}:function(){return e}};function S2(n,t,e){return!n||!n.length?null:n.find(function(i){return i&&(typeof t=="function"?t(i):Ys(i,t))===e})}function Ap(n,t){for(var e in n)if({}.hasOwnProperty.call(n,e)&&(!{}.hasOwnProperty.call(t,e)||n[e]!==t[e]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(n,i))return!1;return!0}function M2(n){"@babel/helpers - typeof";return M2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M2(n)}var iG=["viewBox","children"],rG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],J3=["points","pathLength"],xE={svg:iG,polygon:J3,polyline:J3},dC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],P_=function(t,e){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(St.isValidElement(t)&&(i=t.props),!um(i))return null;var r={};return Object.keys(i).forEach(function(a){dC.includes(a)&&(r[a]=e||function(o){return i[a](i,o)})}),r},aG=function(t,e,i){return function(r){return t(e,i,r),null}},U_=function(t,e,i){if(!um(t)||M2(t)!=="object")return null;var r=null;return Object.keys(t).forEach(function(a){var o=t[a];dC.includes(a)&&typeof o=="function"&&(r||(r={}),r[a]=aG(o,e,i))}),r},sG=["children"],oG=["children"];function tN(n,t){if(n==null)return{};var e=lG(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function lG(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}var eN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nN=null,SE=null,pC=function n(t){if(t===nN&&Array.isArray(SE))return SE;var e=[];return St.Children.forEach(t,function(i){jn(i)||(KV.isFragment(i)?e=e.concat(n(i.props.children)):e.push(i))}),SE=e,nN=t,e};function Lo(n,t){var e=[],i=[];return Array.isArray(t)?i=t.map(function(r){return bu(r)}):i=[bu(t)],pC(n).forEach(function(r){var a=Ys(r,"type.displayName")||Ys(r,"type.name");i.indexOf(a)!==-1&&e.push(r)}),e}function gs(n,t){var e=Lo(n,t);return e&&e[0]}var iN=function(t){if(!t||!t.props)return!1;var e=t.props,i=e.width,r=e.height;return!(!de(i)||i<=0||!de(r)||r<=0)},uG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cG=function(t){return t&&t.type&&Ty(t.type)&&uG.indexOf(t.type)>=0},fG=function(t,e,i,r){var a,o=(a=xE==null?void 0:xE[r])!==null&&a!==void 0?a:[];return!mn(t)&&(r&&o.includes(e)||rG.includes(e))||i&&dC.includes(e)},Ln=function(t,e,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(St.isValidElement(t)&&(r=t.props),!um(r))return null;var a={};return Object.keys(r).forEach(function(o){var l;fG((l=r)===null||l===void 0?void 0:l[o],o,e,i)&&(a[o]=r[o])}),a},E2=function n(t,e){if(t===e)return!0;var i=St.Children.count(t);if(i!==St.Children.count(e))return!1;if(i===0)return!0;if(i===1)return rN(Array.isArray(t)?t[0]:t,Array.isArray(e)?e[0]:e);for(var r=0;r<i;r++){var a=t[r],o=e[r];if(Array.isArray(a)||Array.isArray(o)){if(!n(a,o))return!1}else if(!rN(a,o))return!1}return!0},rN=function(t,e){if(jn(t)&&jn(e))return!0;if(!jn(t)&&!jn(e)){var i=t.props||{},r=i.children,a=tN(i,sG),o=e.props||{},l=o.children,c=tN(o,oG);return r&&l?Ap(a,c)&&E2(r,l):!r&&!l?Ap(a,c):!1}return!1},aN=function(t,e){var i=[],r={};return pC(t).forEach(function(a,o){if(cG(a))i.push(a);else if(a){var l=bu(a.type),c=e[l]||{},h=c.handler,m=c.once;if(h&&(!m||!r[l])){var v=h(a,l,o);i.push(v),r[l]=!0}}}),i},hG=function(t){var e=t&&t.type;return e&&eN[e]?eN[e]:null},dG=function(t,e){return pC(e).indexOf(t)},pG=["children","width","height","viewBox","className","style","title","desc"];function A2(){return A2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},A2.apply(this,arguments)}function mG(n,t){if(n==null)return{};var e=vG(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function vG(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function T2(n){var t=n.children,e=n.width,i=n.height,r=n.viewBox,a=n.className,o=n.style,l=n.title,c=n.desc,h=mG(n,pG),m=r||{width:e,height:i,x:0,y:0},v=Vn("recharts-surface",a);return gt.createElement("svg",A2({},Ln(h,!0,"svg"),{className:v,width:e,height:i,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),gt.createElement("title",null,l),gt.createElement("desc",null,c),t)}var gG=["children","className"];function w2(){return w2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},w2.apply(this,arguments)}function yG(n,t){if(n==null)return{};var e=bG(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function bG(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}var Er=gt.forwardRef(function(n,t){var e=n.children,i=n.className,r=yG(n,gG),a=Vn("recharts-layer",i);return gt.createElement("g",w2({className:a},Ln(r,!0),{ref:t}),e)}),_u=function(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a]},ME,sN;function _G(){if(sN)return ME;sN=1;function n(t,e,i){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),i=i>a?a:i,i<0&&(i+=a),a=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(a);++r<a;)o[r]=t[r+e];return o}return ME=n,ME}var EE,oN;function xG(){if(oN)return EE;oN=1;var n=_G();function t(e,i,r){var a=e.length;return r=r===void 0?a:r,!i&&r>=a?e:n(e,i,r)}return EE=t,EE}var AE,lN;function k4(){if(lN)return AE;lN=1;var n="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=t+e+i,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+n+r+a+"]");function c(h){return l.test(h)}return AE=c,AE}var TE,uN;function SG(){if(uN)return TE;uN=1;function n(t){return t.split("")}return TE=n,TE}var wE,cN;function MG(){if(cN)return wE;cN=1;var n="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=t+e+i,a="\\ufe0e\\ufe0f",o="["+n+"]",l="["+r+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+c+")",m="[^"+n+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=h+"?",E="["+a+"]?",x="(?:"+_+"(?:"+[m,v,y].join("|")+")"+E+S+")*",M=E+S+x,w="(?:"+[m+l+"?",l,v,y,o].join("|")+")",O=RegExp(c+"(?="+c+")|"+w+M,"g");function R(N){return N.match(O)||[]}return wE=R,wE}var OE,fN;function EG(){if(fN)return OE;fN=1;var n=SG(),t=k4(),e=MG();function i(r){return t(r)?e(r):n(r)}return OE=i,OE}var CE,hN;function AG(){if(hN)return CE;hN=1;var n=xG(),t=k4(),e=EG(),i=j4();function r(a){return function(o){o=i(o);var l=t(o)?e(o):void 0,c=l?l[0]:o.charAt(0),h=l?n(l,1).join(""):o.slice(1);return c[a]()+h}}return CE=r,CE}var RE,dN;function TG(){if(dN)return RE;dN=1;var n=AG(),t=n("toUpperCase");return RE=t,RE}var wG=TG();const SS=Gn(wG);function ui(n){return function(){return n}}const X4=Math.cos,L_=Math.sin,Bo=Math.sqrt,I_=Math.PI,MS=2*I_,O2=Math.PI,C2=2*O2,uh=1e-6,OG=C2-uh;function Y4(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function CG(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Y4;const e=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}let RG=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Y4:CG(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,a,o){this._append`C${+t},${+e},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(t,e,i,r,a){if(t=+t,e=+e,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,h=r-e,m=o-t,v=l-e,y=m*m+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(y>uh)if(!(Math.abs(v*c-h*m)>uh)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let _=i-o,S=r-l,E=c*c+h*h,x=_*_+S*S,M=Math.sqrt(E),w=Math.sqrt(y),O=a*Math.tan((O2-Math.acos((E+y-x)/(2*M*w)))/2),R=O/w,N=O/M;Math.abs(R-1)>uh&&this._append`L${t+R*m},${e+R*v}`,this._append`A${a},${a},0,0,${+(v*_>m*S)},${this._x1=t+N*c},${this._y1=e+N*h}`}}arc(t,e,i,r,a,o){if(t=+t,e=+e,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),c=i*Math.sin(r),h=t+l,m=e+c,v=1^o,y=o?r-a:a-r;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>uh||Math.abs(this._y1-m)>uh)&&this._append`L${h},${m}`,i&&(y<0&&(y=y%C2+C2),y>OG?this._append`A${i},${i},0,1,${v},${t-l},${e-c}A${i},${i},0,1,${v},${this._x1=h},${this._y1=m}`:y>uh&&this._append`A${i},${i},0,${+(y>=O2)},${v},${this._x1=t+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function mC(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new RG(t)}function vC(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function W4(n){this._context=n}W4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function ES(n){return new W4(n)}function Z4(n){return n[0]}function K4(n){return n[1]}function $4(n,t){var e=ui(!0),i=null,r=ES,a=null,o=mC(l);n=typeof n=="function"?n:n===void 0?Z4:ui(n),t=typeof t=="function"?t:t===void 0?K4:ui(t);function l(c){var h,m=(c=vC(c)).length,v,y=!1,_;for(i==null&&(a=r(_=o())),h=0;h<=m;++h)!(h<m&&e(v=c[h],h,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+n(v,h,c),+t(v,h,c));if(_)return a=null,_+""||null}return l.x=function(c){return arguments.length?(n=typeof c=="function"?c:ui(+c),l):n},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ui(+c),l):t},l.defined=function(c){return arguments.length?(e=typeof c=="function"?c:ui(!!c),l):e},l.curve=function(c){return arguments.length?(r=c,i!=null&&(a=r(i)),l):r},l.context=function(c){return arguments.length?(c==null?i=a=null:a=r(i=c),l):i},l}function _b(n,t,e){var i=null,r=ui(!0),a=null,o=ES,l=null,c=mC(h);n=typeof n=="function"?n:n===void 0?Z4:ui(+n),t=typeof t=="function"?t:ui(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?K4:ui(+e);function h(v){var y,_,S,E=(v=vC(v)).length,x,M=!1,w,O=new Array(E),R=new Array(E);for(a==null&&(l=o(w=c())),y=0;y<=E;++y){if(!(y<E&&r(x=v[y],y,v))===M)if(M=!M)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=_;--S)l.point(O[S],R[S]);l.lineEnd(),l.areaEnd()}M&&(O[y]=+n(x,y,v),R[y]=+t(x,y,v),l.point(i?+i(x,y,v):O[y],e?+e(x,y,v):R[y]))}if(w)return l=null,w+""||null}function m(){return $4().defined(r).curve(o).context(a)}return h.x=function(v){return arguments.length?(n=typeof v=="function"?v:ui(+v),i=null,h):n},h.x0=function(v){return arguments.length?(n=typeof v=="function"?v:ui(+v),h):n},h.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:ui(+v),h):i},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:ui(+v),e=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:ui(+v),h):t},h.y1=function(v){return arguments.length?(e=v==null?null:typeof v=="function"?v:ui(+v),h):e},h.lineX0=h.lineY0=function(){return m().x(n).y(t)},h.lineY1=function(){return m().x(n).y(e)},h.lineX1=function(){return m().x(i).y(t)},h.defined=function(v){return arguments.length?(r=typeof v=="function"?v:ui(!!v),h):r},h.curve=function(v){return arguments.length?(o=v,a!=null&&(l=o(a)),h):o},h.context=function(v){return arguments.length?(v==null?a=l=null:l=o(a=v),h):a},h}class Q4{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function DG(n){return new Q4(n,!0)}function NG(n){return new Q4(n,!1)}const gC={draw(n,t){const e=Bo(t/I_);n.moveTo(e,0),n.arc(0,0,e,0,MS)}},PG={draw(n,t){const e=Bo(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},J4=Bo(1/3),UG=J4*2,LG={draw(n,t){const e=Bo(t/UG),i=e*J4;n.moveTo(0,-e),n.lineTo(i,0),n.lineTo(0,e),n.lineTo(-i,0),n.closePath()}},IG={draw(n,t){const e=Bo(t),i=-e/2;n.rect(i,i,e,e)}},BG=.8908130915292852,tH=L_(I_/10)/L_(7*I_/10),zG=L_(MS/10)*tH,HG=-X4(MS/10)*tH,FG={draw(n,t){const e=Bo(t*BG),i=zG*e,r=HG*e;n.moveTo(0,-e),n.lineTo(i,r);for(let a=1;a<5;++a){const o=MS*a/5,l=X4(o),c=L_(o);n.lineTo(c*e,-l*e),n.lineTo(l*i-c*r,c*i+l*r)}n.closePath()}},DE=Bo(3),jG={draw(n,t){const e=-Bo(t/(DE*3));n.moveTo(0,e*2),n.lineTo(-DE*e,-e),n.lineTo(DE*e,-e),n.closePath()}},Vs=-.5,Gs=Bo(3)/2,R2=1/Bo(12),VG=(R2/2+1)*3,GG={draw(n,t){const e=Bo(t/VG),i=e/2,r=e*R2,a=i,o=e*R2+e,l=-a,c=o;n.moveTo(i,r),n.lineTo(a,o),n.lineTo(l,c),n.lineTo(Vs*i-Gs*r,Gs*i+Vs*r),n.lineTo(Vs*a-Gs*o,Gs*a+Vs*o),n.lineTo(Vs*l-Gs*c,Gs*l+Vs*c),n.lineTo(Vs*i+Gs*r,Vs*r-Gs*i),n.lineTo(Vs*a+Gs*o,Vs*o-Gs*a),n.lineTo(Vs*l+Gs*c,Vs*c-Gs*l),n.closePath()}};function qG(n,t){let e=null,i=mC(r);n=typeof n=="function"?n:ui(n||gC),t=typeof t=="function"?t:ui(t===void 0?64:+t);function r(){let a;if(e||(e=a=i()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),a)return e=null,a+""||null}return r.type=function(a){return arguments.length?(n=typeof a=="function"?a:ui(a),r):n},r.size=function(a){return arguments.length?(t=typeof a=="function"?a:ui(+a),r):t},r.context=function(a){return arguments.length?(e=a??null,r):e},r}function B_(){}function z_(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function eH(n){this._context=n}eH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z_(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function kG(n){return new eH(n)}function nH(n){this._context=n}nH.prototype={areaStart:B_,areaEnd:B_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:z_(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function XG(n){return new nH(n)}function iH(n){this._context=n}iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:z_(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function YG(n){return new iH(n)}function rH(n){this._context=n}rH.prototype={areaStart:B_,areaEnd:B_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function WG(n){return new rH(n)}function pN(n){return n<0?-1:1}function mN(n,t,e){var i=n._x1-n._x0,r=t-n._x1,a=(n._y1-n._y0)/(i||r<0&&-0),o=(e-n._y1)/(r||i<0&&-0),l=(a*r+o*i)/(i+r);return(pN(a)+pN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function vN(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function NE(n,t,e){var i=n._x0,r=n._y0,a=n._x1,o=n._y1,l=(a-i)/3;n._context.bezierCurveTo(i+l,r+l*t,a-l,o-l*e,a,o)}function H_(n){this._context=n}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NE(this,this._t0,vN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,NE(this,vN(this,e=mN(this,n,t)),e);break;default:NE(this,this._t0,e=mN(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function aH(n){this._context=new sH(n)}(aH.prototype=Object.create(H_.prototype)).point=function(n,t){H_.prototype.point.call(this,t,n)};function sH(n){this._context=n}sH.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,i,r,a){this._context.bezierCurveTo(t,n,i,e,a,r)}};function ZG(n){return new H_(n)}function KG(n){return new aH(n)}function oH(n){this._context=n}oH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var i=gN(n),r=gN(t),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],n[o],t[o]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function gN(n){var t,e=n.length-1,i,r=new Array(e),a=new Array(e),o=new Array(e);for(r[0]=0,a[0]=2,o[0]=n[0]+2*n[1],t=1;t<e-1;++t)r[t]=1,a[t]=4,o[t]=4*n[t]+2*n[t+1];for(r[e-1]=2,a[e-1]=7,o[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)i=r[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(r[e-1]=o[e-1]/a[e-1],t=e-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[e-1]=(n[e]+r[e-1])/2,t=0;t<e-1;++t)a[t]=2*n[t+1]-r[t+1];return[r,a]}function $G(n){return new oH(n)}function AS(n,t){this._context=n,this._t=t}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function QG(n){return new AS(n,.5)}function JG(n){return new AS(n,0)}function tq(n){return new AS(n,1)}function Rp(n,t){if((o=n.length)>1)for(var e=1,i,r,a=n[t[0]],o,l=a.length;e<o;++e)for(r=a,a=n[t[e]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function D2(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function eq(n,t){return n[t]}function nq(n){const t=[];return t.key=n,t}function iq(){var n=ui([]),t=D2,e=Rp,i=eq;function r(a){var o=Array.from(n.apply(this,arguments),nq),l,c=o.length,h=-1,m;for(const v of a)for(l=0,++h;l<c;++l)(o[l][h]=[0,+i(v,o[l].key,h,a)]).data=v;for(l=0,m=vC(t(o));l<c;++l)o[m[l]].index=l;return e(o,m),o}return r.keys=function(a){return arguments.length?(n=typeof a=="function"?a:ui(Array.from(a)),r):n},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:ui(+a),r):i},r.order=function(a){return arguments.length?(t=a==null?D2:typeof a=="function"?a:ui(Array.from(a)),r):t},r.offset=function(a){return arguments.length?(e=a??Rp,r):e},r}function rq(n,t){if((i=n.length)>0){for(var e,i,r=0,a=n[0].length,o;r<a;++r){for(o=e=0;e<i;++e)o+=n[e][r][1]||0;if(o)for(e=0;e<i;++e)n[e][r][1]/=o}Rp(n,t)}}function aq(n,t){if((r=n.length)>0){for(var e=0,i=n[t[0]],r,a=i.length;e<a;++e){for(var o=0,l=0;o<r;++o)l+=n[o][e][1]||0;i[e][1]+=i[e][0]=-l/2}Rp(n,t)}}function sq(n,t){if(!(!((o=n.length)>0)||!((a=(r=n[t[0]]).length)>0))){for(var e=0,i=1,r,a,o;i<a;++i){for(var l=0,c=0,h=0;l<o;++l){for(var m=n[t[l]],v=m[i][1]||0,y=m[i-1][1]||0,_=(v-y)/2,S=0;S<l;++S){var E=n[t[S]],x=E[i][1]||0,M=E[i-1][1]||0;_+=x-M}c+=v,h+=_*v}r[i-1][1]+=r[i-1][0]=e,c&&(e-=h/c)}r[i-1][1]+=r[i-1][0]=e,Rp(n,t)}}function Eg(n){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(n)}var oq=["type","size","sizeType"];function N2(){return N2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},N2.apply(this,arguments)}function yN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function bN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(e),!0).forEach(function(i){lq(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):yN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function lq(n,t,e){return t=uq(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function uq(n){var t=cq(n,"string");return Eg(t)=="symbol"?t:t+""}function cq(n,t){if(Eg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Eg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function fq(n,t){if(n==null)return{};var e=hq(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function hq(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}var lH={symbolCircle:gC,symbolCross:PG,symbolDiamond:LG,symbolSquare:IG,symbolStar:FG,symbolTriangle:jG,symbolWye:GG},dq=Math.PI/180,pq=function(t){var e="symbol".concat(SS(t));return lH[e]||gC},mq=function(t,e,i){if(e==="area")return t;switch(i){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dq;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.pow(Math.tan(r),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vq=function(t,e){lH["symbol".concat(SS(t))]=e},yC=function(t){var e=t.type,i=e===void 0?"circle":e,r=t.size,a=r===void 0?64:r,o=t.sizeType,l=o===void 0?"area":o,c=fq(t,oq),h=bN(bN({},c),{},{type:i,size:a,sizeType:l}),m=function(){var x=pq(i),M=qG().type(x).size(mq(a,l,i));return M()},v=h.className,y=h.cx,_=h.cy,S=Ln(h,!0);return y===+y&&_===+_&&a===+a?gt.createElement("path",N2({},S,{className:Vn("recharts-symbols",v),transform:"translate(".concat(y,", ").concat(_,")"),d:m()})):null};yC.registerSymbol=vq;function Dp(n){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(n)}function P2(){return P2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},P2.apply(this,arguments)}function _N(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function gq(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(e),!0).forEach(function(i){Ag(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_N(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function yq(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function bq(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,cH(i.key),i)}}function _q(n,t,e){return t&&bq(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function xq(n,t,e){return t=F_(t),Sq(n,uH()?Reflect.construct(t,e||[],F_(n).constructor):t.apply(n,e))}function Sq(n,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(n)}function Mq(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uH=function(){return!!n})()}function F_(n){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F_(n)}function Eq(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&U2(n,t)}function U2(n,t){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},U2(n,t)}function Ag(n,t,e){return t=cH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cH(n){var t=Aq(n,"string");return Dp(t)=="symbol"?t:t+""}function Aq(n,t){if(Dp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Dp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Eo=32,bC=function(n){function t(){return yq(this,t),xq(this,t,arguments)}return Eq(t,n),_q(t,[{key:"renderIcon",value:function(i){var r=this.props.inactiveColor,a=Eo/2,o=Eo/6,l=Eo/3,c=i.inactive?r:i.color;if(i.type==="plainline")return gt.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:Eo,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return gt.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Eo,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return gt.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Eo/8,"h").concat(Eo,"v").concat(Eo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(gt.isValidElement(i.legendIcon)){var h=gq({},i);return delete h.legendIcon,gt.cloneElement(i.legendIcon,h)}return gt.createElement(yC,{fill:c,cx:a,cy:a,size:Eo,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,r=this.props,a=r.payload,o=r.iconSize,l=r.layout,c=r.formatter,h=r.inactiveColor,m={x:0,y:0,width:Eo,height:Eo},v={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,S){var E=_.formatter||c,x=Vn(Ag(Ag({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var M=mn(_.value)?null:_.value;_u(!mn(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=_.inactive?h:_.color;return gt.createElement("li",P2({className:x,style:v,key:"legend-item-".concat(S)},U_(i.props,_,S)),gt.createElement(T2,{width:o,height:o,viewBox:m,style:y},i.renderIcon(_)),gt.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},E?E(M,_,S):M))})}},{key:"render",value:function(){var i=this.props,r=i.payload,a=i.layout,o=i.align;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return gt.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(St.PureComponent);Ag(bC,"displayName","Legend");Ag(bC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PE,xN;function Tq(){if(xN)return PE;xN=1;var n=yS();function t(){this.__data__=new n,this.size=0}return PE=t,PE}var UE,SN;function wq(){if(SN)return UE;SN=1;function n(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}return UE=n,UE}var LE,MN;function Oq(){if(MN)return LE;MN=1;function n(t){return this.__data__.get(t)}return LE=n,LE}var IE,EN;function Cq(){if(EN)return IE;EN=1;function n(t){return this.__data__.has(t)}return IE=n,IE}var BE,AN;function Rq(){if(AN)return BE;AN=1;var n=yS(),t=uC(),e=cC(),i=200;function r(a,o){var l=this.__data__;if(l instanceof n){var c=l.__data__;if(!t||c.length<i-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new e(c)}return l.set(a,o),this.size=l.size,this}return BE=r,BE}var zE,TN;function fH(){if(TN)return zE;TN=1;var n=yS(),t=Tq(),e=wq(),i=Oq(),r=Cq(),a=Rq();function o(l){var c=this.__data__=new n(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=i,o.prototype.has=r,o.prototype.set=a,zE=o,zE}var HE,wN;function Dq(){if(wN)return HE;wN=1;var n="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,n),this}return HE=t,HE}var FE,ON;function Nq(){if(ON)return FE;ON=1;function n(t){return this.__data__.has(t)}return FE=n,FE}var jE,CN;function hH(){if(CN)return jE;CN=1;var n=cC(),t=Dq(),e=Nq();function i(r){var a=-1,o=r==null?0:r.length;for(this.__data__=new n;++a<o;)this.add(r[a])}return i.prototype.add=i.prototype.push=t,i.prototype.has=e,jE=i,jE}var VE,RN;function dH(){if(RN)return VE;RN=1;function n(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}return VE=n,VE}var GE,DN;function pH(){if(DN)return GE;DN=1;function n(t,e){return t.has(e)}return GE=n,GE}var qE,NN;function mH(){if(NN)return qE;NN=1;var n=hH(),t=dH(),e=pH(),i=1,r=2;function a(o,l,c,h,m,v){var y=c&i,_=o.length,S=l.length;if(_!=S&&!(y&&S>_))return!1;var E=v.get(o),x=v.get(l);if(E&&x)return E==l&&x==o;var M=-1,w=!0,O=c&r?new n:void 0;for(v.set(o,l),v.set(l,o);++M<_;){var R=o[M],N=l[M];if(h)var P=y?h(N,R,M,l,o,v):h(R,N,M,o,l,v);if(P!==void 0){if(P)continue;w=!1;break}if(O){if(!t(l,function(U,z){if(!e(O,z)&&(R===U||m(R,U,c,h,v)))return O.push(z)})){w=!1;break}}else if(!(R===N||m(R,N,c,h,v))){w=!1;break}}return v.delete(o),v.delete(l),w}return qE=a,qE}var kE,PN;function Pq(){if(PN)return kE;PN=1;var n=Pl(),t=n.Uint8Array;return kE=t,kE}var XE,UN;function Uq(){if(UN)return XE;UN=1;function n(t){var e=-1,i=Array(t.size);return t.forEach(function(r,a){i[++e]=[a,r]}),i}return XE=n,XE}var YE,LN;function _C(){if(LN)return YE;LN=1;function n(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}return YE=n,YE}var WE,IN;function Lq(){if(IN)return WE;IN=1;var n=Ay(),t=Pq(),e=lC(),i=mH(),r=Uq(),a=_C(),o=1,l=2,c="[object Boolean]",h="[object Date]",m="[object Error]",v="[object Map]",y="[object Number]",_="[object RegExp]",S="[object Set]",E="[object String]",x="[object Symbol]",M="[object ArrayBuffer]",w="[object DataView]",O=n?n.prototype:void 0,R=O?O.valueOf:void 0;function N(P,U,z,I,B,F,K){switch(z){case w:if(P.byteLength!=U.byteLength||P.byteOffset!=U.byteOffset)return!1;P=P.buffer,U=U.buffer;case M:return!(P.byteLength!=U.byteLength||!F(new t(P),new t(U)));case c:case h:case y:return e(+P,+U);case m:return P.name==U.name&&P.message==U.message;case _:case E:return P==U+"";case v:var W=r;case S:var tt=I&o;if(W||(W=a),P.size!=U.size&&!tt)return!1;var J=K.get(P);if(J)return J==U;I|=l,K.set(P,U);var H=i(W(P),W(U),I,B,F,K);return K.delete(P),H;case x:if(R)return R.call(P)==R.call(U)}return!1}return WE=N,WE}var ZE,BN;function vH(){if(BN)return ZE;BN=1;function n(t,e){for(var i=-1,r=e.length,a=t.length;++i<r;)t[a+i]=e[i];return t}return ZE=n,ZE}var KE,zN;function Iq(){if(zN)return KE;zN=1;var n=vH(),t=Za();function e(i,r,a){var o=r(i);return t(i)?o:n(o,a(i))}return KE=e,KE}var $E,HN;function Bq(){if(HN)return $E;HN=1;function n(t,e){for(var i=-1,r=t==null?0:t.length,a=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[a++]=l)}return o}return $E=n,$E}var QE,FN;function zq(){if(FN)return QE;FN=1;function n(){return[]}return QE=n,QE}var JE,jN;function Hq(){if(jN)return JE;jN=1;var n=Bq(),t=zq(),e=Object.prototype,i=e.propertyIsEnumerable,r=Object.getOwnPropertySymbols,a=r?function(o){return o==null?[]:(o=Object(o),n(r(o),function(l){return i.call(o,l)}))}:t;return JE=a,JE}var tA,VN;function Fq(){if(VN)return tA;VN=1;function n(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}return tA=n,tA}var eA,GN;function jq(){if(GN)return eA;GN=1;var n=Du(),t=Nu(),e="[object Arguments]";function i(r){return t(r)&&n(r)==e}return eA=i,eA}var nA,qN;function xC(){if(qN)return nA;qN=1;var n=jq(),t=Nu(),e=Object.prototype,i=e.hasOwnProperty,r=e.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(o){return t(o)&&i.call(o,"callee")&&!r.call(o,"callee")};return nA=a,nA}var ig={exports:{}},iA,kN;function Vq(){if(kN)return iA;kN=1;function n(){return!1}return iA=n,iA}ig.exports;var XN;function gH(){return XN||(XN=1,function(n,t){var e=Pl(),i=Vq(),r=t&&!t.nodeType&&t,a=r&&!0&&n&&!n.nodeType&&n,o=a&&a.exports===r,l=o?e.Buffer:void 0,c=l?l.isBuffer:void 0,h=c||i;n.exports=h}(ig,ig.exports)),ig.exports}var rA,YN;function SC(){if(YN)return rA;YN=1;var n=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(i,r){var a=typeof i;return r=r??n,!!r&&(a=="number"||a!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<r}return rA=e,rA}var aA,WN;function MC(){if(WN)return aA;WN=1;var n=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}return aA=t,aA}var sA,ZN;function Gq(){if(ZN)return sA;ZN=1;var n=Du(),t=MC(),e=Nu(),i="[object Arguments]",r="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",h="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",S="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",M="[object DataView]",w="[object Float32Array]",O="[object Float64Array]",R="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]",F={};F[w]=F[O]=F[R]=F[N]=F[P]=F[U]=F[z]=F[I]=F[B]=!0,F[i]=F[r]=F[x]=F[a]=F[M]=F[o]=F[l]=F[c]=F[h]=F[m]=F[v]=F[y]=F[_]=F[S]=F[E]=!1;function K(W){return e(W)&&t(W.length)&&!!F[n(W)]}return sA=K,sA}var oA,KN;function yH(){if(KN)return oA;KN=1;function n(t){return function(e){return t(e)}}return oA=n,oA}var rg={exports:{}};rg.exports;var $N;function qq(){return $N||($N=1,function(n,t){var e=z4(),i=t&&!t.nodeType&&t,r=i&&!0&&n&&!n.nodeType&&n,a=r&&r.exports===i,o=a&&e.process,l=function(){try{var c=r&&r.require&&r.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();n.exports=l}(rg,rg.exports)),rg.exports}var lA,QN;function bH(){if(QN)return lA;QN=1;var n=Gq(),t=yH(),e=qq(),i=e&&e.isTypedArray,r=i?t(i):n;return lA=r,lA}var uA,JN;function kq(){if(JN)return uA;JN=1;var n=Fq(),t=xC(),e=Za(),i=gH(),r=SC(),a=bH(),o=Object.prototype,l=o.hasOwnProperty;function c(h,m){var v=e(h),y=!v&&t(h),_=!v&&!y&&i(h),S=!v&&!y&&!_&&a(h),E=v||y||_||S,x=E?n(h.length,String):[],M=x.length;for(var w in h)(m||l.call(h,w))&&!(E&&(w=="length"||_&&(w=="offset"||w=="parent")||S&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||r(w,M)))&&x.push(w);return x}return uA=c,uA}var cA,tP;function Xq(){if(tP)return cA;tP=1;var n=Object.prototype;function t(e){var i=e&&e.constructor,r=typeof i=="function"&&i.prototype||n;return e===r}return cA=t,cA}var fA,eP;function _H(){if(eP)return fA;eP=1;function n(t,e){return function(i){return t(e(i))}}return fA=n,fA}var hA,nP;function Yq(){if(nP)return hA;nP=1;var n=_H(),t=n(Object.keys,Object);return hA=t,hA}var dA,iP;function Wq(){if(iP)return dA;iP=1;var n=Xq(),t=Yq(),e=Object.prototype,i=e.hasOwnProperty;function r(a){if(!n(a))return t(a);var o=[];for(var l in Object(a))i.call(a,l)&&l!="constructor"&&o.push(l);return o}return dA=r,dA}var pA,rP;function Oy(){if(rP)return pA;rP=1;var n=oC(),t=MC();function e(i){return i!=null&&t(i.length)&&!n(i)}return pA=e,pA}var mA,aP;function TS(){if(aP)return mA;aP=1;var n=kq(),t=Wq(),e=Oy();function i(r){return e(r)?n(r):t(r)}return mA=i,mA}var vA,sP;function Zq(){if(sP)return vA;sP=1;var n=Iq(),t=Hq(),e=TS();function i(r){return n(r,e,t)}return vA=i,vA}var gA,oP;function Kq(){if(oP)return gA;oP=1;var n=Zq(),t=1,e=Object.prototype,i=e.hasOwnProperty;function r(a,o,l,c,h,m){var v=l&t,y=n(a),_=y.length,S=n(o),E=S.length;if(_!=E&&!v)return!1;for(var x=_;x--;){var M=y[x];if(!(v?M in o:i.call(o,M)))return!1}var w=m.get(a),O=m.get(o);if(w&&O)return w==o&&O==a;var R=!0;m.set(a,o),m.set(o,a);for(var N=v;++x<_;){M=y[x];var P=a[M],U=o[M];if(c)var z=v?c(U,P,M,o,a,m):c(P,U,M,a,o,m);if(!(z===void 0?P===U||h(P,U,l,c,m):z)){R=!1;break}N||(N=M=="constructor")}if(R&&!N){var I=a.constructor,B=o.constructor;I!=B&&"constructor"in a&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(R=!1)}return m.delete(a),m.delete(o),R}return gA=r,gA}var yA,lP;function $q(){if(lP)return yA;lP=1;var n=Bh(),t=Pl(),e=n(t,"DataView");return yA=e,yA}var bA,uP;function Qq(){if(uP)return bA;uP=1;var n=Bh(),t=Pl(),e=n(t,"Promise");return bA=e,bA}var _A,cP;function xH(){if(cP)return _A;cP=1;var n=Bh(),t=Pl(),e=n(t,"Set");return _A=e,_A}var xA,fP;function Jq(){if(fP)return xA;fP=1;var n=Bh(),t=Pl(),e=n(t,"WeakMap");return xA=e,xA}var SA,hP;function tk(){if(hP)return SA;hP=1;var n=$q(),t=uC(),e=Qq(),i=xH(),r=Jq(),a=Du(),o=H4(),l="[object Map]",c="[object Object]",h="[object Promise]",m="[object Set]",v="[object WeakMap]",y="[object DataView]",_=o(n),S=o(t),E=o(e),x=o(i),M=o(r),w=a;return(n&&w(new n(new ArrayBuffer(1)))!=y||t&&w(new t)!=l||e&&w(e.resolve())!=h||i&&w(new i)!=m||r&&w(new r)!=v)&&(w=function(O){var R=a(O),N=R==c?O.constructor:void 0,P=N?o(N):"";if(P)switch(P){case _:return y;case S:return l;case E:return h;case x:return m;case M:return v}return R}),SA=w,SA}var MA,dP;function ek(){if(dP)return MA;dP=1;var n=fH(),t=mH(),e=Lq(),i=Kq(),r=tk(),a=Za(),o=gH(),l=bH(),c=1,h="[object Arguments]",m="[object Array]",v="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function S(E,x,M,w,O,R){var N=a(E),P=a(x),U=N?m:r(E),z=P?m:r(x);U=U==h?v:U,z=z==h?v:z;var I=U==v,B=z==v,F=U==z;if(F&&o(E)){if(!o(x))return!1;N=!0,I=!1}if(F&&!I)return R||(R=new n),N||l(E)?t(E,x,M,w,O,R):e(E,x,U,M,w,O,R);if(!(M&c)){var K=I&&_.call(E,"__wrapped__"),W=B&&_.call(x,"__wrapped__");if(K||W){var tt=K?E.value():E,J=W?x.value():x;return R||(R=new n),O(tt,J,M,w,R)}}return F?(R||(R=new n),i(E,x,M,w,O,R)):!1}return MA=S,MA}var EA,pP;function EC(){if(pP)return EA;pP=1;var n=ek(),t=Nu();function e(i,r,a,o,l){return i===r?!0:i==null||r==null||!t(i)&&!t(r)?i!==i&&r!==r:n(i,r,a,o,e,l)}return EA=e,EA}var AA,mP;function nk(){if(mP)return AA;mP=1;var n=fH(),t=EC(),e=1,i=2;function r(a,o,l,c){var h=l.length,m=h,v=!c;if(a==null)return!m;for(a=Object(a);h--;){var y=l[h];if(v&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++h<m;){y=l[h];var _=y[0],S=a[_],E=y[1];if(v&&y[2]){if(S===void 0&&!(_ in a))return!1}else{var x=new n;if(c)var M=c(S,E,_,a,o,x);if(!(M===void 0?t(E,S,e|i,c,x):M))return!1}}return!0}return AA=r,AA}var TA,vP;function SH(){if(vP)return TA;vP=1;var n=Yc();function t(e){return e===e&&!n(e)}return TA=t,TA}var wA,gP;function ik(){if(gP)return wA;gP=1;var n=SH(),t=TS();function e(i){for(var r=t(i),a=r.length;a--;){var o=r[a],l=i[o];r[a]=[o,l,n(l)]}return r}return wA=e,wA}var OA,yP;function MH(){if(yP)return OA;yP=1;function n(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}return OA=n,OA}var CA,bP;function rk(){if(bP)return CA;bP=1;var n=nk(),t=ik(),e=MH();function i(r){var a=t(r);return a.length==1&&a[0][2]?e(a[0][0],a[0][1]):function(o){return o===r||n(o,r,a)}}return CA=i,CA}var RA,_P;function ak(){if(_P)return RA;_P=1;function n(t,e){return t!=null&&e in Object(t)}return RA=n,RA}var DA,xP;function sk(){if(xP)return DA;xP=1;var n=V4(),t=xC(),e=Za(),i=SC(),r=MC(),a=_S();function o(l,c,h){c=n(c,l);for(var m=-1,v=c.length,y=!1;++m<v;){var _=a(c[m]);if(!(y=l!=null&&h(l,_)))break;l=l[_]}return y||++m!=v?y:(v=l==null?0:l.length,!!v&&r(v)&&i(_,v)&&(e(l)||t(l)))}return DA=o,DA}var NA,SP;function ok(){if(SP)return NA;SP=1;var n=ak(),t=sk();function e(i,r){return i!=null&&t(i,r,n)}return NA=e,NA}var PA,MP;function lk(){if(MP)return PA;MP=1;var n=EC(),t=G4(),e=ok(),i=sC(),r=SH(),a=MH(),o=_S(),l=1,c=2;function h(m,v){return i(m)&&r(v)?a(o(m),v):function(y){var _=t(y,m);return _===void 0&&_===v?e(y,m):n(v,_,l|c)}}return PA=h,PA}var UA,EP;function cm(){if(EP)return UA;EP=1;function n(t){return t}return UA=n,UA}var LA,AP;function uk(){if(AP)return LA;AP=1;function n(t){return function(e){return e==null?void 0:e[t]}}return LA=n,LA}var IA,TP;function ck(){if(TP)return IA;TP=1;var n=hC();function t(e){return function(i){return n(i,e)}}return IA=t,IA}var BA,wP;function fk(){if(wP)return BA;wP=1;var n=uk(),t=ck(),e=sC(),i=_S();function r(a){return e(a)?n(i(a)):t(a)}return BA=r,BA}var zA,OP;function Wc(){if(OP)return zA;OP=1;var n=rk(),t=lk(),e=cm(),i=Za(),r=fk();function a(o){return typeof o=="function"?o:o==null?e:typeof o=="object"?i(o)?t(o[0],o[1]):n(o):r(o)}return zA=a,zA}var HA,CP;function EH(){if(CP)return HA;CP=1;function n(t,e,i,r){for(var a=t.length,o=i+(r?1:-1);r?o--:++o<a;)if(e(t[o],o,t))return o;return-1}return HA=n,HA}var FA,RP;function hk(){if(RP)return FA;RP=1;function n(t){return t!==t}return FA=n,FA}var jA,DP;function dk(){if(DP)return jA;DP=1;function n(t,e,i){for(var r=i-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}return jA=n,jA}var VA,NP;function pk(){if(NP)return VA;NP=1;var n=EH(),t=hk(),e=dk();function i(r,a,o){return a===a?e(r,a,o):n(r,t,o)}return VA=i,VA}var GA,PP;function mk(){if(PP)return GA;PP=1;var n=pk();function t(e,i){var r=e==null?0:e.length;return!!r&&n(e,i,0)>-1}return GA=t,GA}var qA,UP;function vk(){if(UP)return qA;UP=1;function n(t,e,i){for(var r=-1,a=t==null?0:t.length;++r<a;)if(i(e,t[r]))return!0;return!1}return qA=n,qA}var kA,LP;function gk(){if(LP)return kA;LP=1;function n(){}return kA=n,kA}var XA,IP;function yk(){if(IP)return XA;IP=1;var n=xH(),t=gk(),e=_C(),i=1/0,r=n&&1/e(new n([,-0]))[1]==i?function(a){return new n(a)}:t;return XA=r,XA}var YA,BP;function bk(){if(BP)return YA;BP=1;var n=hH(),t=mk(),e=vk(),i=pH(),r=yk(),a=_C(),o=200;function l(c,h,m){var v=-1,y=t,_=c.length,S=!0,E=[],x=E;if(m)S=!1,y=e;else if(_>=o){var M=h?null:r(c);if(M)return a(M);S=!1,y=i,x=new n}else x=h?[]:E;t:for(;++v<_;){var w=c[v],O=h?h(w):w;if(w=m||w!==0?w:0,S&&O===O){for(var R=x.length;R--;)if(x[R]===O)continue t;h&&x.push(O),E.push(w)}else y(x,O,m)||(x!==E&&x.push(O),E.push(w))}return E}return YA=l,YA}var WA,zP;function _k(){if(zP)return WA;zP=1;var n=Wc(),t=bk();function e(i,r){return i&&i.length?t(i,n(r,2)):[]}return WA=e,WA}var xk=_k();const HP=Gn(xk);function AH(n,t,e){return t===!0?HP(n,e):mn(t)?HP(n,t):n}function Np(n){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(n)}var Sk=["ref"];function FP(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function au(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(e),!0).forEach(function(i){wS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):FP(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Mk(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function jP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,wH(i.key),i)}}function Ek(n,t,e){return t&&jP(n.prototype,t),e&&jP(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ak(n,t,e){return t=j_(t),Tk(n,TH()?Reflect.construct(t,e||[],j_(n).constructor):t.apply(n,e))}function Tk(n,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wk(n)}function wk(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TH=function(){return!!n})()}function j_(n){return j_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j_(n)}function Ok(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&L2(n,t)}function L2(n,t){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},L2(n,t)}function wS(n,t,e){return t=wH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wH(n){var t=Ck(n,"string");return Np(t)=="symbol"?t:t+""}function Ck(n,t){if(Np(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Np(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Rk(n,t){if(n==null)return{};var e=Dk(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Dk(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Nk(n){return n.value}function Pk(n,t){if(gt.isValidElement(n))return gt.cloneElement(n,t);if(typeof n=="function")return gt.createElement(n,t);t.ref;var e=Rk(t,Sk);return gt.createElement(bC,e)}var VP=1,Tp=function(n){function t(){var e;Mk(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=Ak(this,t,[].concat(r)),wS(e,"lastBoundingBox",{width:-1,height:-1}),e}return Ok(t,n),Ek(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,r=this.getBBox();r?(Math.abs(r.width-this.lastBoundingBox.width)>VP||Math.abs(r.height-this.lastBoundingBox.height)>VP)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height,i&&i(r)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?au({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var r=this.props,a=r.layout,o=r.align,l=r.verticalAlign,c=r.margin,h=r.chartWidth,m=r.chartHeight,v,y;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(o==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();v={left:((h||0)-_.width)/2}}else v=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((m||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return au(au({},v),y)}},{key:"render",value:function(){var i=this,r=this.props,a=r.content,o=r.width,l=r.height,c=r.wrapperStyle,h=r.payloadUniqBy,m=r.payload,v=au(au({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return gt.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(_){i.wrapperNode=_}},Pk(a,au(au({},this.props),{},{payload:AH(m,h,Nk)})))}}],[{key:"getWithHeight",value:function(i,r){var a=au(au({},this.defaultProps),i.props),o=a.layout;return o==="vertical"&&de(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||r}:null}}])}(St.PureComponent);wS(Tp,"displayName","Legend");wS(Tp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZA,GP;function Uk(){if(GP)return ZA;GP=1;var n=Ay(),t=xC(),e=Za(),i=n?n.isConcatSpreadable:void 0;function r(a){return e(a)||t(a)||!!(i&&a&&a[i])}return ZA=r,ZA}var KA,qP;function OH(){if(qP)return KA;qP=1;var n=vH(),t=Uk();function e(i,r,a,o,l){var c=-1,h=i.length;for(a||(a=t),l||(l=[]);++c<h;){var m=i[c];r>0&&a(m)?r>1?e(m,r-1,a,o,l):n(l,m):o||(l[l.length]=m)}return l}return KA=e,KA}var $A,kP;function Lk(){if(kP)return $A;kP=1;function n(t){return function(e,i,r){for(var a=-1,o=Object(e),l=r(e),c=l.length;c--;){var h=l[t?c:++a];if(i(o[h],h,o)===!1)break}return e}}return $A=n,$A}var QA,XP;function Ik(){if(XP)return QA;XP=1;var n=Lk(),t=n();return QA=t,QA}var JA,YP;function CH(){if(YP)return JA;YP=1;var n=Ik(),t=TS();function e(i,r){return i&&n(i,r,t)}return JA=e,JA}var tT,WP;function Bk(){if(WP)return tT;WP=1;var n=Oy();function t(e,i){return function(r,a){if(r==null)return r;if(!n(r))return e(r,a);for(var o=r.length,l=i?o:-1,c=Object(r);(i?l--:++l<o)&&a(c[l],l,c)!==!1;);return r}}return tT=t,tT}var eT,ZP;function AC(){if(ZP)return eT;ZP=1;var n=CH(),t=Bk(),e=t(n);return eT=e,eT}var nT,KP;function RH(){if(KP)return nT;KP=1;var n=AC(),t=Oy();function e(i,r){var a=-1,o=t(i)?Array(i.length):[];return n(i,function(l,c,h){o[++a]=r(l,c,h)}),o}return nT=e,nT}var iT,$P;function zk(){if($P)return iT;$P=1;function n(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}return iT=n,iT}var rT,QP;function Hk(){if(QP)return rT;QP=1;var n=lm();function t(e,i){if(e!==i){var r=e!==void 0,a=e===null,o=e===e,l=n(e),c=i!==void 0,h=i===null,m=i===i,v=n(i);if(!h&&!v&&!l&&e>i||l&&c&&m&&!h&&!v||a&&c&&m||!r&&m||!o)return 1;if(!a&&!l&&!v&&e<i||v&&r&&o&&!a&&!l||h&&r&&o||!c&&o||!m)return-1}return 0}return rT=t,rT}var aT,JP;function Fk(){if(JP)return aT;JP=1;var n=Hk();function t(e,i,r){for(var a=-1,o=e.criteria,l=i.criteria,c=o.length,h=r.length;++a<c;){var m=n(o[a],l[a]);if(m){if(a>=h)return m;var v=r[a];return m*(v=="desc"?-1:1)}}return e.index-i.index}return aT=t,aT}var sT,tU;function jk(){if(tU)return sT;tU=1;var n=fC(),t=hC(),e=Wc(),i=RH(),r=zk(),a=yH(),o=Fk(),l=cm(),c=Za();function h(m,v,y){v.length?v=n(v,function(E){return c(E)?function(x){return t(x,E.length===1?E[0]:E)}:E}):v=[l];var _=-1;v=n(v,a(e));var S=i(m,function(E,x,M){var w=n(v,function(O){return O(E)});return{criteria:w,index:++_,value:E}});return r(S,function(E,x){return o(E,x,y)})}return sT=h,sT}var oT,eU;function Vk(){if(eU)return oT;eU=1;function n(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}return oT=n,oT}var lT,nU;function Gk(){if(nU)return lT;nU=1;var n=Vk(),t=Math.max;function e(i,r,a){return r=t(r===void 0?i.length-1:r,0),function(){for(var o=arguments,l=-1,c=t(o.length-r,0),h=Array(c);++l<c;)h[l]=o[r+l];l=-1;for(var m=Array(r+1);++l<r;)m[l]=o[l];return m[r]=a(h),n(i,this,m)}}return lT=e,lT}var uT,iU;function qk(){if(iU)return uT;iU=1;function n(t){return function(){return t}}return uT=n,uT}var cT,rU;function DH(){if(rU)return cT;rU=1;var n=Bh(),t=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch{}}();return cT=t,cT}var fT,aU;function kk(){if(aU)return fT;aU=1;var n=qk(),t=DH(),e=cm(),i=t?function(r,a){return t(r,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:e;return fT=i,fT}var hT,sU;function Xk(){if(sU)return hT;sU=1;var n=800,t=16,e=Date.now;function i(r){var a=0,o=0;return function(){var l=e(),c=t-(l-o);if(o=l,c>0){if(++a>=n)return arguments[0]}else a=0;return r.apply(void 0,arguments)}}return hT=i,hT}var dT,oU;function Yk(){if(oU)return dT;oU=1;var n=kk(),t=Xk(),e=t(n);return dT=e,dT}var pT,lU;function Wk(){if(lU)return pT;lU=1;var n=cm(),t=Gk(),e=Yk();function i(r,a){return e(t(r,a,n),r+"")}return pT=i,pT}var mT,uU;function OS(){if(uU)return mT;uU=1;var n=lC(),t=Oy(),e=SC(),i=Yc();function r(a,o,l){if(!i(l))return!1;var c=typeof o;return(c=="number"?t(l)&&e(o,l.length):c=="string"&&o in l)?n(l[o],a):!1}return mT=r,mT}var vT,cU;function Zk(){if(cU)return vT;cU=1;var n=OH(),t=jk(),e=Wk(),i=OS(),r=e(function(a,o){if(a==null)return[];var l=o.length;return l>1&&i(a,o[0],o[1])?o=[]:l>2&&i(o[0],o[1],o[2])&&(o=[o[0]]),t(a,n(o,1),[])});return vT=r,vT}var Kk=Zk();const TC=Gn(Kk);function Tg(n){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(n)}function I2(){return I2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},I2.apply(this,arguments)}function $k(n,t){return e7(n)||t7(n,t)||Jk(n,t)||Qk()}function Qk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jk(n,t){if(n){if(typeof n=="string")return fU(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return fU(n,t)}}function fU(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function t7(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function e7(n){if(Array.isArray(n))return n}function hU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function gT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(e),!0).forEach(function(i){n7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function n7(n,t,e){return t=i7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i7(n){var t=r7(n,"string");return Tg(t)=="symbol"?t:t+""}function r7(n,t){if(Tg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Tg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function a7(n){return Array.isArray(n)&&fr(n[0])&&fr(n[1])?n.join(" ~ "):n}var s7=function(t){var e=t.separator,i=e===void 0?" : ":e,r=t.contentStyle,a=r===void 0?{}:r,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,h=c===void 0?{}:c,m=t.payload,v=t.formatter,y=t.itemSorter,_=t.wrapperClassName,S=t.labelClassName,E=t.label,x=t.labelFormatter,M=t.accessibilityLayer,w=M===void 0?!1:M,O=function(){if(m&&m.length){var K={padding:0,margin:0},W=(y?TC(m,y):m).map(function(tt,J){if(tt.type==="none")return null;var H=gT({display:"block",paddingTop:4,paddingBottom:4,color:tt.color||"#000"},l),q=tt.formatter||v||a7,k=tt.value,it=tt.name,G=k,et=it;if(q&&G!=null&&et!=null){var ot=q(k,it,tt,J,m);if(Array.isArray(ot)){var mt=$k(ot,2);G=mt[0],et=mt[1]}else G=ot}return gt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:H},fr(et)?gt.createElement("span",{className:"recharts-tooltip-item-name"},et):null,fr(et)?gt.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,gt.createElement("span",{className:"recharts-tooltip-item-value"},G),gt.createElement("span",{className:"recharts-tooltip-item-unit"},tt.unit||""))});return gt.createElement("ul",{className:"recharts-tooltip-item-list",style:K},W)}return null},R=gT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=gT({margin:0},h),P=!jn(E),U=P?E:"",z=Vn("recharts-default-tooltip",_),I=Vn("recharts-tooltip-label",S);P&&x&&m!==void 0&&m!==null&&(U=x(E,m));var B=w?{role:"status","aria-live":"assertive"}:{};return gt.createElement("div",I2({className:z,style:R},B),gt.createElement("p",{className:I,style:N},gt.isValidElement(U)?U:"".concat(U)),O())};function wg(n){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(n)}function xb(n,t,e){return t=o7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o7(n){var t=l7(n,"string");return wg(t)=="symbol"?t:t+""}function l7(n,t){if(wg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(wg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Iv="recharts-tooltip-wrapper",u7={visibility:"hidden"};function c7(n){var t=n.coordinate,e=n.translateX,i=n.translateY;return Vn(Iv,xb(xb(xb(xb({},"".concat(Iv,"-right"),de(e)&&t&&de(t.x)&&e>=t.x),"".concat(Iv,"-left"),de(e)&&t&&de(t.x)&&e<t.x),"".concat(Iv,"-bottom"),de(i)&&t&&de(t.y)&&i>=t.y),"".concat(Iv,"-top"),de(i)&&t&&de(t.y)&&i<t.y))}function dU(n){var t=n.allowEscapeViewBox,e=n.coordinate,i=n.key,r=n.offsetTopLeft,a=n.position,o=n.reverseDirection,l=n.tooltipDimension,c=n.viewBox,h=n.viewBoxDimension;if(a&&de(a[i]))return a[i];var m=e[i]-l-r,v=e[i]+r;if(t[i])return o[i]?m:v;if(o[i]){var y=m,_=c[i];return y<_?Math.max(v,c[i]):Math.max(m,c[i])}var S=v+l,E=c[i]+h;return S>E?Math.max(m,c[i]):Math.max(v,c[i])}function f7(n){var t=n.translateX,e=n.translateY,i=n.useTranslate3d;return{transform:i?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function h7(n){var t=n.allowEscapeViewBox,e=n.coordinate,i=n.offsetTopLeft,r=n.position,a=n.reverseDirection,o=n.tooltipBox,l=n.useTranslate3d,c=n.viewBox,h,m,v;return o.height>0&&o.width>0&&e?(m=dU({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),v=dU({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),h=f7({translateX:m,translateY:v,useTranslate3d:l})):h=u7,{cssProperties:h,cssClasses:c7({translateX:m,translateY:v,coordinate:e})}}function Pp(n){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(n)}function pU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function mU(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(e),!0).forEach(function(i){z2(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function d7(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,PH(i.key),i)}}function m7(n,t,e){return t&&p7(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function v7(n,t,e){return t=V_(t),g7(n,NH()?Reflect.construct(t,e||[],V_(n).constructor):t.apply(n,e))}function g7(n,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y7(n)}function y7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!n})()}function V_(n){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V_(n)}function b7(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&B2(n,t)}function B2(n,t){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},B2(n,t)}function z2(n,t,e){return t=PH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function PH(n){var t=_7(n,"string");return Pp(t)=="symbol"?t:t+""}function _7(n,t){if(Pp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Pp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var vU=1,x7=function(n){function t(){var e;d7(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=v7(this,t,[].concat(r)),z2(e,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),z2(e,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,h,m;e.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=e.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(h=(m=e.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0}})}}),e}return b7(t,n),m7(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>vU||Math.abs(i.height-this.state.lastBoundingBox.height)>vU)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,r;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,r=this.props,a=r.active,o=r.allowEscapeViewBox,l=r.animationDuration,c=r.animationEasing,h=r.children,m=r.coordinate,v=r.hasPayload,y=r.isAnimationActive,_=r.offset,S=r.position,E=r.reverseDirection,x=r.useTranslate3d,M=r.viewBox,w=r.wrapperStyle,O=h7({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:_,position:S,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:M}),R=O.cssClasses,N=O.cssProperties,P=mU(mU({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&v?"visible":"hidden",position:"absolute",top:0,left:0},w);return gt.createElement("div",{tabIndex:-1,className:R,style:P,ref:function(z){i.wrapperNode=z}},h)}}])}(St.PureComponent),S7=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cy={isSsr:S7()};function Up(n){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(n)}function gU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function yU(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(e),!0).forEach(function(i){wC(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):gU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function M7(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function E7(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,LH(i.key),i)}}function A7(n,t,e){return t&&E7(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function T7(n,t,e){return t=G_(t),w7(n,UH()?Reflect.construct(t,e||[],G_(n).constructor):t.apply(n,e))}function w7(n,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O7(n)}function O7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function UH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!n})()}function G_(n){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G_(n)}function C7(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&H2(n,t)}function H2(n,t){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},H2(n,t)}function wC(n,t,e){return t=LH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function LH(n){var t=R7(n,"string");return Up(t)=="symbol"?t:t+""}function R7(n,t){if(Up(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Up(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function D7(n){return n.dataKey}function N7(n,t){return gt.isValidElement(n)?gt.cloneElement(n,t):typeof n=="function"?gt.createElement(n,t):gt.createElement(s7,t)}var _l=function(n){function t(){return M7(this,t),T7(this,t,arguments)}return C7(t,n),A7(t,[{key:"render",value:function(){var i=this,r=this.props,a=r.active,o=r.allowEscapeViewBox,l=r.animationDuration,c=r.animationEasing,h=r.content,m=r.coordinate,v=r.filterNull,y=r.isAnimationActive,_=r.offset,S=r.payload,E=r.payloadUniqBy,x=r.position,M=r.reverseDirection,w=r.useTranslate3d,O=r.viewBox,R=r.wrapperStyle,N=S??[];v&&N.length&&(N=AH(S.filter(function(U){return U.value!=null&&(U.hide!==!0||i.props.includeHidden)}),E,D7));var P=N.length>0;return gt.createElement(x7,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:m,hasPayload:P,offset:_,position:x,reverseDirection:M,useTranslate3d:w,viewBox:O,wrapperStyle:R},N7(h,yU(yU({},this.props),{},{payload:N})))}}])}(St.PureComponent);wC(_l,"displayName","Tooltip");wC(_l,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yT,bU;function P7(){if(bU)return yT;bU=1;var n=Pl(),t=function(){return n.Date.now()};return yT=t,yT}var bT,_U;function U7(){if(_U)return bT;_U=1;var n=/\s/;function t(e){for(var i=e.length;i--&&n.test(e.charAt(i)););return i}return bT=t,bT}var _T,xU;function L7(){if(xU)return _T;xU=1;var n=U7(),t=/^\s+/;function e(i){return i&&i.slice(0,n(i)+1).replace(t,"")}return _T=e,_T}var xT,SU;function IH(){if(SU)return xT;SU=1;var n=L7(),t=Yc(),e=lm(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(h){if(typeof h=="number")return h;if(e(h))return i;if(t(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=t(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=n(h);var v=a.test(h);return v||o.test(h)?l(h.slice(2),v?2:8):r.test(h)?i:+h}return xT=c,xT}var ST,MU;function I7(){if(MU)return ST;MU=1;var n=Yc(),t=P7(),e=IH(),i="Expected a function",r=Math.max,a=Math.min;function o(l,c,h){var m,v,y,_,S,E,x=0,M=!1,w=!1,O=!0;if(typeof l!="function")throw new TypeError(i);c=e(c)||0,n(h)&&(M=!!h.leading,w="maxWait"in h,y=w?r(e(h.maxWait)||0,c):y,O="trailing"in h?!!h.trailing:O);function R(W){var tt=m,J=v;return m=v=void 0,x=W,_=l.apply(J,tt),_}function N(W){return x=W,S=setTimeout(z,c),M?R(W):_}function P(W){var tt=W-E,J=W-x,H=c-tt;return w?a(H,y-J):H}function U(W){var tt=W-E,J=W-x;return E===void 0||tt>=c||tt<0||w&&J>=y}function z(){var W=t();if(U(W))return I(W);S=setTimeout(z,P(W))}function I(W){return S=void 0,O&&m?R(W):(m=v=void 0,_)}function B(){S!==void 0&&clearTimeout(S),x=0,m=E=v=S=void 0}function F(){return S===void 0?_:I(t())}function K(){var W=t(),tt=U(W);if(m=arguments,v=this,E=W,tt){if(S===void 0)return N(E);if(w)return clearTimeout(S),S=setTimeout(z,c),R(E)}return S===void 0&&(S=setTimeout(z,c)),_}return K.cancel=B,K.flush=F,K}return ST=o,ST}var MT,EU;function B7(){if(EU)return MT;EU=1;var n=I7(),t=Yc(),e="Expected a function";function i(r,a,o){var l=!0,c=!0;if(typeof r!="function")throw new TypeError(e);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),n(r,a,{leading:l,maxWait:a,trailing:c})}return MT=i,MT}var z7=B7();const BH=Gn(z7);function Og(n){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(n)}function AU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Sb(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(e),!0).forEach(function(i){H7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):AU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function H7(n,t,e){return t=F7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function F7(n){var t=j7(n,"string");return Og(t)=="symbol"?t:t+""}function j7(n,t){if(Og(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Og(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function V7(n,t){return X7(n)||k7(n,t)||q7(n,t)||G7()}function G7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(n,t){if(n){if(typeof n=="string")return TU(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return TU(n,t)}}function TU(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function k7(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function X7(n){if(Array.isArray(n))return n}var Y7=St.forwardRef(function(n,t){var e=n.aspect,i=n.initialDimension,r=i===void 0?{width:-1,height:-1}:i,a=n.width,o=a===void 0?"100%":a,l=n.height,c=l===void 0?"100%":l,h=n.minWidth,m=h===void 0?0:h,v=n.minHeight,y=n.maxHeight,_=n.children,S=n.debounce,E=S===void 0?0:S,x=n.id,M=n.className,w=n.onResize,O=n.style,R=O===void 0?{}:O,N=St.useRef(null),P=St.useRef();P.current=w,St.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var U=St.useState({containerWidth:r.width,containerHeight:r.height}),z=V7(U,2),I=z[0],B=z[1],F=St.useCallback(function(W,tt){B(function(J){var H=Math.round(W),q=Math.round(tt);return J.containerWidth===H&&J.containerHeight===q?J:{containerWidth:H,containerHeight:q}})},[]);St.useEffect(function(){var W=function(it){var G,et=it[0].contentRect,ot=et.width,mt=et.height;F(ot,mt),(G=P.current)===null||G===void 0||G.call(P,ot,mt)};E>0&&(W=BH(W,E,{trailing:!0,leading:!1}));var tt=new ResizeObserver(W),J=N.current.getBoundingClientRect(),H=J.width,q=J.height;return F(H,q),tt.observe(N.current),function(){tt.disconnect()}},[F,E]);var K=St.useMemo(function(){var W=I.containerWidth,tt=I.containerHeight;if(W<0||tt<0)return null;_u(vh(o)||vh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),_u(!e||e>0,"The aspect(%s) must be greater than zero.",e);var J=vh(o)?W:o,H=vh(c)?tt:c;e&&e>0&&(J?H=J/e:H&&(J=H*e),y&&H>y&&(H=y)),_u(J>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,H,o,c,m,v,e);var q=!Array.isArray(_)&&bu(_.type).endsWith("Chart");return gt.Children.map(_,function(k){return gt.isValidElement(k)?St.cloneElement(k,Sb({width:J,height:H},q?{style:Sb({height:"100%",width:"100%",maxHeight:H,maxWidth:J},k.props.style)}:{})):k})},[e,_,c,y,v,m,I,o]);return gt.createElement("div",{id:x?"".concat(x):void 0,className:Vn("recharts-responsive-container",M),style:Sb(Sb({},R),{},{width:o,height:c,minWidth:m,minHeight:v,maxHeight:y}),ref:N},K)}),zH=function(t){return null};zH.displayName="Cell";function Cg(n){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(n)}function wU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function F2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(e),!0).forEach(function(i){W7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function W7(n,t,e){return t=Z7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Z7(n){var t=K7(n,"string");return Cg(t)=="symbol"?t:t+""}function K7(n,t){if(Cg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Cg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Wd={widthCache:{},cacheCount:0},$7=2e3,Q7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OU="recharts_measurement_span";function J7(n){var t=F2({},n);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}var ug=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cy.isSsr)return{width:0,height:0};var i=J7(e),r=JSON.stringify({text:t,copyStyle:i});if(Wd.widthCache[r])return Wd.widthCache[r];try{var a=document.getElementById(OU);a||(a=document.createElement("span"),a.setAttribute("id",OU),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=F2(F2({},Q7),i);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Wd.widthCache[r]=c,++Wd.cacheCount>$7&&(Wd.cacheCount=0,Wd.widthCache={}),c}catch{return{width:0,height:0}}},t9=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rg(n){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(n)}function q_(n,t){return r9(n)||i9(n,t)||n9(n,t)||e9()}function e9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(n,t){if(n){if(typeof n=="string")return CU(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return CU(n,t)}}function CU(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function i9(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;c=!1}else for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function r9(n){if(Array.isArray(n))return n}function a9(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function RU(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,o9(i.key),i)}}function s9(n,t,e){return t&&RU(n.prototype,t),e&&RU(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function o9(n){var t=l9(n,"string");return Rg(t)=="symbol"?t:t+""}function l9(n,t){if(Rg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Rg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var DU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,c9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},f9=Object.keys(HH),yp="NaN";function h9(n,t){return n*HH[t]}var Mb=function(){function n(t,e){a9(this,n),this.num=t,this.unit=e,this.num=t,this.unit=e,Number.isNaN(t)&&(this.unit=""),e!==""&&!u9.test(e)&&(this.num=NaN,this.unit=""),f9.includes(e)&&(this.num=h9(t,e),this.unit="px")}return s9(n,[{key:"add",value:function(e){return this.unit!==e.unit?new n(NaN,""):new n(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new n(NaN,""):new n(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new n(NaN,""):new n(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new n(NaN,""):new n(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(e){var i,r=(i=c9.exec(e))!==null&&i!==void 0?i:[],a=q_(r,3),o=a[1],l=a[2];return new n(parseFloat(o),l??"")}}])}();function FH(n){if(n.includes(yp))return yp;for(var t=n;t.includes("*")||t.includes("/");){var e,i=(e=DU.exec(t))!==null&&e!==void 0?e:[],r=q_(i,4),a=r[1],o=r[2],l=r[3],c=Mb.parse(a??""),h=Mb.parse(l??""),m=o==="*"?c.multiply(h):c.divide(h);if(m.isNaN())return yp;t=t.replace(DU,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var v,y=(v=NU.exec(t))!==null&&v!==void 0?v:[],_=q_(y,4),S=_[1],E=_[2],x=_[3],M=Mb.parse(S??""),w=Mb.parse(x??""),O=E==="+"?M.add(w):M.subtract(w);if(O.isNaN())return yp;t=t.replace(NU,O.toString())}return t}var PU=/\(([^()]*)\)/;function d9(n){for(var t=n;t.includes("(");){var e=PU.exec(t),i=q_(e,2),r=i[1];t=t.replace(PU,FH(r))}return t}function p9(n){var t=n.replace(/\s+/g,"");return t=d9(t),t=FH(t),t}function m9(n){try{return p9(n)}catch{return yp}}function ET(n){var t=m9(n.slice(5,-1));return t===yp?"":t}var v9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],g9=["dx","dy","angle","className","breakAll"];function j2(){return j2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},j2.apply(this,arguments)}function UU(n,t){if(n==null)return{};var e=y9(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function y9(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function LU(n,t){return S9(n)||x9(n,t)||_9(n,t)||b9()}function b9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9(n,t){if(n){if(typeof n=="string")return IU(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return IU(n,t)}}function IU(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function x9(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;c=!1}else for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function S9(n){if(Array.isArray(n))return n}var jH=/[ \f\n\r\t\v\u2028\u2029]+/,VH=function(t){var e=t.children,i=t.breakAll,r=t.style;try{var a=[];jn(e)||(i?a=e.toString().split(""):a=e.toString().split(jH));var o=a.map(function(c){return{word:c,width:ug(c,r).width}}),l=i?0:ug(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},M9=function(t,e,i,r,a){var o=t.maxLines,l=t.children,c=t.style,h=t.breakAll,m=de(o),v=l,y=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(H,q){var k=q.word,it=q.width,G=H[H.length-1];if(G&&(r==null||a||G.width+it+i<Number(r)))G.words.push(k),G.width+=it+i;else{var et={words:[k],width:it};H.push(et)}return H},[])},_=y(e),S=function(J){return J.reduce(function(H,q){return H.width>q.width?H:q})};if(!m)return _;for(var E="…",x=function(J){var H=v.slice(0,J),q=VH({breakAll:h,style:c,children:H+E}).wordsWithComputedWidth,k=y(q),it=k.length>o||S(k).width>Number(r);return[it,k]},M=0,w=v.length-1,O=0,R;M<=w&&O<=v.length-1;){var N=Math.floor((M+w)/2),P=N-1,U=x(P),z=LU(U,2),I=z[0],B=z[1],F=x(N),K=LU(F,1),W=K[0];if(!I&&!W&&(M=N+1),I&&W&&(w=N-1),!I&&W){R=B;break}O++}return R||_},BU=function(t){var e=jn(t)?[]:t.toString().split(jH);return[{words:e}]},E9=function(t){var e=t.width,i=t.scaleToFit,r=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((e||i)&&!Cy.isSsr){var c,h,m=VH({breakAll:o,children:r,style:a});if(m){var v=m.wordsWithComputedWidth,y=m.spaceWidth;c=v,h=y}else return BU(r);return M9({breakAll:o,children:r,maxLines:l,style:a},c,h,e,i)}return BU(r)},zU="#808080",k_=function(t){var e=t.x,i=e===void 0?0:e,r=t.y,a=r===void 0?0:r,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,h=c===void 0?"0.71em":c,m=t.scaleToFit,v=m===void 0?!1:m,y=t.textAnchor,_=y===void 0?"start":y,S=t.verticalAnchor,E=S===void 0?"end":S,x=t.fill,M=x===void 0?zU:x,w=UU(t,v9),O=St.useMemo(function(){return E9({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:v,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,v,w.style,w.width]),R=w.dx,N=w.dy,P=w.angle,U=w.className,z=w.breakAll,I=UU(w,g9);if(!fr(i)||!fr(a))return null;var B=i+(de(R)?R:0),F=a+(de(N)?N:0),K;switch(E){case"start":K=ET("calc(".concat(h,")"));break;case"middle":K=ET("calc(".concat((O.length-1)/2," * -").concat(l," + (").concat(h," / 2))"));break;default:K=ET("calc(".concat(O.length-1," * -").concat(l,")"));break}var W=[];if(v){var tt=O[0].width,J=w.width;W.push("scale(".concat((de(J)?J/tt:1)/tt,")"))}return P&&W.push("rotate(".concat(P,", ").concat(B,", ").concat(F,")")),W.length&&(I.transform=W.join(" ")),gt.createElement("text",j2({},Ln(I,!0),{x:B,y:F,className:Vn("recharts-text",U),textAnchor:_,fill:M.includes("url")?zU:M}),O.map(function(H,q){var k=H.words.join(z?"":" ");return gt.createElement("tspan",{x:B,dy:q===0?K:l,key:"".concat(k,"-").concat(q)},k)}))};function jc(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function A9(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function OC(n){let t,e,i;n.length!==2?(t=jc,e=(l,c)=>jc(n(l),c),i=(l,c)=>n(l)-c):(t=n===jc||n===A9?n:T9,e=n,i=n);function r(l,c,h=0,m=l.length){if(h<m){if(t(c,c)!==0)return m;do{const v=h+m>>>1;e(l[v],c)<0?h=v+1:m=v}while(h<m)}return h}function a(l,c,h=0,m=l.length){if(h<m){if(t(c,c)!==0)return m;do{const v=h+m>>>1;e(l[v],c)<=0?h=v+1:m=v}while(h<m)}return h}function o(l,c,h=0,m=l.length){const v=r(l,c,h,m-1);return v>h&&i(l[v-1],c)>-i(l[v],c)?v-1:v}return{left:r,center:o,right:a}}function T9(){return 0}function GH(n){return n===null?NaN:+n}function*w9(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const O9=OC(jc),Ry=O9.right;OC(GH).center;class HU extends Map{constructor(t,e=D9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(FU(this,t))}has(t){return super.has(FU(this,t))}set(t,e){return super.set(C9(this,t),e)}delete(t){return super.delete(R9(this,t))}}function FU({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function C9({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function R9({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function D9(n){return n!==null&&typeof n=="object"?n.valueOf():n}function N9(n=jc){if(n===jc)return qH;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=n(t,e);return i||i===0?i:(n(e,e)===0)-(n(t,t)===0)}}function qH(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const P9=Math.sqrt(50),U9=Math.sqrt(10),L9=Math.sqrt(2);function X_(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=P9?10:a>=U9?5:a>=L9?2:1;let l,c,h;return r<0?(h=Math.pow(10,-r)/o,l=Math.round(n*h),c=Math.round(t*h),l/h<n&&++l,c/h>t&&--c,h=-h):(h=Math.pow(10,r)*o,l=Math.round(n/h),c=Math.round(t/h),l*h<n&&++l,c*h>t&&--c),c<l&&.5<=e&&e<2?X_(n,t,e*2):[l,c,h]}function V2(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,a,o]=i?X_(t,n,e):X_(n,t,e);if(!(a>=r))return[];const l=a-r+1,c=new Array(l);if(i)if(o<0)for(let h=0;h<l;++h)c[h]=(a-h)/-o;else for(let h=0;h<l;++h)c[h]=(a-h)*o;else if(o<0)for(let h=0;h<l;++h)c[h]=(r+h)/-o;else for(let h=0;h<l;++h)c[h]=(r+h)*o;return c}function G2(n,t,e){return t=+t,n=+n,e=+e,X_(n,t,e)[2]}function q2(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?G2(t,n,e):G2(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function jU(n,t){let e;for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);return e}function VU(n,t){let e;for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);return e}function kH(n,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(n.length-1,i)),!(e<=t&&t<=i))return n;for(r=r===void 0?qH:N9(r);i>e;){if(i-e>600){const c=i-e+1,h=t-e+1,m=Math.log(c),v=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*v*(c-v)/c)*(h-c/2<0?-1:1),_=Math.max(e,Math.floor(t-h*v/c+y)),S=Math.min(i,Math.floor(t+(c-h)*v/c+y));kH(n,t,_,S,r)}const a=n[t];let o=e,l=i;for(Bv(n,e,t),r(n[i],a)>0&&Bv(n,e,i);o<l;){for(Bv(n,o,l),++o,--l;r(n[o],a)<0;)++o;for(;r(n[l],a)>0;)--l}r(n[e],a)===0?Bv(n,e,l):(++l,Bv(n,l,i)),l<=t&&(e=l+1),t<=l&&(i=l-1)}return n}function Bv(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function I9(n,t,e){if(n=Float64Array.from(w9(n)),!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return VU(n);if(t>=1)return jU(n);var i,r=(i-1)*t,a=Math.floor(r),o=jU(kH(n,a).subarray(0,a+1)),l=VU(n.subarray(a+1));return o+(l-o)*(r-a)}}function B9(n,t,e=GH){if(!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,a=Math.floor(r),o=+e(n[a],a,n),l=+e(n[a+1],a+1,n);return o+(l-o)*(r-a)}}function z9(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,a=new Array(r);++i<r;)a[i]=n+i*e;return a}function Ks(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Pu(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const k2=Symbol("implicit");function CC(){var n=new HU,t=[],e=[],i=k2;function r(a){let o=n.get(a);if(o===void 0){if(i!==k2)return i;n.set(a,o=t.push(a)-1)}return e[o%e.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new HU;for(const o of a)n.has(o)||n.set(o,t.push(o)-1);return r},r.range=function(a){return arguments.length?(e=Array.from(a),r):e.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return CC(t,e).unknown(i)},Ks.apply(r,arguments),r}function Dg(){var n=CC().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,a,o,l=!1,c=0,h=0,m=.5;delete n.unknown;function v(){var y=t().length,_=r<i,S=_?r:i,E=_?i:r;a=(E-S)/Math.max(1,y-c+h*2),l&&(a=Math.floor(a)),S+=(E-S-a*(y-c))*m,o=a*(1-c),l&&(S=Math.round(S),o=Math.round(o));var x=z9(y).map(function(M){return S+a*M});return e(_?x.reverse():x)}return n.domain=function(y){return arguments.length?(t(y),v()):t()},n.range=function(y){return arguments.length?([i,r]=y,i=+i,r=+r,v()):[i,r]},n.rangeRound=function(y){return[i,r]=y,i=+i,r=+r,l=!0,v()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(y){return arguments.length?(l=!!y,v()):l},n.padding=function(y){return arguments.length?(c=Math.min(1,h=+y),v()):c},n.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),v()):c},n.paddingOuter=function(y){return arguments.length?(h=+y,v()):h},n.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),v()):m},n.copy=function(){return Dg(t(),[i,r]).round(l).paddingInner(c).paddingOuter(h).align(m)},Ks.apply(v(),arguments)}function XH(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return XH(t())},n}function cg(){return XH(Dg.apply(null,arguments).paddingInner(1))}function RC(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function YH(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function Dy(){}var Ng=.7,Y_=1/Ng,wp="\\s*([+-]?\\d+)\\s*",Pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H9=/^#([0-9a-f]{3,8})$/,F9=new RegExp(`^rgb\\(${wp},${wp},${wp}\\)$`),j9=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),V9=new RegExp(`^rgba\\(${wp},${wp},${wp},${Pg}\\)$`),G9=new RegExp(`^rgba\\(${Al},${Al},${Al},${Pg}\\)$`),q9=new RegExp(`^hsl\\(${Pg},${Al},${Al}\\)$`),k9=new RegExp(`^hsla\\(${Pg},${Al},${Al},${Pg}\\)$`),GU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RC(Dy,Ug,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:qU,formatHex:qU,formatHex8:X9,formatHsl:Y9,formatRgb:kU,toString:kU});function qU(){return this.rgb().formatHex()}function X9(){return this.rgb().formatHex8()}function Y9(){return WH(this).formatHsl()}function kU(){return this.rgb().formatRgb()}function Ug(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=H9.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?XU(t):e===3?new Ya(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Eb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Eb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F9.exec(n))?new Ya(t[1],t[2],t[3],1):(t=j9.exec(n))?new Ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V9.exec(n))?Eb(t[1],t[2],t[3],t[4]):(t=G9.exec(n))?Eb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q9.exec(n))?ZU(t[1],t[2]/100,t[3]/100,1):(t=k9.exec(n))?ZU(t[1],t[2]/100,t[3]/100,t[4]):GU.hasOwnProperty(n)?XU(GU[n]):n==="transparent"?new Ya(NaN,NaN,NaN,0):null}function XU(n){return new Ya(n>>16&255,n>>8&255,n&255,1)}function Eb(n,t,e,i){return i<=0&&(n=t=e=NaN),new Ya(n,t,e,i)}function W9(n){return n instanceof Dy||(n=Ug(n)),n?(n=n.rgb(),new Ya(n.r,n.g,n.b,n.opacity)):new Ya}function X2(n,t,e,i){return arguments.length===1?W9(n):new Ya(n,t,e,i??1)}function Ya(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}RC(Ya,X2,YH(Dy,{brighter(n){return n=n==null?Y_:Math.pow(Y_,n),new Ya(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ng:Math.pow(Ng,n),new Ya(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ya(Mh(this.r),Mh(this.g),Mh(this.b),W_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YU,formatHex:YU,formatHex8:Z9,formatRgb:WU,toString:WU}));function YU(){return`#${gh(this.r)}${gh(this.g)}${gh(this.b)}`}function Z9(){return`#${gh(this.r)}${gh(this.g)}${gh(this.b)}${gh((isNaN(this.opacity)?1:this.opacity)*255)}`}function WU(){const n=W_(this.opacity);return`${n===1?"rgb(":"rgba("}${Mh(this.r)}, ${Mh(this.g)}, ${Mh(this.b)}${n===1?")":`, ${n})`}`}function W_(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Mh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function gh(n){return n=Mh(n),(n<16?"0":"")+n.toString(16)}function ZU(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new No(n,t,e,i)}function WH(n){if(n instanceof No)return new No(n.h,n.s,n.l,n.opacity);if(n instanceof Dy||(n=Ug(n)),!n)return new No;if(n instanceof No)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),a=Math.max(t,e,i),o=NaN,l=a-r,c=(a+r)/2;return l?(t===a?o=(e-i)/l+(e<i)*6:e===a?o=(i-t)/l+2:o=(t-e)/l+4,l/=c<.5?a+r:2-a-r,o*=60):l=c>0&&c<1?0:o,new No(o,l,c,n.opacity)}function K9(n,t,e,i){return arguments.length===1?WH(n):new No(n,t,e,i??1)}function No(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}RC(No,K9,YH(Dy,{brighter(n){return n=n==null?Y_:Math.pow(Y_,n),new No(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ng:Math.pow(Ng,n),new No(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new Ya(AT(n>=240?n-240:n+120,r,i),AT(n,r,i),AT(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new No(KU(this.h),Ab(this.s),Ab(this.l),W_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=W_(this.opacity);return`${n===1?"hsl(":"hsla("}${KU(this.h)}, ${Ab(this.s)*100}%, ${Ab(this.l)*100}%${n===1?")":`, ${n})`}`}}));function KU(n){return n=(n||0)%360,n<0?n+360:n}function Ab(n){return Math.max(0,Math.min(1,n||0))}function AT(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const DC=n=>()=>n;function $9(n,t){return function(e){return n+e*t}}function Q9(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function J9(n){return(n=+n)==1?ZH:function(t,e){return e-t?Q9(t,e,n):DC(isNaN(t)?e:t)}}function ZH(n,t){var e=t-n;return e?$9(n,e):DC(isNaN(n)?t:n)}const $U=function n(t){var e=J9(t);function i(r,a){var o=e((r=X2(r)).r,(a=X2(a)).r),l=e(r.g,a.g),c=e(r.b,a.b),h=ZH(r.opacity,a.opacity);return function(m){return r.r=o(m),r.g=l(m),r.b=c(m),r.opacity=h(m),r+""}}return i.gamma=n,i}(1);function tX(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(a){for(r=0;r<e;++r)i[r]=n[r]*(1-a)+t[r]*a;return i}}function eX(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function nX(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),a=new Array(e),o;for(o=0;o<i;++o)r[o]=fm(n[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=r[o](l);return a}}function iX(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function Z_(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function rX(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=fm(n[r],t[r]):i[r]=t[r];return function(a){for(r in e)i[r]=e[r](a);return i}}var Y2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TT=new RegExp(Y2.source,"g");function aX(n){return function(){return n}}function sX(n){return function(t){return n(t)+""}}function oX(n,t){var e=Y2.lastIndex=TT.lastIndex=0,i,r,a,o=-1,l=[],c=[];for(n=n+"",t=t+"";(i=Y2.exec(n))&&(r=TT.exec(t));)(a=r.index)>e&&(a=t.slice(e,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:Z_(i,r)})),e=TT.lastIndex;return e<t.length&&(a=t.slice(e),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?sX(c[0].x):aX(t):(t=c.length,function(h){for(var m=0,v;m<t;++m)l[(v=c[m]).i]=v.x(h);return l.join("")})}function fm(n,t){var e=typeof t,i;return t==null||e==="boolean"?DC(t):(e==="number"?Z_:e==="string"?(i=Ug(t))?(t=i,$U):oX:t instanceof Ug?$U:t instanceof Date?iX:eX(t)?tX:Array.isArray(t)?nX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rX:Z_)(n,t)}function NC(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function lX(n,t){t===void 0&&(t=n,n=fm);for(var e=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);e<i;)a[e]=n(r,r=t[++e]);return function(o){var l=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[l](o-l)}}function uX(n){return function(){return n}}function K_(n){return+n}var QU=[0,1];function wa(n){return n}function W2(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:uX(isNaN(t)?NaN:.5)}function cX(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function fX(n,t,e){var i=n[0],r=n[1],a=t[0],o=t[1];return r<i?(i=W2(r,i),a=e(o,a)):(i=W2(i,r),a=e(a,o)),function(l){return a(i(l))}}function hX(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=W2(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(l){var c=Ry(n,l,1,i)-1;return a[c](r[c](l))}}function Ny(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function CS(){var n=QU,t=QU,e=fm,i,r,a,o=wa,l,c,h;function m(){var y=Math.min(n.length,t.length);return o!==wa&&(o=cX(n[0],n[y-1])),l=y>2?hX:fX,c=h=null,v}function v(y){return y==null||isNaN(y=+y)?a:(c||(c=l(n.map(i),t,e)))(i(o(y)))}return v.invert=function(y){return o(r((h||(h=l(t,n.map(i),Z_)))(y)))},v.domain=function(y){return arguments.length?(n=Array.from(y,K_),m()):n.slice()},v.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},v.rangeRound=function(y){return t=Array.from(y),e=NC,m()},v.clamp=function(y){return arguments.length?(o=y?!0:wa,m()):o!==wa},v.interpolate=function(y){return arguments.length?(e=y,m()):e},v.unknown=function(y){return arguments.length?(a=y,v):a},function(y,_){return i=y,r=_,m()}}function PC(){return CS()(wa,wa)}function dX(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $_(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function Lp(n){return n=$_(Math.abs(n)),n?n[1]:NaN}function pX(n,t){return function(e,i){for(var r=e.length,a=[],o=0,l=n[0],c=0;r>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(e.substring(r-=l,r+l)),!((c+=l+1)>i));)l=n[o=(o+1)%n.length];return a.reverse().join(t)}}function mX(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var vX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lg(n){if(!(t=vX.exec(n)))throw new Error("invalid format: "+n);var t;return new UC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lg.prototype=UC.prototype;function UC(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}UC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gX(n){t:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var KH;function yX(n,t){var e=$_(n,t);if(!e)return n+"";var i=e[0],r=e[1],a=r-(KH=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+$_(n,Math.max(0,t+a-1))[0]}function JU(n,t){var e=$_(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const tL={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:dX,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>JU(n*100,t),r:JU,s:yX,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function eL(n){return n}var nL=Array.prototype.map,iL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bX(n){var t=n.grouping===void 0||n.thousands===void 0?eL:pX(nL.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?eL:mX(nL.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function h(v){v=Lg(v);var y=v.fill,_=v.align,S=v.sign,E=v.symbol,x=v.zero,M=v.width,w=v.comma,O=v.precision,R=v.trim,N=v.type;N==="n"?(w=!0,N="g"):tL[N]||(O===void 0&&(O=12),R=!0,N="g"),(x||y==="0"&&_==="=")&&(x=!0,y="0",_="=");var P=E==="$"?e:E==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",U=E==="$"?i:/[%p]/.test(N)?o:"",z=tL[N],I=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function B(F){var K=P,W=U,tt,J,H;if(N==="c")W=z(F)+W,F="";else{F=+F;var q=F<0||1/F<0;if(F=isNaN(F)?c:z(Math.abs(F),O),R&&(F=gX(F)),q&&+F==0&&S!=="+"&&(q=!1),K=(q?S==="("?S:l:S==="-"||S==="("?"":S)+K,W=(N==="s"?iL[8+KH/3]:"")+W+(q&&S==="("?")":""),I){for(tt=-1,J=F.length;++tt<J;)if(H=F.charCodeAt(tt),48>H||H>57){W=(H===46?r+F.slice(tt+1):F.slice(tt))+W,F=F.slice(0,tt);break}}}w&&!x&&(F=t(F,1/0));var k=K.length+F.length+W.length,it=k<M?new Array(M-k+1).join(y):"";switch(w&&x&&(F=t(it+F,it.length?M-W.length:1/0),it=""),_){case"<":F=K+F+W+it;break;case"=":F=K+it+F+W;break;case"^":F=it.slice(0,k=it.length>>1)+K+F+W+it.slice(k);break;default:F=it+K+F+W;break}return a(F)}return B.toString=function(){return v+""},B}function m(v,y){var _=h((v=Lg(v),v.type="f",v)),S=Math.max(-8,Math.min(8,Math.floor(Lp(y)/3)))*3,E=Math.pow(10,-S),x=iL[8+S/3];return function(M){return _(E*M)+x}}return{format:h,formatPrefix:m}}var Tb,LC,$H;_X({thousands:",",grouping:[3],currency:["$",""]});function _X(n){return Tb=bX(n),LC=Tb.format,$H=Tb.formatPrefix,Tb}function xX(n){return Math.max(0,-Lp(Math.abs(n)))}function SX(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lp(t)/3)))*3-Lp(Math.abs(n)))}function MX(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Lp(t)-Lp(n))+1}function QH(n,t,e,i){var r=q2(n,t,e),a;switch(i=Lg(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(a=SX(r,o))&&(i.precision=a),$H(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=MX(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=xX(r))&&(i.precision=a-(i.type==="%")*2);break}}return LC(i)}function Zc(n){var t=n.domain;return n.ticks=function(e){var i=t();return V2(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return QH(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,a=i.length-1,o=i[r],l=i[a],c,h,m=10;for(l<o&&(h=o,o=l,l=h,h=r,r=a,a=h);m-- >0;){if(h=G2(o,l,e),h===c)return i[r]=o,i[a]=l,t(i);if(h>0)o=Math.floor(o/h)*h,l=Math.ceil(l/h)*h;else if(h<0)o=Math.ceil(o*h)/h,l=Math.floor(l*h)/h;else break;c=h}return n},n}function Q_(){var n=PC();return n.copy=function(){return Ny(n,Q_())},Ks.apply(n,arguments),Zc(n)}function JH(n){var t;function e(i){return i==null||isNaN(i=+i)?t:i}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(n=Array.from(i,K_),e):n.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return JH(n).unknown(t)},n=arguments.length?Array.from(n,K_):[0,1],Zc(e)}function t5(n,t){n=n.slice();var e=0,i=n.length-1,r=n[e],a=n[i],o;return a<r&&(o=e,e=i,i=o,o=r,r=a,a=o),n[e]=t.floor(r),n[i]=t.ceil(a),n}function rL(n){return Math.log(n)}function aL(n){return Math.exp(n)}function EX(n){return-Math.log(-n)}function AX(n){return-Math.exp(-n)}function TX(n){return isFinite(n)?+("1e"+n):n<0?0:n}function wX(n){return n===10?TX:n===Math.E?Math.exp:t=>Math.pow(n,t)}function OX(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function sL(n){return(t,e)=>-n(-t,e)}function IC(n){const t=n(rL,aL),e=t.domain;let i=10,r,a;function o(){return r=OX(i),a=wX(i),e()[0]<0?(r=sL(r),a=sL(a),n(EX,AX)):n(rL,aL),t}return t.base=function(l){return arguments.length?(i=+l,o()):i},t.domain=function(l){return arguments.length?(e(l),o()):e()},t.ticks=l=>{const c=e();let h=c[0],m=c[c.length-1];const v=m<h;v&&([h,m]=[m,h]);let y=r(h),_=r(m),S,E;const x=l==null?10:+l;let M=[];if(!(i%1)&&_-y<x){if(y=Math.floor(y),_=Math.ceil(_),h>0){for(;y<=_;++y)for(S=1;S<i;++S)if(E=y<0?S/a(-y):S*a(y),!(E<h)){if(E>m)break;M.push(E)}}else for(;y<=_;++y)for(S=i-1;S>=1;--S)if(E=y>0?S/a(-y):S*a(y),!(E<h)){if(E>m)break;M.push(E)}M.length*2<x&&(M=V2(h,m,x))}else M=V2(y,_,Math.min(_-y,x)).map(a);return v?M.reverse():M},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Lg(c)).precision==null&&(c.trim=!0),c=LC(c)),l===1/0)return c;const h=Math.max(1,i*l/t.ticks().length);return m=>{let v=m/a(Math.round(r(m)));return v*i<i-.5&&(v*=i),v<=h?c(m):""}},t.nice=()=>e(t5(e(),{floor:l=>a(Math.floor(r(l))),ceil:l=>a(Math.ceil(r(l)))})),t}function e5(){const n=IC(CS()).domain([1,10]);return n.copy=()=>Ny(n,e5()).base(n.base()),Ks.apply(n,arguments),n}function oL(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function lL(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function BC(n){var t=1,e=n(oL(t),lL(t));return e.constant=function(i){return arguments.length?n(oL(t=+i),lL(t)):t},Zc(e)}function n5(){var n=BC(CS());return n.copy=function(){return Ny(n,n5()).constant(n.constant())},Ks.apply(n,arguments)}function uL(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function CX(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function RX(n){return n<0?-n*n:n*n}function zC(n){var t=n(wa,wa),e=1;function i(){return e===1?n(wa,wa):e===.5?n(CX,RX):n(uL(e),uL(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},Zc(t)}function HC(){var n=zC(CS());return n.copy=function(){return Ny(n,HC()).exponent(n.exponent())},Ks.apply(n,arguments),n}function DX(){return HC.apply(null,arguments).exponent(.5)}function cL(n){return Math.sign(n)*n*n}function NX(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function i5(){var n=PC(),t=[0,1],e=!1,i;function r(a){var o=NX(n(a));return isNaN(o)?i:e?Math.round(o):o}return r.invert=function(a){return n.invert(cL(a))},r.domain=function(a){return arguments.length?(n.domain(a),r):n.domain()},r.range=function(a){return arguments.length?(n.range((t=Array.from(a,K_)).map(cL)),r):t.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(e=!!a,r):e},r.clamp=function(a){return arguments.length?(n.clamp(a),r):n.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return i5(n.domain(),t).round(e).clamp(n.clamp()).unknown(i)},Ks.apply(r,arguments),Zc(r)}function r5(){var n=[],t=[],e=[],i;function r(){var o=0,l=Math.max(1,t.length);for(e=new Array(l-1);++o<l;)e[o-1]=B9(n,o/l);return a}function a(o){return o==null||isNaN(o=+o)?i:t[Ry(e,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?e[l-1]:n[0],l<e.length?e[l]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let l of o)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(jc),r()},a.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return e.slice()},a.copy=function(){return r5().domain(n).range(t).unknown(i)},Ks.apply(a,arguments)}function a5(){var n=0,t=1,e=1,i=[.5],r=[0,1],a;function o(c){return c!=null&&c<=c?r[Ry(i,c,0,e)]:a}function l(){var c=-1;for(i=new Array(e);++c<e;)i[c]=((c+1)*t-(c-e)*n)/(e+1);return o}return o.domain=function(c){return arguments.length?([n,t]=c,n=+n,t=+t,l()):[n,t]},o.range=function(c){return arguments.length?(e=(r=Array.from(c)).length-1,l()):r.slice()},o.invertExtent=function(c){var h=r.indexOf(c);return h<0?[NaN,NaN]:h<1?[n,i[0]]:h>=e?[i[e-1],t]:[i[h-1],i[h]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return i.slice()},o.copy=function(){return a5().domain([n,t]).range(r).unknown(a)},Ks.apply(Zc(o),arguments)}function s5(){var n=[.5],t=[0,1],e,i=1;function r(a){return a!=null&&a<=a?t[Ry(n,a,0,i)]:e}return r.domain=function(a){return arguments.length?(n=Array.from(a),i=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(a){var o=t.indexOf(a);return[n[o-1],n[o]]},r.unknown=function(a){return arguments.length?(e=a,r):e},r.copy=function(){return s5().domain(n).range(t).unknown(e)},Ks.apply(r,arguments)}const wT=new Date,OT=new Date;function mr(n,t,e,i){function r(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(n(a=new Date(+a)),a),r.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),r.round=a=>{const o=r(a),l=r.ceil(a);return a-o<l-a?o:l},r.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),r.range=(a,o,l)=>{const c=[];if(a=r.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let h;do c.push(h=new Date(+a)),t(a,l),n(a);while(h<a&&a<o);return c},r.filter=a=>mr(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),e&&(r.count=(a,o)=>(wT.setTime(+a),OT.setTime(+o),n(wT),n(OT),Math.floor(e(wT,OT))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?o=>i(o)%a===0:o=>r.count(0,o)%a===0):r)),r}const J_=mr(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);J_.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?mr(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):J_);J_.range;const mu=1e3,ks=mu*60,vu=ks*60,Eu=vu*24,FC=Eu*7,fL=Eu*30,CT=Eu*365,yh=mr(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*mu)},(n,t)=>(t-n)/mu,n=>n.getUTCSeconds());yh.range;const jC=mr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*mu)},(n,t)=>{n.setTime(+n+t*ks)},(n,t)=>(t-n)/ks,n=>n.getMinutes());jC.range;const VC=mr(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*ks)},(n,t)=>(t-n)/ks,n=>n.getUTCMinutes());VC.range;const GC=mr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*mu-n.getMinutes()*ks)},(n,t)=>{n.setTime(+n+t*vu)},(n,t)=>(t-n)/vu,n=>n.getHours());GC.range;const qC=mr(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*vu)},(n,t)=>(t-n)/vu,n=>n.getUTCHours());qC.range;const Py=mr(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ks)/Eu,n=>n.getDate()-1);Py.range;const RS=mr(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Eu,n=>n.getUTCDate()-1);RS.range;const o5=mr(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Eu,n=>Math.floor(n/Eu));o5.range;function zh(n){return mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ks)/FC)}const DS=zh(0),tx=zh(1),PX=zh(2),UX=zh(3),Ip=zh(4),LX=zh(5),IX=zh(6);DS.range;tx.range;PX.range;UX.range;Ip.range;LX.range;IX.range;function Hh(n){return mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/FC)}const NS=Hh(0),ex=Hh(1),BX=Hh(2),zX=Hh(3),Bp=Hh(4),HX=Hh(5),FX=Hh(6);NS.range;ex.range;BX.range;zX.range;Bp.range;HX.range;FX.range;const kC=mr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());kC.range;const XC=mr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());XC.range;const Au=mr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Au.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Au.range;const Tu=mr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Tu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Tu.range;function l5(n,t,e,i,r,a){const o=[[yh,1,mu],[yh,5,5*mu],[yh,15,15*mu],[yh,30,30*mu],[a,1,ks],[a,5,5*ks],[a,15,15*ks],[a,30,30*ks],[r,1,vu],[r,3,3*vu],[r,6,6*vu],[r,12,12*vu],[i,1,Eu],[i,2,2*Eu],[e,1,FC],[t,1,fL],[t,3,3*fL],[n,1,CT]];function l(h,m,v){const y=m<h;y&&([h,m]=[m,h]);const _=v&&typeof v.range=="function"?v:c(h,m,v),S=_?_.range(h,+m+1):[];return y?S.reverse():S}function c(h,m,v){const y=Math.abs(m-h)/v,_=OC(([,,x])=>x).right(o,y);if(_===o.length)return n.every(q2(h/CT,m/CT,v));if(_===0)return J_.every(Math.max(q2(h,m,v),1));const[S,E]=o[y/o[_-1][2]<o[_][2]/y?_-1:_];return S.every(E)}return[l,c]}const[jX,VX]=l5(Tu,XC,NS,o5,qC,VC),[GX,qX]=l5(Au,kC,DS,Py,GC,jC);function RT(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function DT(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function zv(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function kX(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,a=n.days,o=n.shortDays,l=n.months,c=n.shortMonths,h=Hv(r),m=Fv(r),v=Hv(a),y=Fv(a),_=Hv(o),S=Fv(o),E=Hv(l),x=Fv(l),M=Hv(c),w=Fv(c),O={a:q,A:k,b:it,B:G,c:null,d:gL,e:gL,f:pY,g:EY,G:TY,H:fY,I:hY,j:dY,L:u5,m:mY,M:vY,p:et,q:ot,Q:_L,s:xL,S:gY,u:yY,U:bY,V:_Y,w:xY,W:SY,x:null,X:null,y:MY,Y:AY,Z:wY,"%":bL},R={a:mt,A:rt,b:_t,B:Ut,c:null,d:yL,e:yL,f:DY,g:jY,G:GY,H:OY,I:CY,j:RY,L:f5,m:NY,M:PY,p:Zt,q:$t,Q:_L,s:xL,S:UY,u:LY,U:IY,V:BY,w:zY,W:HY,x:null,X:null,y:FY,Y:VY,Z:qY,"%":bL},N={a:B,A:F,b:K,B:W,c:tt,d:mL,e:mL,f:oY,g:pL,G:dL,H:vL,I:vL,j:iY,L:sY,m:nY,M:rY,p:I,q:eY,Q:uY,s:cY,S:aY,u:KX,U:$X,V:QX,w:ZX,W:JX,x:J,X:H,y:pL,Y:dL,Z:tY,"%":lY};O.x=P(e,O),O.X=P(i,O),O.c=P(t,O),R.x=P(e,R),R.X=P(i,R),R.c=P(t,R);function P(wt,Qt){return function(se){var Lt=[],be=-1,nt=0,Be=wt.length,It,Pt,Ht;for(se instanceof Date||(se=new Date(+se));++be<Be;)wt.charCodeAt(be)===37&&(Lt.push(wt.slice(nt,be)),(Pt=hL[It=wt.charAt(++be)])!=null?It=wt.charAt(++be):Pt=It==="e"?" ":"0",(Ht=Qt[It])&&(It=Ht(se,Pt)),Lt.push(It),nt=be+1);return Lt.push(wt.slice(nt,be)),Lt.join("")}}function U(wt,Qt){return function(se){var Lt=zv(1900,void 0,1),be=z(Lt,wt,se+="",0),nt,Be;if(be!=se.length)return null;if("Q"in Lt)return new Date(Lt.Q);if("s"in Lt)return new Date(Lt.s*1e3+("L"in Lt?Lt.L:0));if(Qt&&!("Z"in Lt)&&(Lt.Z=0),"p"in Lt&&(Lt.H=Lt.H%12+Lt.p*12),Lt.m===void 0&&(Lt.m="q"in Lt?Lt.q:0),"V"in Lt){if(Lt.V<1||Lt.V>53)return null;"w"in Lt||(Lt.w=1),"Z"in Lt?(nt=DT(zv(Lt.y,0,1)),Be=nt.getUTCDay(),nt=Be>4||Be===0?ex.ceil(nt):ex(nt),nt=RS.offset(nt,(Lt.V-1)*7),Lt.y=nt.getUTCFullYear(),Lt.m=nt.getUTCMonth(),Lt.d=nt.getUTCDate()+(Lt.w+6)%7):(nt=RT(zv(Lt.y,0,1)),Be=nt.getDay(),nt=Be>4||Be===0?tx.ceil(nt):tx(nt),nt=Py.offset(nt,(Lt.V-1)*7),Lt.y=nt.getFullYear(),Lt.m=nt.getMonth(),Lt.d=nt.getDate()+(Lt.w+6)%7)}else("W"in Lt||"U"in Lt)&&("w"in Lt||(Lt.w="u"in Lt?Lt.u%7:"W"in Lt?1:0),Be="Z"in Lt?DT(zv(Lt.y,0,1)).getUTCDay():RT(zv(Lt.y,0,1)).getDay(),Lt.m=0,Lt.d="W"in Lt?(Lt.w+6)%7+Lt.W*7-(Be+5)%7:Lt.w+Lt.U*7-(Be+6)%7);return"Z"in Lt?(Lt.H+=Lt.Z/100|0,Lt.M+=Lt.Z%100,DT(Lt)):RT(Lt)}}function z(wt,Qt,se,Lt){for(var be=0,nt=Qt.length,Be=se.length,It,Pt;be<nt;){if(Lt>=Be)return-1;if(It=Qt.charCodeAt(be++),It===37){if(It=Qt.charAt(be++),Pt=N[It in hL?Qt.charAt(be++):It],!Pt||(Lt=Pt(wt,se,Lt))<0)return-1}else if(It!=se.charCodeAt(Lt++))return-1}return Lt}function I(wt,Qt,se){var Lt=h.exec(Qt.slice(se));return Lt?(wt.p=m.get(Lt[0].toLowerCase()),se+Lt[0].length):-1}function B(wt,Qt,se){var Lt=_.exec(Qt.slice(se));return Lt?(wt.w=S.get(Lt[0].toLowerCase()),se+Lt[0].length):-1}function F(wt,Qt,se){var Lt=v.exec(Qt.slice(se));return Lt?(wt.w=y.get(Lt[0].toLowerCase()),se+Lt[0].length):-1}function K(wt,Qt,se){var Lt=M.exec(Qt.slice(se));return Lt?(wt.m=w.get(Lt[0].toLowerCase()),se+Lt[0].length):-1}function W(wt,Qt,se){var Lt=E.exec(Qt.slice(se));return Lt?(wt.m=x.get(Lt[0].toLowerCase()),se+Lt[0].length):-1}function tt(wt,Qt,se){return z(wt,t,Qt,se)}function J(wt,Qt,se){return z(wt,e,Qt,se)}function H(wt,Qt,se){return z(wt,i,Qt,se)}function q(wt){return o[wt.getDay()]}function k(wt){return a[wt.getDay()]}function it(wt){return c[wt.getMonth()]}function G(wt){return l[wt.getMonth()]}function et(wt){return r[+(wt.getHours()>=12)]}function ot(wt){return 1+~~(wt.getMonth()/3)}function mt(wt){return o[wt.getUTCDay()]}function rt(wt){return a[wt.getUTCDay()]}function _t(wt){return c[wt.getUTCMonth()]}function Ut(wt){return l[wt.getUTCMonth()]}function Zt(wt){return r[+(wt.getUTCHours()>=12)]}function $t(wt){return 1+~~(wt.getUTCMonth()/3)}return{format:function(wt){var Qt=P(wt+="",O);return Qt.toString=function(){return wt},Qt},parse:function(wt){var Qt=U(wt+="",!1);return Qt.toString=function(){return wt},Qt},utcFormat:function(wt){var Qt=P(wt+="",R);return Qt.toString=function(){return wt},Qt},utcParse:function(wt){var Qt=U(wt+="",!0);return Qt.toString=function(){return wt},Qt}}}var hL={"-":"",_:" ",0:"0"},Ar=/^\s*\d+/,XX=/^%/,YX=/[\\^$*+?|[\]().{}]/g;function Pn(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",a=r.length;return i+(a<e?new Array(e-a+1).join(t)+r:r)}function WX(n){return n.replace(YX,"\\$&")}function Hv(n){return new RegExp("^(?:"+n.map(WX).join("|")+")","i")}function Fv(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function ZX(n,t,e){var i=Ar.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function KX(n,t,e){var i=Ar.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function $X(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function QX(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function JX(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function dL(n,t,e){var i=Ar.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function pL(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function tY(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function eY(n,t,e){var i=Ar.exec(t.slice(e,e+1));return i?(n.q=i[0]*3-3,e+i[0].length):-1}function nY(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function mL(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function iY(n,t,e){var i=Ar.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function vL(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function rY(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function aY(n,t,e){var i=Ar.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function sY(n,t,e){var i=Ar.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function oY(n,t,e){var i=Ar.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function lY(n,t,e){var i=XX.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function uY(n,t,e){var i=Ar.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function cY(n,t,e){var i=Ar.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function gL(n,t){return Pn(n.getDate(),t,2)}function fY(n,t){return Pn(n.getHours(),t,2)}function hY(n,t){return Pn(n.getHours()%12||12,t,2)}function dY(n,t){return Pn(1+Py.count(Au(n),n),t,3)}function u5(n,t){return Pn(n.getMilliseconds(),t,3)}function pY(n,t){return u5(n,t)+"000"}function mY(n,t){return Pn(n.getMonth()+1,t,2)}function vY(n,t){return Pn(n.getMinutes(),t,2)}function gY(n,t){return Pn(n.getSeconds(),t,2)}function yY(n){var t=n.getDay();return t===0?7:t}function bY(n,t){return Pn(DS.count(Au(n)-1,n),t,2)}function c5(n){var t=n.getDay();return t>=4||t===0?Ip(n):Ip.ceil(n)}function _Y(n,t){return n=c5(n),Pn(Ip.count(Au(n),n)+(Au(n).getDay()===4),t,2)}function xY(n){return n.getDay()}function SY(n,t){return Pn(tx.count(Au(n)-1,n),t,2)}function MY(n,t){return Pn(n.getFullYear()%100,t,2)}function EY(n,t){return n=c5(n),Pn(n.getFullYear()%100,t,2)}function AY(n,t){return Pn(n.getFullYear()%1e4,t,4)}function TY(n,t){var e=n.getDay();return n=e>=4||e===0?Ip(n):Ip.ceil(n),Pn(n.getFullYear()%1e4,t,4)}function wY(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pn(t/60|0,"0",2)+Pn(t%60,"0",2)}function yL(n,t){return Pn(n.getUTCDate(),t,2)}function OY(n,t){return Pn(n.getUTCHours(),t,2)}function CY(n,t){return Pn(n.getUTCHours()%12||12,t,2)}function RY(n,t){return Pn(1+RS.count(Tu(n),n),t,3)}function f5(n,t){return Pn(n.getUTCMilliseconds(),t,3)}function DY(n,t){return f5(n,t)+"000"}function NY(n,t){return Pn(n.getUTCMonth()+1,t,2)}function PY(n,t){return Pn(n.getUTCMinutes(),t,2)}function UY(n,t){return Pn(n.getUTCSeconds(),t,2)}function LY(n){var t=n.getUTCDay();return t===0?7:t}function IY(n,t){return Pn(NS.count(Tu(n)-1,n),t,2)}function h5(n){var t=n.getUTCDay();return t>=4||t===0?Bp(n):Bp.ceil(n)}function BY(n,t){return n=h5(n),Pn(Bp.count(Tu(n),n)+(Tu(n).getUTCDay()===4),t,2)}function zY(n){return n.getUTCDay()}function HY(n,t){return Pn(ex.count(Tu(n)-1,n),t,2)}function FY(n,t){return Pn(n.getUTCFullYear()%100,t,2)}function jY(n,t){return n=h5(n),Pn(n.getUTCFullYear()%100,t,2)}function VY(n,t){return Pn(n.getUTCFullYear()%1e4,t,4)}function GY(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Bp(n):Bp.ceil(n),Pn(n.getUTCFullYear()%1e4,t,4)}function qY(){return"+0000"}function bL(){return"%"}function _L(n){return+n}function xL(n){return Math.floor(+n/1e3)}var Zd,d5,p5;kY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kY(n){return Zd=kX(n),d5=Zd.format,Zd.parse,p5=Zd.utcFormat,Zd.utcParse,Zd}function XY(n){return new Date(n)}function YY(n){return n instanceof Date?+n:+new Date(+n)}function YC(n,t,e,i,r,a,o,l,c,h){var m=PC(),v=m.invert,y=m.domain,_=h(".%L"),S=h(":%S"),E=h("%I:%M"),x=h("%I %p"),M=h("%a %d"),w=h("%b %d"),O=h("%B"),R=h("%Y");function N(P){return(c(P)<P?_:l(P)<P?S:o(P)<P?E:a(P)<P?x:i(P)<P?r(P)<P?M:w:e(P)<P?O:R)(P)}return m.invert=function(P){return new Date(v(P))},m.domain=function(P){return arguments.length?y(Array.from(P,YY)):y().map(XY)},m.ticks=function(P){var U=y();return n(U[0],U[U.length-1],P??10)},m.tickFormat=function(P,U){return U==null?N:h(U)},m.nice=function(P){var U=y();return(!P||typeof P.range!="function")&&(P=t(U[0],U[U.length-1],P??10)),P?y(t5(U,P)):m},m.copy=function(){return Ny(m,YC(n,t,e,i,r,a,o,l,c,h))},m}function WY(){return Ks.apply(YC(GX,qX,Au,kC,DS,Py,GC,jC,yh,d5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZY(){return Ks.apply(YC(jX,VX,Tu,XC,NS,RS,qC,VC,yh,p5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function PS(){var n=0,t=1,e,i,r,a,o=wa,l=!1,c;function h(v){return v==null||isNaN(v=+v)?c:o(r===0?.5:(v=(a(v)-e)*r,l?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([n,t]=v,e=a(n=+n),i=a(t=+t),r=e===i?0:1/(i-e),h):[n,t]},h.clamp=function(v){return arguments.length?(l=!!v,h):l},h.interpolator=function(v){return arguments.length?(o=v,h):o};function m(v){return function(y){var _,S;return arguments.length?([_,S]=y,o=v(_,S),h):[o(0),o(1)]}}return h.range=m(fm),h.rangeRound=m(NC),h.unknown=function(v){return arguments.length?(c=v,h):c},function(v){return a=v,e=v(n),i=v(t),r=e===i?0:1/(i-e),h}}function Kc(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function m5(){var n=Zc(PS()(wa));return n.copy=function(){return Kc(n,m5())},Pu.apply(n,arguments)}function v5(){var n=IC(PS()).domain([1,10]);return n.copy=function(){return Kc(n,v5()).base(n.base())},Pu.apply(n,arguments)}function g5(){var n=BC(PS());return n.copy=function(){return Kc(n,g5()).constant(n.constant())},Pu.apply(n,arguments)}function WC(){var n=zC(PS());return n.copy=function(){return Kc(n,WC()).exponent(n.exponent())},Pu.apply(n,arguments)}function KY(){return WC.apply(null,arguments).exponent(.5)}function y5(){var n=[],t=wa;function e(i){if(i!=null&&!isNaN(i=+i))return t((Ry(n,i,1)-1)/(n.length-1))}return e.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(jc),e},e.interpolator=function(i){return arguments.length?(t=i,e):t},e.range=function(){return n.map((i,r)=>t(r/(n.length-1)))},e.quantiles=function(i){return Array.from({length:i+1},(r,a)=>I9(n,a/i))},e.copy=function(){return y5(t).domain(n)},Pu.apply(e,arguments)}function US(){var n=0,t=.5,e=1,i=1,r,a,o,l,c,h=wa,m,v=!1,y;function _(E){return isNaN(E=+E)?y:(E=.5+((E=+m(E))-a)*(i*E<i*a?l:c),h(v?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([n,t,e]=E,r=m(n=+n),a=m(t=+t),o=m(e=+e),l=r===a?0:.5/(a-r),c=a===o?0:.5/(o-a),i=a<r?-1:1,_):[n,t,e]},_.clamp=function(E){return arguments.length?(v=!!E,_):v},_.interpolator=function(E){return arguments.length?(h=E,_):h};function S(E){return function(x){var M,w,O;return arguments.length?([M,w,O]=x,h=lX(E,[M,w,O]),_):[h(0),h(.5),h(1)]}}return _.range=S(fm),_.rangeRound=S(NC),_.unknown=function(E){return arguments.length?(y=E,_):y},function(E){return m=E,r=E(n),a=E(t),o=E(e),l=r===a?0:.5/(a-r),c=a===o?0:.5/(o-a),i=a<r?-1:1,_}}function b5(){var n=Zc(US()(wa));return n.copy=function(){return Kc(n,b5())},Pu.apply(n,arguments)}function _5(){var n=IC(US()).domain([.1,1,10]);return n.copy=function(){return Kc(n,_5()).base(n.base())},Pu.apply(n,arguments)}function x5(){var n=BC(US());return n.copy=function(){return Kc(n,x5()).constant(n.constant())},Pu.apply(n,arguments)}function ZC(){var n=zC(US());return n.copy=function(){return Kc(n,ZC()).exponent(n.exponent())},Pu.apply(n,arguments)}function $Y(){return ZC.apply(null,arguments).exponent(.5)}const SL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dg,scaleDiverging:b5,scaleDivergingLog:_5,scaleDivergingPow:ZC,scaleDivergingSqrt:$Y,scaleDivergingSymlog:x5,scaleIdentity:JH,scaleImplicit:k2,scaleLinear:Q_,scaleLog:e5,scaleOrdinal:CC,scalePoint:cg,scalePow:HC,scaleQuantile:r5,scaleQuantize:a5,scaleRadial:i5,scaleSequential:m5,scaleSequentialLog:v5,scaleSequentialPow:WC,scaleSequentialQuantile:y5,scaleSequentialSqrt:KY,scaleSequentialSymlog:g5,scaleSqrt:DX,scaleSymlog:n5,scaleThreshold:s5,scaleTime:WY,scaleUtc:ZY,tickFormat:QH},Symbol.toStringTag,{value:"Module"}));var NT,ML;function S5(){if(ML)return NT;ML=1;var n=lm();function t(e,i,r){for(var a=-1,o=e.length;++a<o;){var l=e[a],c=i(l);if(c!=null&&(h===void 0?c===c&&!n(c):r(c,h)))var h=c,m=l}return m}return NT=t,NT}var PT,EL;function QY(){if(EL)return PT;EL=1;function n(t,e){return t>e}return PT=n,PT}var UT,AL;function JY(){if(AL)return UT;AL=1;var n=S5(),t=QY(),e=cm();function i(r){return r&&r.length?n(r,e,t):void 0}return UT=i,UT}var tW=JY();const LS=Gn(tW);var LT,TL;function eW(){if(TL)return LT;TL=1;function n(t,e){return t<e}return LT=n,LT}var IT,wL;function nW(){if(wL)return IT;wL=1;var n=S5(),t=eW(),e=cm();function i(r){return r&&r.length?n(r,e,t):void 0}return IT=i,IT}var iW=nW();const IS=Gn(iW);var BT,OL;function rW(){if(OL)return BT;OL=1;var n=fC(),t=Wc(),e=RH(),i=Za();function r(a,o){var l=i(a)?n:e;return l(a,t(o,3))}return BT=r,BT}var zT,CL;function aW(){if(CL)return zT;CL=1;var n=OH(),t=rW();function e(i,r){return n(t(i,r),1)}return zT=e,zT}var sW=aW();const oW=Gn(sW);var HT,RL;function lW(){if(RL)return HT;RL=1;var n=EC();function t(e,i){return n(e,i)}return HT=t,HT}var uW=lW();const KC=Gn(uW);var hm=1e9,cW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QC,yi=!0,Ws="[DecimalError] ",Eh=Ws+"Invalid argument: ",$C=Ws+"Exponent out of range: ",dm=Math.floor,ch=Math.pow,fW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ys,Mr=1e7,di=7,M5=9007199254740991,nx=dm(M5/di),Se={};Se.absoluteValue=Se.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Se.comparedTo=Se.cmp=function(n){var t,e,i,r,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(i=a.d.length,r=n.d.length,t=0,e=i<r?i:r;t<e;++t)if(a.d[t]!==n.d[t])return a.d[t]>n.d[t]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*di;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};Se.dividedBy=Se.div=function(n){return xu(this,new this.constructor(n))};Se.dividedToIntegerBy=Se.idiv=function(n){var t=this,e=t.constructor;return ai(xu(t,new e(n),0,1),e.precision)};Se.equals=Se.eq=function(n){return!this.cmp(n)};Se.exponent=function(){return Ji(this)};Se.greaterThan=Se.gt=function(n){return this.cmp(n)>0};Se.greaterThanOrEqualTo=Se.gte=function(n){return this.cmp(n)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(n){return this.cmp(n)<0};Se.lessThanOrEqualTo=Se.lte=function(n){return this.cmp(n)<1};Se.logarithm=Se.log=function(n){var t,e=this,i=e.constructor,r=i.precision,a=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(ys))throw Error(Ws+"NaN");if(e.s<1)throw Error(Ws+(e.s?"NaN":"-Infinity"));return e.eq(ys)?new i(0):(yi=!1,t=xu(Ig(e,a),Ig(n,a),a),yi=!0,ai(t,r))};Se.minus=Se.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?T5(t,n):E5(t,(n.s=-n.s,n))};Se.modulo=Se.mod=function(n){var t,e=this,i=e.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Ws+"NaN");return e.s?(yi=!1,t=xu(e,n,0,1).times(n),yi=!0,e.minus(t)):ai(new i(e),r)};Se.naturalExponential=Se.exp=function(){return A5(this)};Se.naturalLogarithm=Se.ln=function(){return Ig(this)};Se.negated=Se.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Se.plus=Se.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?E5(t,n):T5(t,(n.s=-n.s,n))};Se.precision=Se.sd=function(n){var t,e,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Eh+n);if(t=Ji(r)+1,i=r.d.length-1,e=i*di+1,i=r.d[i],i){for(;i%10==0;i/=10)e--;for(i=r.d[0];i>=10;i/=10)e++}return n&&t>e?t:e};Se.squareRoot=Se.sqrt=function(){var n,t,e,i,r,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ws+"NaN")}for(n=Ji(l),yi=!1,r=Math.sqrt(+l),r==0||r==1/0?(t=Ml(l.d),(t.length+n)%2==0&&(t+="0"),r=Math.sqrt(t),n=dm((n+1)/2)-(n<0||n%2),r==1/0?t="5e"+n:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),i=new c(t)):i=new c(r.toString()),e=c.precision,r=o=e+3;;)if(a=i,i=a.plus(xu(l,a,o+2)).times(.5),Ml(a.d).slice(0,o)===(t=Ml(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),r==o&&t=="4999"){if(ai(a,e+1,0),a.times(a).eq(l)){i=a;break}}else if(t!="9999")break;o+=4}return yi=!0,ai(i,e)};Se.times=Se.mul=function(n){var t,e,i,r,a,o,l,c,h,m=this,v=m.constructor,y=m.d,_=(n=new v(n)).d;if(!m.s||!n.s)return new v(0);for(n.s*=m.s,e=m.e+n.e,c=y.length,h=_.length,c<h&&(a=y,y=_,_=a,o=c,c=h,h=o),a=[],o=c+h,i=o;i--;)a.push(0);for(i=h;--i>=0;){for(t=0,r=c+i;r>i;)l=a[r]+_[i]*y[r-i-1]+t,a[r--]=l%Mr|0,t=l/Mr|0;a[r]=(a[r]+t)%Mr|0}for(;!a[--o];)a.pop();return t?++e:a.shift(),n.d=a,n.e=e,yi?ai(n,v.precision):n};Se.toDecimalPlaces=Se.todp=function(n,t){var e=this,i=e.constructor;return e=new i(e),n===void 0?e:(Rl(n,0,hm),t===void 0?t=i.rounding:Rl(t,0,8),ai(e,n+Ji(e)+1,t))};Se.toExponential=function(n,t){var e,i=this,r=i.constructor;return n===void 0?e=Rh(i,!0):(Rl(n,0,hm),t===void 0?t=r.rounding:Rl(t,0,8),i=ai(new r(i),n+1,t),e=Rh(i,!0,n+1)),e};Se.toFixed=function(n,t){var e,i,r=this,a=r.constructor;return n===void 0?Rh(r):(Rl(n,0,hm),t===void 0?t=a.rounding:Rl(t,0,8),i=ai(new a(r),n+Ji(r)+1,t),e=Rh(i.abs(),!1,n+Ji(i)+1),r.isneg()&&!r.isZero()?"-"+e:e)};Se.toInteger=Se.toint=function(){var n=this,t=n.constructor;return ai(new t(n),Ji(n)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(n){var t,e,i,r,a,o,l=this,c=l.constructor,h=12,m=+(n=new c(n));if(!n.s)return new c(ys);if(l=new c(l),!l.s){if(n.s<1)throw Error(Ws+"Infinity");return l}if(l.eq(ys))return l;if(i=c.precision,n.eq(ys))return ai(l,i);if(t=n.e,e=n.d.length-1,o=t>=e,a=l.s,o){if((e=m<0?-m:m)<=M5){for(r=new c(ys),t=Math.ceil(i/di+4),yi=!1;e%2&&(r=r.times(l),NL(r.d,t)),e=dm(e/2),e!==0;)l=l.times(l),NL(l.d,t);return yi=!0,n.s<0?new c(ys).div(r):ai(r,i)}}else if(a<0)throw Error(Ws+"NaN");return a=a<0&&n.d[Math.max(t,e)]&1?-1:1,l.s=1,yi=!1,r=n.times(Ig(l,i+h)),yi=!0,r=A5(r),r.s=a,r};Se.toPrecision=function(n,t){var e,i,r=this,a=r.constructor;return n===void 0?(e=Ji(r),i=Rh(r,e<=a.toExpNeg||e>=a.toExpPos)):(Rl(n,1,hm),t===void 0?t=a.rounding:Rl(t,0,8),r=ai(new a(r),n,t),e=Ji(r),i=Rh(r,n<=e||e<=a.toExpNeg,n)),i};Se.toSignificantDigits=Se.tosd=function(n,t){var e=this,i=e.constructor;return n===void 0?(n=i.precision,t=i.rounding):(Rl(n,1,hm),t===void 0?t=i.rounding:Rl(t,0,8)),ai(new i(e),n,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=Ji(n),e=n.constructor;return Rh(n,t<=e.toExpNeg||t>=e.toExpPos)};function E5(n,t){var e,i,r,a,o,l,c,h,m=n.constructor,v=m.precision;if(!n.s||!t.s)return t.s||(t=new m(n)),yi?ai(t,v):t;if(c=n.d,h=t.d,o=n.e,r=t.e,c=c.slice(),a=o-r,a){for(a<0?(i=c,a=-a,l=h.length):(i=h,r=o,l=c.length),o=Math.ceil(v/di),l=o>l?o+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=c.length,a=h.length,l-a<0&&(a=l,i=h,h=c,c=i),e=0;a;)e=(c[--a]=c[a]+h[a]+e)/Mr|0,c[a]%=Mr;for(e&&(c.unshift(e),++r),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=r,yi?ai(t,v):t}function Rl(n,t,e){if(n!==~~n||n<t||n>e)throw Error(Eh+n)}function Ml(n){var t,e,i,r=n.length-1,a="",o=n[0];if(r>0){for(a+=o,t=1;t<r;t++)i=n[t]+"",e=di-i.length,e&&(a+=Lc(e)),a+=i;o=n[t],i=o+"",e=di-i.length,e&&(a+=Lc(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xu=function(){function n(i,r){var a,o=0,l=i.length;for(i=i.slice();l--;)a=i[l]*r+o,i[l]=a%Mr|0,o=a/Mr|0;return o&&i.unshift(o),i}function t(i,r,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=r[l]){c=i[l]>r[l]?1:-1;break}return c}function e(i,r,a){for(var o=0;a--;)i[a]-=o,o=i[a]<r[a]?1:0,i[a]=o*Mr+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o){var l,c,h,m,v,y,_,S,E,x,M,w,O,R,N,P,U,z,I=i.constructor,B=i.s==r.s?1:-1,F=i.d,K=r.d;if(!i.s)return new I(i);if(!r.s)throw Error(Ws+"Division by zero");for(c=i.e-r.e,U=K.length,N=F.length,_=new I(B),S=_.d=[],h=0;K[h]==(F[h]||0);)++h;if(K[h]>(F[h]||0)&&--c,a==null?w=a=I.precision:o?w=a+(Ji(i)-Ji(r))+1:w=a,w<0)return new I(0);if(w=w/di+2|0,h=0,U==1)for(m=0,K=K[0],w++;(h<N||m)&&w--;h++)O=m*Mr+(F[h]||0),S[h]=O/K|0,m=O%K|0;else{for(m=Mr/(K[0]+1)|0,m>1&&(K=n(K,m),F=n(F,m),U=K.length,N=F.length),R=U,E=F.slice(0,U),x=E.length;x<U;)E[x++]=0;z=K.slice(),z.unshift(0),P=K[0],K[1]>=Mr/2&&++P;do m=0,l=t(K,E,U,x),l<0?(M=E[0],U!=x&&(M=M*Mr+(E[1]||0)),m=M/P|0,m>1?(m>=Mr&&(m=Mr-1),v=n(K,m),y=v.length,x=E.length,l=t(v,E,y,x),l==1&&(m--,e(v,U<y?z:K,y))):(m==0&&(l=m=1),v=K.slice()),y=v.length,y<x&&v.unshift(0),e(E,v,x),l==-1&&(x=E.length,l=t(K,E,U,x),l<1&&(m++,e(E,U<x?z:K,x))),x=E.length):l===0&&(m++,E=[0]),S[h++]=m,l&&E[0]?E[x++]=F[R]||0:(E=[F[R]],x=1);while((R++<N||E[0]!==void 0)&&w--)}return S[0]||S.shift(),_.e=c,ai(_,o?a+Ji(_)+1:a)}}();function A5(n,t){var e,i,r,a,o,l,c=0,h=0,m=n.constructor,v=m.precision;if(Ji(n)>16)throw Error($C+Ji(n));if(!n.s)return new m(ys);for(yi=!1,l=v,o=new m(.03125);n.abs().gte(.1);)n=n.times(o),h+=5;for(i=Math.log(ch(2,h))/Math.LN10*2+5|0,l+=i,e=r=a=new m(ys),m.precision=l;;){if(r=ai(r.times(n),l),e=e.times(++c),o=a.plus(xu(r,e,l)),Ml(o.d).slice(0,l)===Ml(a.d).slice(0,l)){for(;h--;)a=ai(a.times(a),l);return m.precision=v,t==null?(yi=!0,ai(a,v)):a}a=o}}function Ji(n){for(var t=n.e*di,e=n.d[0];e>=10;e/=10)t++;return t}function FT(n,t,e){if(t>n.LN10.sd())throw yi=!0,e&&(n.precision=e),Error(Ws+"LN10 precision limit exceeded");return ai(new n(n.LN10),t)}function Lc(n){for(var t="";n--;)t+="0";return t}function Ig(n,t){var e,i,r,a,o,l,c,h,m,v=1,y=10,_=n,S=_.d,E=_.constructor,x=E.precision;if(_.s<1)throw Error(Ws+(_.s?"NaN":"-Infinity"));if(_.eq(ys))return new E(0);if(t==null?(yi=!1,h=x):h=t,_.eq(10))return t==null&&(yi=!0),FT(E,h);if(h+=y,E.precision=h,e=Ml(S),i=e.charAt(0),a=Ji(_),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)_=_.times(n),e=Ml(_.d),i=e.charAt(0),v++;a=Ji(_),i>1?(_=new E("0."+e),a++):_=new E(i+"."+e.slice(1))}else return c=FT(E,h+2,x).times(a+""),_=Ig(new E(i+"."+e.slice(1)),h-y).plus(c),E.precision=x,t==null?(yi=!0,ai(_,x)):_;for(l=o=_=xu(_.minus(ys),_.plus(ys),h),m=ai(_.times(_),h),r=3;;){if(o=ai(o.times(m),h),c=l.plus(xu(o,new E(r),h)),Ml(c.d).slice(0,h)===Ml(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(FT(E,h+2,x).times(a+""))),l=xu(l,new E(v),h),E.precision=x,t==null?(yi=!0,ai(l,x)):l;l=c,r+=2}}function DL(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,e=e-i-1,n.e=dm(e/di),n.d=[],i=(e+1)%di,e<0&&(i+=di),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=di;i<r;)n.d.push(+t.slice(i,i+=di));t=t.slice(i),i=di-t.length}else i-=r;for(;i--;)t+="0";if(n.d.push(+t),yi&&(n.e>nx||n.e<-nx))throw Error($C+e)}else n.s=0,n.e=0,n.d=[0];return n}function ai(n,t,e){var i,r,a,o,l,c,h,m,v=n.d;for(o=1,a=v[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=di,r=t,h=v[m=0];else{if(m=Math.ceil((i+1)/di),a=v.length,m>=a)return n;for(h=a=v[m],o=1;a>=10;a/=10)o++;i%=di,r=i-di+o}if(e!==void 0&&(a=ch(10,o-r-1),l=h/a%10|0,c=t<0||v[m+1]!==void 0||h%a,c=e<4?(l||c)&&(e==0||e==(n.s<0?3:2)):l>5||l==5&&(e==4||c||e==6&&(i>0?r>0?h/ch(10,o-r):0:v[m-1])%10&1||e==(n.s<0?8:7))),t<1||!v[0])return c?(a=Ji(n),v.length=1,t=t-a-1,v[0]=ch(10,(di-t%di)%di),n.e=dm(-t/di)||0):(v.length=1,v[0]=n.e=n.s=0),n;if(i==0?(v.length=m,a=1,m--):(v.length=m+1,a=ch(10,di-i),v[m]=r>0?(h/ch(10,o-r)%ch(10,r)|0)*a:0),c)for(;;)if(m==0){(v[0]+=a)==Mr&&(v[0]=1,++n.e);break}else{if(v[m]+=a,v[m]!=Mr)break;v[m--]=0,a=1}for(i=v.length;v[--i]===0;)v.pop();if(yi&&(n.e>nx||n.e<-nx))throw Error($C+Ji(n));return n}function T5(n,t){var e,i,r,a,o,l,c,h,m,v,y=n.constructor,_=y.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new y(n),yi?ai(t,_):t;if(c=n.d,v=t.d,i=t.e,h=n.e,c=c.slice(),o=h-i,o){for(m=o<0,m?(e=c,o=-o,l=v.length):(e=v,i=h,l=c.length),r=Math.max(Math.ceil(_/di),l)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=c.length,l=v.length,m=r<l,m&&(l=r),r=0;r<l;r++)if(c[r]!=v[r]){m=c[r]<v[r];break}o=0}for(m&&(e=c,c=v,v=e,t.s=-t.s),l=c.length,r=v.length-l;r>0;--r)c[l++]=0;for(r=v.length;r>o;){if(c[--r]<v[r]){for(a=r;a&&c[--a]===0;)c[a]=Mr-1;--c[a],c[r]+=Mr}c[r]-=v[r]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(t.d=c,t.e=i,yi?ai(t,_):t):new y(0)}function Rh(n,t,e){var i,r=Ji(n),a=Ml(n.d),o=a.length;return t?(e&&(i=e-o)>0?a=a.charAt(0)+"."+a.slice(1)+Lc(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+Lc(-r-1)+a,e&&(i=e-o)>0&&(a+=Lc(i))):r>=o?(a+=Lc(r+1-o),e&&(i=e-r-1)>0&&(a=a+"."+Lc(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),e&&(i=e-o)>0&&(r+1===o&&(a+="."),a+=Lc(i))),n.s<0?"-"+a:a}function NL(n,t){if(n.length>t)return n.length=t,!0}function w5(n){var t,e,i;function r(a){var o=this;if(!(o instanceof r))return new r(a);if(o.constructor=r,a instanceof r){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Eh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return DL(o,a.toString())}else if(typeof a!="string")throw Error(Eh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,fW.test(a))DL(o,a);else throw Error(Eh+a)}if(r.prototype=Se,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=w5,r.config=r.set=hW,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}function hW(n){if(!n||typeof n!="object")throw Error(Ws+"Object expected");var t,e,i,r=["precision",1,hm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=n[e=r[t]])!==void 0)if(dm(i)===i&&i>=r[t+1]&&i<=r[t+2])this[e]=i;else throw Error(Eh+e+": "+i);if((i=n[e="LN10"])!==void 0)if(i==Math.LN10)this[e]=new this(i);else throw Error(Eh+e+": "+i);return this}var QC=w5(cW);ys=new QC(1);const ei=QC;function dW(n){return gW(n)||vW(n)||mW(n)||pW()}function pW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mW(n,t){if(n){if(typeof n=="string")return Z2(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Z2(n,t)}}function vW(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function gW(n){if(Array.isArray(n))return Z2(n)}function Z2(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var yW=function(t){return t},O5={},C5=function(t){return t===O5},PL=function(t){return function e(){return arguments.length===0||arguments.length===1&&C5(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},bW=function n(t,e){return t===1?e:PL(function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=r.filter(function(l){return l!==O5}).length;return o>=t?e.apply(void 0,r):n(t-o,PL(function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];var m=r.map(function(v){return C5(v)?c.shift():v});return e.apply(void 0,dW(m).concat(c))}))})},BS=function(t){return bW(t.length,t)},K2=function(t,e){for(var i=[],r=t;r<e;++r)i[r-t]=r;return i},_W=BS(function(n,t){return Array.isArray(t)?t.map(n):Object.keys(t).map(function(e){return t[e]}).map(n)}),xW=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(!e.length)return yW;var r=e.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},$2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},R5=function(t){var e=null,i=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every(function(l,c){return l===e[c]})||(e=a,i=t.apply(void 0,a)),i}};function SW(n){var t;return n===0?t=1:t=Math.floor(new ei(n).abs().log(10).toNumber())+1,t}function MW(n,t,e){for(var i=new ei(n),r=0,a=[];i.lt(t)&&r<1e5;)a.push(i.toNumber()),i=i.add(e),r++;return a}var EW=BS(function(n,t,e){var i=+n,r=+t;return i+e*(r-i)}),AW=BS(function(n,t,e){var i=t-+n;return i=i||1/0,(e-n)/i}),TW=BS(function(n,t,e){var i=t-+n;return i=i||1/0,Math.max(0,Math.min(1,(e-n)/i))});const zS={rangeStep:MW,getDigitCount:SW,interpolateNumber:EW,uninterpolateNumber:AW,uninterpolateTruncation:TW};function Q2(n){return CW(n)||OW(n)||D5(n)||wW()}function wW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function CW(n){if(Array.isArray(n))return J2(n)}function Bg(n,t){return NW(n)||DW(n,t)||D5(n,t)||RW()}function RW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D5(n,t){if(n){if(typeof n=="string")return J2(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return J2(n,t)}}function J2(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function DW(n,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var e=[],i=!0,r=!1,a=void 0;try{for(var o=n[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(e.push(l.value),!(t&&e.length===t));i=!0);}catch(c){r=!0,a=c}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw a}}return e}}function NW(n){if(Array.isArray(n))return n}function N5(n){var t=Bg(n,2),e=t[0],i=t[1],r=e,a=i;return e>i&&(r=i,a=e),[r,a]}function P5(n,t,e){if(n.lte(0))return new ei(0);var i=zS.getDigitCount(n.toNumber()),r=new ei(10).pow(i),a=n.div(r),o=i!==1?.05:.1,l=new ei(Math.ceil(a.div(o).toNumber())).add(e).mul(o),c=l.mul(r);return t?c:new ei(Math.ceil(c))}function PW(n,t,e){var i=1,r=new ei(n);if(!r.isint()&&e){var a=Math.abs(n);a<1?(i=new ei(10).pow(zS.getDigitCount(n)-1),r=new ei(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new ei(Math.floor(n)))}else n===0?r=new ei(Math.floor((t-1)/2)):e||(r=new ei(Math.floor(n)));var o=Math.floor((t-1)/2),l=xW(_W(function(c){return r.add(new ei(c-o).mul(i)).toNumber()}),K2);return l(0,t)}function U5(n,t,e,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-n)/(e-1)))return{step:new ei(0),tickMin:new ei(0),tickMax:new ei(0)};var a=P5(new ei(t).sub(n).div(e-1),i,r),o;n<=0&&t>=0?o=new ei(0):(o=new ei(n).add(t).div(2),o=o.sub(new ei(o).mod(a)));var l=Math.ceil(o.sub(n).div(a).toNumber()),c=Math.ceil(new ei(t).sub(o).div(a).toNumber()),h=l+c+1;return h>e?U5(n,t,e,i,r+1):(h<e&&(c=t>0?c+(e-h):c,l=t>0?l:l+(e-h)),{step:a,tickMin:o.sub(new ei(l).mul(a)),tickMax:o.add(new ei(c).mul(a))})}function UW(n){var t=Bg(n,2),e=t[0],i=t[1],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),l=N5([e,i]),c=Bg(l,2),h=c[0],m=c[1];if(h===-1/0||m===1/0){var v=m===1/0?[h].concat(Q2(K2(0,r-1).map(function(){return 1/0}))):[].concat(Q2(K2(0,r-1).map(function(){return-1/0})),[m]);return e>i?$2(v):v}if(h===m)return PW(h,r,a);var y=U5(h,m,o,a),_=y.step,S=y.tickMin,E=y.tickMax,x=zS.rangeStep(S,E.add(new ei(.1).mul(_)),_);return e>i?$2(x):x}function LW(n,t){var e=Bg(n,2),i=e[0],r=e[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=N5([i,r]),l=Bg(o,2),c=l[0],h=l[1];if(c===-1/0||h===1/0)return[i,r];if(c===h)return[c];var m=Math.max(t,2),v=P5(new ei(h).sub(c).div(m-1),a,0),y=[].concat(Q2(zS.rangeStep(new ei(c),new ei(h).sub(new ei(.99).mul(v)),v)),[h]);return i>r?$2(y):y}var IW=R5(UW),BW=R5(LW),zW="Invariant failed";function Dh(n,t){throw new Error(zW)}var HW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zp(n){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(n)}function ix(){return ix=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ix.apply(this,arguments)}function FW(n,t){return qW(n)||GW(n,t)||VW(n,t)||jW()}function jW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(n,t){if(n){if(typeof n=="string")return UL(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return UL(n,t)}}function UL(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function GW(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function qW(n){if(Array.isArray(n))return n}function kW(n,t){if(n==null)return{};var e=XW(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function XW(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function YW(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function WW(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,B5(i.key),i)}}function ZW(n,t,e){return t&&WW(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function KW(n,t,e){return t=rx(t),$W(n,L5()?Reflect.construct(t,e||[],rx(n).constructor):t.apply(n,e))}function $W(n,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QW(n)}function QW(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function L5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!n})()}function rx(n){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rx(n)}function JW(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&tO(n,t)}function tO(n,t){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},tO(n,t)}function I5(n,t,e){return t=B5(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function B5(n){var t=tZ(n,"string");return zp(t)=="symbol"?t:t+""}function tZ(n,t){if(zp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(zp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var HS=function(n){function t(){return YW(this,t),KW(this,t,arguments)}return JW(t,n),ZW(t,[{key:"render",value:function(){var i=this.props,r=i.offset,a=i.layout,o=i.width,l=i.dataKey,c=i.data,h=i.dataPointFormatter,m=i.xAxis,v=i.yAxis,y=kW(i,HW),_=Ln(y,!1);this.props.direction==="x"&&m.type!=="number"&&Dh();var S=c.map(function(E){var x=h(E,l),M=x.x,w=x.y,O=x.value,R=x.errorVal;if(!R)return null;var N=[],P,U;if(Array.isArray(R)){var z=FW(R,2);P=z[0],U=z[1]}else P=U=R;if(a==="vertical"){var I=m.scale,B=w+r,F=B+o,K=B-o,W=I(O-P),tt=I(O+U);N.push({x1:tt,y1:F,x2:tt,y2:K}),N.push({x1:W,y1:B,x2:tt,y2:B}),N.push({x1:W,y1:F,x2:W,y2:K})}else if(a==="horizontal"){var J=v.scale,H=M+r,q=H-o,k=H+o,it=J(O-P),G=J(O+U);N.push({x1:q,y1:G,x2:k,y2:G}),N.push({x1:H,y1:it,x2:H,y2:G}),N.push({x1:q,y1:it,x2:k,y2:it})}return gt.createElement(Er,ix({className:"recharts-errorBar",key:"bar-".concat(N.map(function(et){return"".concat(et.x1,"-").concat(et.x2,"-").concat(et.y1,"-").concat(et.y2)}))},_),N.map(function(et){return gt.createElement("line",ix({},et,{key:"line-".concat(et.x1,"-").concat(et.x2,"-").concat(et.y1,"-").concat(et.y2)}))}))});return gt.createElement(Er,{className:"recharts-errorBars"},S)}}])}(gt.Component);I5(HS,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});I5(HS,"displayName","ErrorBar");function zg(n){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(n)}function LL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(e),!0).forEach(function(i){eZ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):LL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function eZ(n,t,e){return t=nZ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nZ(n){var t=iZ(n,"string");return zg(t)=="symbol"?t:t+""}function iZ(n,t){if(zg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(zg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var z5=function(t){var e=t.children,i=t.formattedGraphicalItems,r=t.legendWidth,a=t.legendContent,o=gs(e,Tp);if(!o)return null;var l=Tp.defaultProps,c=l!==void 0?Zf(Zf({},l),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:a==="children"?h=(i||[]).reduce(function(m,v){var y=v.item,_=v.props,S=_.sectors||_.data||[];return m.concat(S.map(function(E){return{type:o.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):h=(i||[]).map(function(m){var v=m.item,y=v.type.defaultProps,_=y!==void 0?Zf(Zf({},y),v.props):{},S=_.dataKey,E=_.name,x=_.legendType,M=_.hide;return{inactive:M,dataKey:S,type:c.iconType||x||"square",color:JC(v),value:E||S,payload:_}}),Zf(Zf(Zf({},c),Tp.getWithHeight(o,r)),{},{payload:h,item:o})};function Hg(n){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(n)}function IL(n){return oZ(n)||sZ(n)||aZ(n)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(n,t){if(n){if(typeof n=="string")return eO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return eO(n,t)}}function sZ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function oZ(n){if(Array.isArray(n))return eO(n)}function eO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function BL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ui(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(e),!0).forEach(function(i){Op(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):BL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Op(n,t,e){return t=lZ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function lZ(n){var t=uZ(n,"string");return Hg(t)=="symbol"?t:t+""}function uZ(n,t){if(Hg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Hg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Dl(n,t,e){return jn(n)||jn(t)?e:fr(t)?Ys(n,t,e):mn(t)?t(n):e}function fg(n,t,e,i){var r=oW(n,function(l){return Dl(l,t)});if(e==="number"){var a=r.filter(function(l){return de(l)||parseFloat(l)});return a.length?[IS(a),LS(a)]:[1/0,-1/0]}var o=i?r.filter(function(l){return!jn(l)}):r;return o.map(function(l){return fr(l)||l instanceof Date?l:""})}var cZ=function(t){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(e=i==null?void 0:i.length)!==null&&e!==void 0?e:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,h=0;h<l;h++){var m=h>0?r[h-1].coordinate:r[l-1].coordinate,v=r[h].coordinate,y=h>=l-1?r[0].coordinate:r[h+1].coordinate,_=void 0;if(Po(v-m)!==Po(y-v)){var S=[];if(Po(y-v)===Po(c[1]-c[0])){_=y;var E=v+c[1]-c[0];S[0]=Math.min(E,(E+m)/2),S[1]=Math.max(E,(E+m)/2)}else{_=m;var x=y+c[1]-c[0];S[0]=Math.min(v,(x+v)/2),S[1]=Math.max(v,(x+v)/2)}var M=[Math.min(v,(_+v)/2),Math.max(v,(_+v)/2)];if(t>M[0]&&t<=M[1]||t>=S[0]&&t<=S[1]){o=r[h].index;break}}else{var w=Math.min(m,y),O=Math.max(m,y);if(t>(w+v)/2&&t<=(O+v)/2){o=r[h].index;break}}}else for(var R=0;R<l;R++)if(R===0&&t<=(i[R].coordinate+i[R+1].coordinate)/2||R>0&&R<l-1&&t>(i[R].coordinate+i[R-1].coordinate)/2&&t<=(i[R].coordinate+i[R+1].coordinate)/2||R===l-1&&t>(i[R].coordinate+i[R-1].coordinate)/2){o=i[R].index;break}return o},JC=function(t){var e,i=t,r=i.type.displayName,a=(e=t.type)!==null&&e!==void 0&&e.defaultProps?Ui(Ui({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(r){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},fZ=function(t){var e=t.barSize,i=t.totalSize,r=t.stackGroups,a=r===void 0?{}:r;if(!a)return{};for(var o={},l=Object.keys(a),c=0,h=l.length;c<h;c++)for(var m=a[l[c]].stackGroups,v=Object.keys(m),y=0,_=v.length;y<_;y++){var S=m[v[y]],E=S.items,x=S.cateAxisId,M=E.filter(function(U){return bu(U.type).indexOf("Bar")>=0});if(M&&M.length){var w=M[0].type.defaultProps,O=w!==void 0?Ui(Ui({},w),M[0].props):M[0].props,R=O.barSize,N=O[x];o[N]||(o[N]=[]);var P=jn(R)?e:R;o[N].push({item:M[0],stackList:M.slice(1),barSize:jn(P)?void 0:Ch(P,i,0)})}}return o},hZ=function(t){var e=t.barGap,i=t.barCategoryGap,r=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var h=Ch(e,r,0,!0),m,v=[];if(o[0].barSize===+o[0].barSize){var y=!1,_=r/c,S=o.reduce(function(R,N){return R+N.barSize||0},0);S+=(c-1)*h,S>=r&&(S-=(c-1)*h,h=0),S>=r&&_>0&&(y=!0,_*=.9,S=c*_);var E=(r-S)/2>>0,x={offset:E-h,size:0};m=o.reduce(function(R,N){var P={item:N.item,position:{offset:x.offset+x.size+h,size:y?_:N.barSize}},U=[].concat(IL(R),[P]);return x=U[U.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(z){U.push({item:z,position:x})}),U},v)}else{var M=Ch(i,r,0,!0);r-2*M-(c-1)*h<=0&&(h=0);var w=(r-2*M-(c-1)*h)/c;w>1&&(w>>=0);var O=l===+l?Math.min(w,l):w;m=o.reduce(function(R,N,P){var U=[].concat(IL(R),[{item:N.item,position:{offset:M+(w+h)*P+(w-O)/2,size:O}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(z){U.push({item:z,position:U[U.length-1].position})}),U},v)}return m},dZ=function(t,e,i,r){var a=i.children,o=i.width,l=i.margin,c=o-(l.left||0)-(l.right||0),h=z5({children:a,legendWidth:c});if(h){var m=r||{},v=m.width,y=m.height,_=h.align,S=h.verticalAlign,E=h.layout;if((E==="vertical"||E==="horizontal"&&S==="middle")&&_!=="center"&&de(t[_]))return Ui(Ui({},t),{},Op({},_,t[_]+(v||0)));if((E==="horizontal"||E==="vertical"&&_==="center")&&S!=="middle"&&de(t[S]))return Ui(Ui({},t),{},Op({},S,t[S]+(y||0)))}return t},pZ=function(t,e,i){return jn(e)?!0:t==="horizontal"?e==="yAxis":t==="vertical"||i==="x"?e==="xAxis":i==="y"?e==="yAxis":!0},H5=function(t,e,i,r,a){var o=e.props.children,l=Lo(o,HS).filter(function(h){return pZ(r,a,h.props.direction)});if(l&&l.length){var c=l.map(function(h){return h.props.dataKey});return t.reduce(function(h,m){var v=Dl(m,i);if(jn(v))return h;var y=Array.isArray(v)?[IS(v),LS(v)]:[v,v],_=c.reduce(function(S,E){var x=Dl(m,E,0),M=y[0]-Math.abs(Array.isArray(x)?x[0]:x),w=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(M,S[0]),Math.max(w,S[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},mZ=function(t,e,i,r,a){var o=e.map(function(l){return H5(t,l,i,a,r)}).filter(function(l){return!jn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},F5=function(t,e,i,r,a){var o=e.map(function(c){var h=c.props.dataKey;return i==="number"&&h&&H5(t,c,h,r)||fg(t,h,i,a)});if(i==="number")return o.reduce(function(c,h){return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,h){for(var m=0,v=h.length;m<v;m++)l[h[m]]||(l[h[m]]=!0,c.push(h[m]));return c},[])},j5=function(t,e){return t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis"},V5=function(t,e,i,r){if(r)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===e&&(a=!0),c.coordinate===i&&(o=!0),c.coordinate});return a||l.push(e),o||l.push(i),l},gu=function(t,e,i){if(!t)return null;var r=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?r.bandwidth()/2:2,h=(e||i)&&o==="category"&&r.bandwidth?r.bandwidth()/c:0;if(h=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Po(l[0]-l[1])*2*h:h,e&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(v){var y=a?a.indexOf(v):v;return{coordinate:r(y)+h,value:v,offset:h}});return m.filter(function(v){return!wy(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,y){return{coordinate:r(v)+h,value:v,index:y,offset:h}}):r.ticks&&!i?r.ticks(t.tickCount).map(function(v){return{coordinate:r(v)+h,value:v,offset:h}}):r.domain().map(function(v,y){return{coordinate:r(v)+h,value:a?a[v]:v,index:y,offset:h}})},jT=new WeakMap,wb=function(t,e){if(typeof e!="function")return t;jT.has(t)||jT.set(t,new WeakMap);var i=jT.get(t);if(i.has(e))return i.get(e);var r=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return i.set(e,r),r},vZ=function(t,e,i){var r=t.scale,a=t.type,o=t.layout,l=t.axisType;if(r==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Dg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Q_(),realScaleType:"linear"}:a==="category"&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0||e.indexOf("ComposedChart")>=0&&!i)?{scale:cg(),realScaleType:"point"}:a==="category"?{scale:Dg(),realScaleType:"band"}:{scale:Q_(),realScaleType:"linear"};if(Ty(r)){var c="scale".concat(SS(r));return{scale:(SL[c]||cg)(),realScaleType:SL[c]?c:"point"}}return mn(r)?{scale:r}:{scale:cg(),realScaleType:"point"}},zL=1e-4,gZ=function(t){var e=t.domain();if(!(!e||e.length<=2)){var i=e.length,r=t.range(),a=Math.min(r[0],r[1])-zL,o=Math.max(r[0],r[1])+zL,l=t(e[0]),c=t(e[i-1]);(l<a||l>o||c<a||c>o)&&t.domain([e[0],e[i-1]])}},yZ=function(t,e){if(!t)return null;for(var i=0,r=t.length;i<r;i++)if(t[i].item===e)return t[i].position;return null},bZ=function(t,e){if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!de(t[0])||t[0]<i)&&(a[0]=i),(!de(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<i&&(a[1]=i),a},_Z=function(t){var e=t.length;if(!(e<=0))for(var i=0,r=t[0].length;i<r;++i)for(var a=0,o=0,l=0;l<e;++l){var c=wy(t[l][i][1])?t[l][i][0]:t[l][i][1];c>=0?(t[l][i][0]=a,t[l][i][1]=a+c,a=t[l][i][1]):(t[l][i][0]=o,t[l][i][1]=o+c,o=t[l][i][1])}},xZ=function(t){var e=t.length;if(!(e<=0))for(var i=0,r=t[0].length;i<r;++i)for(var a=0,o=0;o<e;++o){var l=wy(t[o][i][1])?t[o][i][0]:t[o][i][1];l>=0?(t[o][i][0]=a,t[o][i][1]=a+l,a=t[o][i][1]):(t[o][i][0]=0,t[o][i][1]=0)}},SZ={sign:_Z,expand:rq,none:Rp,silhouette:aq,wiggle:sq,positive:xZ},MZ=function(t,e,i){var r=e.map(function(l){return l.props.dataKey}),a=SZ[i],o=iq().keys(r).value(function(l,c){return+Dl(l,c,0)}).order(D2).offset(a);return o(t)},EZ=function(t,e,i,r,a,o){if(!t)return null;var l=o?e.reverse():e,c={},h=l.reduce(function(v,y){var _,S=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Ui(Ui({},y.type.defaultProps),y.props):y.props,E=S.stackId,x=S.hide;if(x)return v;var M=S[i],w=v[M]||{hasStack:!1,stackGroups:{}};if(fr(E)){var O=w.stackGroups[E]||{numericAxisId:i,cateAxisId:r,items:[]};O.items.push(y),w.hasStack=!0,w.stackGroups[E]=O}else w.stackGroups[xS("_stackId_")]={numericAxisId:i,cateAxisId:r,items:[y]};return Ui(Ui({},v),{},Op({},M,w))},c),m={};return Object.keys(h).reduce(function(v,y){var _=h[y];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(E,x){var M=_.stackGroups[x];return Ui(Ui({},E),{},Op({},x,{numericAxisId:i,cateAxisId:r,items:M.items,stackedData:MZ(t,M.items,a)}))},S)}return Ui(Ui({},v),{},Op({},y,_))},m)},AZ=function(t,e){var i=e.realScaleType,r=e.type,a=e.tickCount,o=e.originalDomain,l=e.allowDecimals,c=i||e.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&r==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=t.domain();if(!h.length)return null;var m=IW(h,a,l);return t.domain([IS(m),LS(m)]),{niceTicks:m}}if(a&&r==="number"){var v=t.domain(),y=BW(v,a,l);return{niceTicks:y}}return null},HL=function(t){var e=t.axis,i=t.ticks,r=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(e.type==="category")return i[l]?i[l].coordinate+r:null;var c=Dl(o,e.dataKey,e.domain[l]);return jn(c)?null:e.scale(c)-a/2+r},TZ=function(t){var e=t.numericAxis,i=e.scale.domain();if(e.type==="number"){var r=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return r<=0&&a>=0?0:a<0?a:r}return i[0]},wZ=function(t,e){var i,r=(i=t.type)!==null&&i!==void 0&&i.defaultProps?Ui(Ui({},t.type.defaultProps),t.props):t.props,a=r.stackId;if(fr(a)){var o=e[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},OZ=function(t){return t.reduce(function(e,i){return[IS(i.concat([e[0]]).filter(de)),LS(i.concat([e[1]]).filter(de))]},[1/0,-1/0])},G5=function(t,e,i){return Object.keys(t).reduce(function(r,a){var o=t[a],l=o.stackedData,c=l.reduce(function(h,m){var v=OZ(m.slice(e,i+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]).map(function(r){return r===1/0||r===-1/0?0:r})},FL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nO=function(t,e,i){if(mn(t))return t(e,i);if(!Array.isArray(t))return e;var r=[];if(de(t[0]))r[0]=i?t[0]:Math.min(t[0],e[0]);else if(FL.test(t[0])){var a=+FL.exec(t[0])[1];r[0]=e[0]-a}else mn(t[0])?r[0]=t[0](e[0]):r[0]=e[0];if(de(t[1]))r[1]=i?t[1]:Math.max(t[1],e[1]);else if(jL.test(t[1])){var o=+jL.exec(t[1])[1];r[1]=e[1]+o}else mn(t[1])?r[1]=t[1](e[1]):r[1]=e[1];return r},ax=function(t,e,i){if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!i||r>0)return r}if(t&&e&&e.length>=2){for(var a=TC(e,function(v){return v.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var h=a[l],m=a[l-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return i?void 0:0},VL=function(t,e,i){return!t||!t.length||KC(t,Ys(i,"type.defaultProps.domain"))?e:t},q5=function(t,e){var i=t.type.defaultProps?Ui(Ui({},t.type.defaultProps),t.props):t.props,r=i.dataKey,a=i.name,o=i.unit,l=i.formatter,c=i.tooltipType,h=i.chartType,m=i.hide;return Ui(Ui({},Ln(t,!1)),{},{dataKey:r,unit:o,formatter:l,name:a||r,color:JC(t),value:Dl(e,r),type:c,payload:e,chartType:h,hide:m})};function Fg(n){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(n)}function GL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qL(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(e),!0).forEach(function(i){CZ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):GL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function CZ(n,t,e){return t=RZ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function RZ(n){var t=DZ(n,"string");return Fg(t)=="symbol"?t:t+""}function DZ(n,t){if(Fg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Fg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var sx=Math.PI/180,NZ=function(t){return t*180/Math.PI},zr=function(t,e,i,r){return{x:t+Math.cos(-sx*r)*i,y:e+Math.sin(-sx*r)*i}},PZ=function(t,e){var i=t.x,r=t.y,a=e.x,o=e.y;return Math.sqrt(Math.pow(i-a,2)+Math.pow(r-o,2))},UZ=function(t,e){var i=t.x,r=t.y,a=e.cx,o=e.cy,l=PZ({x:i,y:r},{x:a,y:o});if(l<=0)return{radius:l};var c=(i-a)/l,h=Math.acos(c);return r>o&&(h=2*Math.PI-h),{radius:l,angle:NZ(h),angleInRadian:h}},LZ=function(t){var e=t.startAngle,i=t.endAngle,r=Math.floor(e/360),a=Math.floor(i/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:i-o*360}},IZ=function(t,e){var i=e.startAngle,r=e.endAngle,a=Math.floor(i/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},kL=function(t,e){var i=t.x,r=t.y,a=UZ({x:i,y:r},e),o=a.radius,l=a.angle,c=e.innerRadius,h=e.outerRadius;if(o<c||o>h)return!1;if(o===0)return!0;var m=LZ(e),v=m.startAngle,y=m.endAngle,_=l,S;if(v<=y){for(;_>y;)_-=360;for(;_<v;)_+=360;S=_>=v&&_<=y}else{for(;_>v;)_-=360;for(;_<y;)_+=360;S=_>=y&&_<=v}return S?qL(qL({},e),{},{radius:o,angle:IZ(_,e)}):null};function jg(n){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(n)}var BZ=["offset"];function zZ(n){return VZ(n)||jZ(n)||FZ(n)||HZ()}function HZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(n,t){if(n){if(typeof n=="string")return iO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return iO(n,t)}}function jZ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function VZ(n){if(Array.isArray(n))return iO(n)}function iO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function GZ(n,t){if(n==null)return{};var e=qZ(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function qZ(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function XL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function cr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(e),!0).forEach(function(i){kZ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function kZ(n,t,e){return t=XZ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function XZ(n){var t=YZ(n,"string");return jg(t)=="symbol"?t:t+""}function YZ(n,t){if(jg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(jg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vg.apply(this,arguments)}var WZ=function(t){var e=t.value,i=t.formatter,r=jn(t.children)?e:t.children;return mn(i)?i(r):r},ZZ=function(t,e){var i=Po(e-t),r=Math.min(Math.abs(e-t),360);return i*r},KZ=function(t,e,i){var r=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,h=c.cx,m=c.cy,v=c.innerRadius,y=c.outerRadius,_=c.startAngle,S=c.endAngle,E=c.clockWise,x=(v+y)/2,M=ZZ(_,S),w=M>=0?1:-1,O,R;r==="insideStart"?(O=_+w*o,R=E):r==="insideEnd"?(O=S-w*o,R=!E):r==="end"&&(O=S+w*o,R=E),R=M<=0?R:!R;var N=zr(h,m,x,O),P=zr(h,m,x,O+(R?1:-1)*359),U="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(R?0:1,`,
    `).concat(P.x,",").concat(P.y),z=jn(t.id)?xS("recharts-radial-line-"):t.id;return gt.createElement("text",Vg({},i,{dominantBaseline:"central",className:Vn("recharts-radial-bar-label",l)}),gt.createElement("defs",null,gt.createElement("path",{id:z,d:U})),gt.createElement("textPath",{xlinkHref:"#".concat(z)},e))},$Z=function(t){var e=t.viewBox,i=t.offset,r=t.position,a=e,o=a.cx,l=a.cy,c=a.innerRadius,h=a.outerRadius,m=a.startAngle,v=a.endAngle,y=(m+v)/2;if(r==="outside"){var _=zr(o,l,h+i,y),S=_.x,E=_.y;return{x:S,y:E,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+h)/2,M=zr(o,l,x,y),w=M.x,O=M.y;return{x:w,y:O,textAnchor:"middle",verticalAnchor:"middle"}},QZ=function(t){var e=t.viewBox,i=t.parentViewBox,r=t.offset,a=t.position,o=e,l=o.x,c=o.y,h=o.width,m=o.height,v=m>=0?1:-1,y=v*r,_=v>0?"end":"start",S=v>0?"start":"end",E=h>=0?1:-1,x=E*r,M=E>0?"end":"start",w=E>0?"start":"end";if(a==="top"){var O={x:l+h/2,y:c-v*r,textAnchor:"middle",verticalAnchor:_};return cr(cr({},O),i?{height:Math.max(c-i.y,0),width:h}:{})}if(a==="bottom"){var R={x:l+h/2,y:c+m+y,textAnchor:"middle",verticalAnchor:S};return cr(cr({},R),i?{height:Math.max(i.y+i.height-(c+m),0),width:h}:{})}if(a==="left"){var N={x:l-x,y:c+m/2,textAnchor:M,verticalAnchor:"middle"};return cr(cr({},N),i?{width:Math.max(N.x-i.x,0),height:m}:{})}if(a==="right"){var P={x:l+h+x,y:c+m/2,textAnchor:w,verticalAnchor:"middle"};return cr(cr({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:m}:{})}var U=i?{width:h,height:m}:{};return a==="insideLeft"?cr({x:l+x,y:c+m/2,textAnchor:w,verticalAnchor:"middle"},U):a==="insideRight"?cr({x:l+h-x,y:c+m/2,textAnchor:M,verticalAnchor:"middle"},U):a==="insideTop"?cr({x:l+h/2,y:c+y,textAnchor:"middle",verticalAnchor:S},U):a==="insideBottom"?cr({x:l+h/2,y:c+m-y,textAnchor:"middle",verticalAnchor:_},U):a==="insideTopLeft"?cr({x:l+x,y:c+y,textAnchor:w,verticalAnchor:S},U):a==="insideTopRight"?cr({x:l+h-x,y:c+y,textAnchor:M,verticalAnchor:S},U):a==="insideBottomLeft"?cr({x:l+x,y:c+m-y,textAnchor:w,verticalAnchor:_},U):a==="insideBottomRight"?cr({x:l+h-x,y:c+m-y,textAnchor:M,verticalAnchor:_},U):um(a)&&(de(a.x)||vh(a.x))&&(de(a.y)||vh(a.y))?cr({x:l+Ch(a.x,h),y:c+Ch(a.y,m),textAnchor:"end",verticalAnchor:"end"},U):cr({x:l+h/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},U)},JZ=function(t){return"cx"in t&&de(t.cx)};function ea(n){var t=n.offset,e=t===void 0?5:t,i=GZ(n,BZ),r=cr({offset:e},i),a=r.viewBox,o=r.position,l=r.value,c=r.children,h=r.content,m=r.className,v=m===void 0?"":m,y=r.textBreakAll;if(!a||jn(l)&&jn(c)&&!St.isValidElement(h)&&!mn(h))return null;if(St.isValidElement(h))return St.cloneElement(h,r);var _;if(mn(h)){if(_=St.createElement(h,r),St.isValidElement(_))return _}else _=WZ(r);var S=JZ(a),E=Ln(r,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return KZ(r,_,E);var x=S?$Z(r):QZ(r);return gt.createElement(k_,Vg({className:Vn("recharts-label",v)},E,x,{breakAll:y}),_)}ea.displayName="Label";var k5=function(t){var e=t.cx,i=t.cy,r=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,h=t.innerRadius,m=t.outerRadius,v=t.x,y=t.y,_=t.top,S=t.left,E=t.width,x=t.height,M=t.clockWise,w=t.labelViewBox;if(w)return w;if(de(E)&&de(x)){if(de(v)&&de(y))return{x:v,y,width:E,height:x};if(de(_)&&de(S))return{x:_,y:S,width:E,height:x}}return de(v)&&de(y)?{x:v,y,width:0,height:0}:de(e)&&de(i)?{cx:e,cy:i,startAngle:a||r||0,endAngle:o||r||0,innerRadius:h||0,outerRadius:m||c||l||0,clockWise:M}:t.viewBox?t.viewBox:{}},tK=function(t,e){return t?t===!0?gt.createElement(ea,{key:"label-implicit",viewBox:e}):fr(t)?gt.createElement(ea,{key:"label-implicit",viewBox:e,value:t}):St.isValidElement(t)?t.type===ea?St.cloneElement(t,{key:"label-implicit",viewBox:e}):gt.createElement(ea,{key:"label-implicit",content:t,viewBox:e}):mn(t)?gt.createElement(ea,{key:"label-implicit",content:t,viewBox:e}):um(t)?gt.createElement(ea,Vg({viewBox:e},t,{key:"label-implicit"})):null:null},eK=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var r=t.children,a=k5(t),o=Lo(r,ea).map(function(c,h){return St.cloneElement(c,{viewBox:e||a,key:"label-".concat(h)})});if(!i)return o;var l=tK(t.label,e||a);return[l].concat(zZ(o))};ea.parseViewBox=k5;ea.renderCallByParent=eK;var VT,YL;function nK(){if(YL)return VT;YL=1;function n(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return VT=n,VT}var iK=nK();const rK=Gn(iK);function Gg(n){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(n)}var aK=["valueAccessor"],sK=["data","dataKey","clockWise","id","textBreakAll"];function oK(n){return fK(n)||cK(n)||uK(n)||lK()}function lK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(n,t){if(n){if(typeof n=="string")return rO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return rO(n,t)}}function cK(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function fK(n){if(Array.isArray(n))return rO(n)}function rO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function ox(){return ox=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ox.apply(this,arguments)}function WL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ZL(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(e),!0).forEach(function(i){hK(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):WL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function hK(n,t,e){return t=dK(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dK(n){var t=pK(n,"string");return Gg(t)=="symbol"?t:t+""}function pK(n,t){if(Gg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Gg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function KL(n,t){if(n==null)return{};var e=mK(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function mK(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}var vK=function(t){return Array.isArray(t.value)?rK(t.value):t.value};function Ah(n){var t=n.valueAccessor,e=t===void 0?vK:t,i=KL(n,aK),r=i.data,a=i.dataKey,o=i.clockWise,l=i.id,c=i.textBreakAll,h=KL(i,sK);return!r||!r.length?null:gt.createElement(Er,{className:"recharts-label-list"},r.map(function(m,v){var y=jn(a)?e(m,v):Dl(m&&m.payload,a),_=jn(l)?{}:{id:"".concat(l,"-").concat(v)};return gt.createElement(ea,ox({},Ln(m,!0),h,_,{parentViewBox:m.parentViewBox,value:y,textBreakAll:c,viewBox:ea.parseViewBox(jn(o)?m:ZL(ZL({},m),{},{clockWise:o})),key:"label-".concat(v),index:v}))}))}Ah.displayName="LabelList";function gK(n,t){return n?n===!0?gt.createElement(Ah,{key:"labelList-implicit",data:t}):gt.isValidElement(n)||mn(n)?gt.createElement(Ah,{key:"labelList-implicit",data:t,content:n}):um(n)?gt.createElement(Ah,ox({data:t},n,{key:"labelList-implicit"})):null:null}function yK(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&e&&!n.label)return null;var i=n.children,r=Lo(i,Ah).map(function(o,l){return St.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!e)return r;var a=gK(n.label,t);return[a].concat(oK(r))}Ah.renderCallByParent=yK;function qg(n){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(n)}function aO(){return aO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},aO.apply(this,arguments)}function $L(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function QL(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(e),!0).forEach(function(i){bK(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$L(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function bK(n,t,e){return t=_K(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _K(n){var t=xK(n,"string");return qg(t)=="symbol"?t:t+""}function xK(n,t){if(qg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(qg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var SK=function(t,e){var i=Po(e-t),r=Math.min(Math.abs(e-t),359.999);return i*r},Ob=function(t){var e=t.cx,i=t.cy,r=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,h=t.cornerIsExternal,m=c*(l?1:-1)+r,v=Math.asin(c/m)/sx,y=h?a:a+o*v,_=zr(e,i,m,y),S=zr(e,i,r,y),E=h?a-o*v:a,x=zr(e,i,m*Math.cos(v*sx),E);return{center:_,circleTangency:S,lineTangency:x,theta:v}},X5=function(t){var e=t.cx,i=t.cy,r=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=SK(o,l),h=o+c,m=zr(e,i,a,o),v=zr(e,i,a,h),y="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(r>0){var _=zr(e,i,r,o),S=zr(e,i,r,h);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(e,",").concat(i," Z");return y},MK=function(t){var e=t.cx,i=t.cy,r=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,h=t.startAngle,m=t.endAngle,v=Po(m-h),y=Ob({cx:e,cy:i,radius:a,angle:h,sign:v,cornerRadius:o,cornerIsExternal:c}),_=y.circleTangency,S=y.lineTangency,E=y.theta,x=Ob({cx:e,cy:i,radius:a,angle:m,sign:-v,cornerRadius:o,cornerIsExternal:c}),M=x.circleTangency,w=x.lineTangency,O=x.theta,R=c?Math.abs(h-m):Math.abs(h-m)-E-O;if(R<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):X5({cx:e,cy:i,innerRadius:r,outerRadius:a,startAngle:h,endAngle:m});var N="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(v<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var P=Ob({cx:e,cy:i,radius:r,angle:h,sign:v,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),U=P.circleTangency,z=P.lineTangency,I=P.theta,B=Ob({cx:e,cy:i,radius:r,angle:m,sign:-v,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=B.circleTangency,K=B.lineTangency,W=B.theta,tt=c?Math.abs(h-m):Math.abs(h-m)-I-W;if(tt<0&&o===0)return"".concat(N,"L").concat(e,",").concat(i,"Z");N+="L".concat(K.x,",").concat(K.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(tt>180),",").concat(+(v>0),",").concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(z.x,",").concat(z.y,"Z")}else N+="L".concat(e,",").concat(i,"Z");return N},EK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Y5=function(t){var e=QL(QL({},EK),t),i=e.cx,r=e.cy,a=e.innerRadius,o=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,h=e.cornerIsExternal,m=e.startAngle,v=e.endAngle,y=e.className;if(o<a||m===v)return null;var _=Vn("recharts-sector",y),S=o-a,E=Ch(l,S,0,!0),x;return E>0&&Math.abs(m-v)<360?x=MK({cx:i,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,S/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:m,endAngle:v}):x=X5({cx:i,cy:r,innerRadius:a,outerRadius:o,startAngle:m,endAngle:v}),gt.createElement("path",aO({},Ln(e,!0),{className:_,d:x,role:"img"}))};function kg(n){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(n)}function sO(){return sO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},sO.apply(this,arguments)}function JL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function tI(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(e),!0).forEach(function(i){AK(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):JL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function AK(n,t,e){return t=TK(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function TK(n){var t=wK(n,"string");return kg(t)=="symbol"?t:t+""}function wK(n,t){if(kg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(kg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var eI={curveBasisClosed:XG,curveBasisOpen:YG,curveBasis:kG,curveBumpX:DG,curveBumpY:NG,curveLinearClosed:WG,curveLinear:ES,curveMonotoneX:ZG,curveMonotoneY:KG,curveNatural:$G,curveStep:QG,curveStepAfter:tq,curveStepBefore:JG},Cb=function(t){return t.x===+t.x&&t.y===+t.y},jv=function(t){return t.x},Vv=function(t){return t.y},OK=function(t,e){if(mn(t))return t;var i="curve".concat(SS(t));return(i==="curveMonotone"||i==="curveBump")&&e?eI["".concat(i).concat(e==="vertical"?"Y":"X")]:eI[i]||ES},CK=function(t){var e=t.type,i=e===void 0?"linear":e,r=t.points,a=r===void 0?[]:r,o=t.baseLine,l=t.layout,c=t.connectNulls,h=c===void 0?!1:c,m=OK(i,l),v=h?a.filter(function(E){return Cb(E)}):a,y;if(Array.isArray(o)){var _=h?o.filter(function(E){return Cb(E)}):o,S=v.map(function(E,x){return tI(tI({},E),{},{base:_[x]})});return l==="vertical"?y=_b().y(Vv).x1(jv).x0(function(E){return E.base.x}):y=_b().x(jv).y1(Vv).y0(function(E){return E.base.y}),y.defined(Cb).curve(m),y(S)}return l==="vertical"&&de(o)?y=_b().y(Vv).x1(jv).x0(o):de(o)?y=_b().x(jv).y1(Vv).y0(o):y=$4().x(jv).y(Vv),y.defined(Cb).curve(m),y(v)},nI=function(t){var e=t.className,i=t.points,r=t.path,a=t.pathRef;if((!i||!i.length)&&!r)return null;var o=i&&i.length?CK(t):r;return gt.createElement("path",sO({},Ln(t,!1),P_(t),{className:Vn("recharts-curve",e),d:o,ref:a}))},GT={exports:{}},qT,iI;function RK(){if(iI)return qT;iI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qT=n,qT}var kT,rI;function DK(){if(rI)return kT;rI=1;var n=RK();function t(){}function e(){}return e.resetWarningCache=t,kT=function(){function i(o,l,c,h,m,v){if(v!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},kT}var aI;function NK(){return aI||(aI=1,GT.exports=DK()()),GT.exports}var PK=NK();const Fn=Gn(PK);var UK=Object.getOwnPropertyNames,LK=Object.getOwnPropertySymbols,IK=Object.prototype.hasOwnProperty;function sI(n,t){return function(i,r,a){return n(i,r,a)&&t(i,r,a)}}function Rb(n){return function(e,i,r){if(!e||!i||typeof e!="object"||typeof i!="object")return n(e,i,r);var a=r.cache,o=a.get(e),l=a.get(i);if(o&&l)return o===i&&l===e;a.set(e,i),a.set(i,e);var c=n(e,i,r);return a.delete(e),a.delete(i),c}}function oI(n){return UK(n).concat(LK(n))}var BK=Object.hasOwn||function(n,t){return IK.call(n,t)};function Fh(n,t){return n===t||!n&&!t&&n!==n&&t!==t}var zK="__v",HK="__o",FK="_owner",lI=Object.getOwnPropertyDescriptor,uI=Object.keys;function jK(n,t,e){var i=n.length;if(t.length!==i)return!1;for(;i-- >0;)if(!e.equals(n[i],t[i],i,i,n,t,e))return!1;return!0}function VK(n,t){return Fh(n.getTime(),t.getTime())}function GK(n,t){return n.name===t.name&&n.message===t.message&&n.cause===t.cause&&n.stack===t.stack}function qK(n,t){return n===t}function cI(n,t,e){var i=n.size;if(i!==t.size)return!1;if(!i)return!0;for(var r=new Array(i),a=n.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var h=t.entries(),m=!1,v=0;(l=h.next())&&!l.done;){if(r[v]){v++;continue}var y=o.value,_=l.value;if(e.equals(y[0],_[0],c,v,n,t,e)&&e.equals(y[1],_[1],y[0],_[0],n,t,e)){m=r[v]=!0;break}v++}if(!m)return!1;c++}return!0}var kK=Fh;function XK(n,t,e){var i=uI(n),r=i.length;if(uI(t).length!==r)return!1;for(;r-- >0;)if(!W5(n,t,e,i[r]))return!1;return!0}function Gv(n,t,e){var i=oI(n),r=i.length;if(oI(t).length!==r)return!1;for(var a,o,l;r-- >0;)if(a=i[r],!W5(n,t,e,a)||(o=lI(n,a),l=lI(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function YK(n,t){return Fh(n.valueOf(),t.valueOf())}function WK(n,t){return n.source===t.source&&n.flags===t.flags}function fI(n,t,e){var i=n.size;if(i!==t.size)return!1;if(!i)return!0;for(var r=new Array(i),a=n.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),h=!1,m=0;(l=c.next())&&!l.done;){if(!r[m]&&e.equals(o.value,l.value,o.value,l.value,n,t,e)){h=r[m]=!0;break}m++}if(!h)return!1}return!0}function ZK(n,t){var e=n.length;if(t.length!==e)return!1;for(;e-- >0;)if(n[e]!==t[e])return!1;return!0}function KK(n,t){return n.hostname===t.hostname&&n.pathname===t.pathname&&n.protocol===t.protocol&&n.port===t.port&&n.hash===t.hash&&n.username===t.username&&n.password===t.password}function W5(n,t,e,i){return(i===FK||i===HK||i===zK)&&(n.$$typeof||t.$$typeof)?!0:BK(t,i)&&e.equals(n[i],t[i],i,i,n,t,e)}var $K="[object Arguments]",QK="[object Boolean]",JK="[object Date]",t$="[object Error]",e$="[object Map]",n$="[object Number]",i$="[object Object]",r$="[object RegExp]",a$="[object Set]",s$="[object String]",o$="[object URL]",l$=Array.isArray,hI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dI=Object.assign,u$=Object.prototype.toString.call.bind(Object.prototype.toString);function c$(n){var t=n.areArraysEqual,e=n.areDatesEqual,i=n.areErrorsEqual,r=n.areFunctionsEqual,a=n.areMapsEqual,o=n.areNumbersEqual,l=n.areObjectsEqual,c=n.arePrimitiveWrappersEqual,h=n.areRegExpsEqual,m=n.areSetsEqual,v=n.areTypedArraysEqual,y=n.areUrlsEqual;return function(S,E,x){if(S===E)return!0;if(S==null||E==null)return!1;var M=typeof S;if(M!==typeof E)return!1;if(M!=="object")return M==="number"?o(S,E,x):M==="function"?r(S,E,x):!1;var w=S.constructor;if(w!==E.constructor)return!1;if(w===Object)return l(S,E,x);if(l$(S))return t(S,E,x);if(hI!=null&&hI(S))return v(S,E,x);if(w===Date)return e(S,E,x);if(w===RegExp)return h(S,E,x);if(w===Map)return a(S,E,x);if(w===Set)return m(S,E,x);var O=u$(S);return O===JK?e(S,E,x):O===r$?h(S,E,x):O===e$?a(S,E,x):O===a$?m(S,E,x):O===i$?typeof S.then!="function"&&typeof E.then!="function"&&l(S,E,x):O===o$?y(S,E,x):O===t$?i(S,E,x):O===$K?l(S,E,x):O===QK||O===n$||O===s$?c(S,E,x):!1}}function f$(n){var t=n.circular,e=n.createCustomConfig,i=n.strict,r={areArraysEqual:i?Gv:jK,areDatesEqual:VK,areErrorsEqual:GK,areFunctionsEqual:qK,areMapsEqual:i?sI(cI,Gv):cI,areNumbersEqual:kK,areObjectsEqual:i?Gv:XK,arePrimitiveWrappersEqual:YK,areRegExpsEqual:WK,areSetsEqual:i?sI(fI,Gv):fI,areTypedArraysEqual:i?Gv:ZK,areUrlsEqual:KK};if(e&&(r=dI({},r,e(r))),t){var a=Rb(r.areArraysEqual),o=Rb(r.areMapsEqual),l=Rb(r.areObjectsEqual),c=Rb(r.areSetsEqual);r=dI({},r,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return r}function h$(n){return function(t,e,i,r,a,o,l){return n(t,e,l)}}function d$(n){var t=n.circular,e=n.comparator,i=n.createState,r=n.equals,a=n.strict;if(i)return function(c,h){var m=i(),v=m.cache,y=v===void 0?t?new WeakMap:void 0:v,_=m.meta;return e(c,h,{cache:y,equals:r,meta:_,strict:a})};if(t)return function(c,h){return e(c,h,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};var o={cache:void 0,equals:r,meta:void 0,strict:a};return function(c,h){return e(c,h,o)}}var p$=$c();$c({strict:!0});$c({circular:!0});$c({circular:!0,strict:!0});$c({createInternalComparator:function(){return Fh}});$c({strict:!0,createInternalComparator:function(){return Fh}});$c({circular:!0,createInternalComparator:function(){return Fh}});$c({circular:!0,createInternalComparator:function(){return Fh},strict:!0});function $c(n){n===void 0&&(n={});var t=n.circular,e=t===void 0?!1:t,i=n.createInternalComparator,r=n.createState,a=n.strict,o=a===void 0?!1:a,l=f$(n),c=c$(l),h=i?i(c):h$(c);return d$({circular:e,comparator:c,createState:r,equals:h,strict:o})}function m$(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function pI(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=-1,i=function r(a){e<0&&(e=a),a-e>t?(n(a),e=-1):m$(r)};requestAnimationFrame(i)}function oO(n){"@babel/helpers - typeof";return oO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oO(n)}function v$(n){return _$(n)||b$(n)||y$(n)||g$()}function g$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$(n,t){if(n){if(typeof n=="string")return mI(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return mI(n,t)}}function mI(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function b$(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _$(n){if(Array.isArray(n))return n}function x$(){var n={},t=function(){return null},e=!1,i=function r(a){if(!e){if(Array.isArray(a)){if(!a.length)return;var o=a,l=v$(o),c=l[0],h=l.slice(1);if(typeof c=="number"){pI(r.bind(null,h),c);return}r(c),pI(r.bind(null,h));return}oO(a)==="object"&&(n=a,t(n)),typeof a=="function"&&a()}};return{stop:function(){e=!0},start:function(a){e=!1,i(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Xg(n){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(n)}function vI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function gI(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(e),!0).forEach(function(i){Z5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Z5(n,t,e){return t=S$(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function S$(n){var t=M$(n,"string");return Xg(t)==="symbol"?t:String(t)}function M$(n,t){if(Xg(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Xg(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var E$=function(t,e){return[Object.keys(t),Object.keys(e)].reduce(function(i,r){return i.filter(function(a){return r.includes(a)})})},A$=function(t){return t},T$=function(t){return t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})},hg=function(t,e){return Object.keys(e).reduce(function(i,r){return gI(gI({},i),{},Z5({},r,t(r,e[r])))},{})},yI=function(t,e,i){return t.map(function(r){return"".concat(T$(r)," ").concat(e,"ms ").concat(i)}).join(",")};function w$(n,t){return R$(n)||C$(n,t)||K5(n,t)||O$()}function O$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function R$(n){if(Array.isArray(n))return n}function D$(n){return U$(n)||P$(n)||K5(n)||N$()}function N$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5(n,t){if(n){if(typeof n=="string")return lO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return lO(n,t)}}function P$(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function U$(n){if(Array.isArray(n))return lO(n)}function lO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var lx=1e-4,$5=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},Q5=function(t,e){return t.map(function(i,r){return i*Math.pow(e,r)}).reduce(function(i,r){return i+r})},bI=function(t,e){return function(i){var r=$5(t,e);return Q5(r,i)}},L$=function(t,e){return function(i){var r=$5(t,e),a=[].concat(D$(r.map(function(o,l){return o*l}).slice(1)),[0]);return Q5(a,i)}},_I=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e[0],a=e[1],o=e[2],l=e[3];if(e.length===1)switch(e[0]){case"linear":r=0,a=0,o=1,l=1;break;case"ease":r=.25,a=.1,o=.25,l=1;break;case"ease-in":r=.42,a=0,o=1,l=1;break;case"ease-out":r=.42,a=0,o=.58,l=1;break;case"ease-in-out":r=0,a=0,o=.58,l=1;break;default:{var c=e[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var h=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),m=w$(h,4);r=m[0],a=m[1],o=m[2],l=m[3]}}}var v=bI(r,o),y=bI(a,l),_=L$(r,o),S=function(M){return M>1?1:M<0?0:M},E=function(M){for(var w=M>1?1:M,O=w,R=0;R<8;++R){var N=v(O)-w,P=_(O);if(Math.abs(N-w)<lx||P<lx)return y(O);O=S(O-N/P)}return y(O)};return E.isStepper=!1,E},I$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.stiff,i=e===void 0?100:e,r=t.damping,a=r===void 0?8:r,o=t.dt,l=o===void 0?17:o,c=function(m,v,y){var _=-(m-v)*i,S=y*a,E=y+(_-S)*l/1e3,x=y*l/1e3+m;return Math.abs(x-v)<lx&&Math.abs(E)<lx?[v,0]:[x,E]};return c.isStepper=!0,c.dt=l,c},B$=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e[0];if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(r);case"spring":return I$();default:if(r.split("(")[0]==="cubic-bezier")return _I(r)}return typeof r=="function"?r:null};function Yg(n){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(n)}function xI(n){return F$(n)||H$(n)||J5(n)||z$()}function z$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function F$(n){if(Array.isArray(n))return cO(n)}function SI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Br(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(e),!0).forEach(function(i){uO(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):SI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function uO(n,t,e){return t=j$(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function j$(n){var t=V$(n,"string");return Yg(t)==="symbol"?t:String(t)}function V$(n,t){if(Yg(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Yg(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function G$(n,t){return X$(n)||k$(n,t)||J5(n,t)||q$()}function q$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5(n,t){if(n){if(typeof n=="string")return cO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return cO(n,t)}}function cO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function k$(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function X$(n){if(Array.isArray(n))return n}var ux=function(t,e,i){return t+(e-t)*i},fO=function(t){var e=t.from,i=t.to;return e!==i},Y$=function n(t,e,i){var r=hg(function(a,o){if(fO(o)){var l=t(o.from,o.to,o.velocity),c=G$(l,2),h=c[0],m=c[1];return Br(Br({},o),{},{from:h,velocity:m})}return o},e);return i<1?hg(function(a,o){return fO(o)?Br(Br({},o),{},{velocity:ux(o.velocity,r[a].velocity,i),from:ux(o.from,r[a].from,i)}):o},e):n(t,r,i-1)};const W$=function(n,t,e,i,r){var a=E$(n,t),o=a.reduce(function(x,M){return Br(Br({},x),{},uO({},M,[n[M],t[M]]))},{}),l=a.reduce(function(x,M){return Br(Br({},x),{},uO({},M,{from:n[M],velocity:0,to:t[M]}))},{}),c=-1,h,m,v=function(){return null},y=function(){return hg(function(M,w){return w.from},l)},_=function(){return!Object.values(l).filter(fO).length},S=function(M){h||(h=M);var w=M-h,O=w/e.dt;l=Y$(e,l,O),r(Br(Br(Br({},n),t),y())),h=M,_()||(c=requestAnimationFrame(v))},E=function(M){m||(m=M);var w=(M-m)/i,O=hg(function(N,P){return ux.apply(void 0,xI(P).concat([e(w)]))},o);if(r(Br(Br(Br({},n),t),O)),w<1)c=requestAnimationFrame(v);else{var R=hg(function(N,P){return ux.apply(void 0,xI(P).concat([e(1)]))},o);r(Br(Br(Br({},n),t),R))}};return v=e.isStepper?S:E,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(c)}}};function Hp(n){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(n)}var Z$=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function K$(n,t){if(n==null)return{};var e=$$(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function $$(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function XT(n){return eQ(n)||tQ(n)||J$(n)||Q$()}function Q$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J$(n,t){if(n){if(typeof n=="string")return hO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return hO(n,t)}}function tQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function eQ(n){if(Array.isArray(n))return hO(n)}function hO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function MI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ao(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(e),!0).forEach(function(i){ag(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):MI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ag(n,t,e){return t=tF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nQ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function iQ(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,tF(i.key),i)}}function rQ(n,t,e){return t&&iQ(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function tF(n){var t=aQ(n,"string");return Hp(t)==="symbol"?t:String(t)}function aQ(n,t){if(Hp(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Hp(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function sQ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&dO(n,t)}function dO(n,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},dO(n,t)}function oQ(n){var t=lQ();return function(){var i=cx(n),r;if(t){var a=cx(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return pO(this,r)}}function pO(n,t){if(t&&(Hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mO(n)}function mO(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cx(n){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cx(n)}var Gc=function(n){sQ(e,n);var t=oQ(e);function e(i,r){var a;nQ(this,e),a=t.call(this,i,r);var o=a.props,l=o.isActive,c=o.attributeName,h=o.from,m=o.to,v=o.steps,y=o.children,_=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(mO(a)),a.changeStyle=a.changeStyle.bind(mO(a)),!l||_<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:m}),pO(a);if(v&&v.length)a.state={style:v[0].style};else if(h){if(typeof y=="function")return a.state={style:h},pO(a);a.state={style:c?ag({},c,h):h}}else a.state={style:{}};return a}return rQ(e,[{key:"componentDidMount",value:function(){var r=this.props,a=r.isActive,o=r.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(r){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,h=a.shouldReAnimate,m=a.to,v=a.from,y=this.state.style;if(l){if(!o){var _={style:c?ag({},c,m):m};this.state&&y&&(c&&y[c]!==m||!c&&y!==m)&&this.setState(_);return}if(!(p$(r.to,m)&&r.canBegin&&r.isActive)){var S=!r.canBegin||!r.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=S||h?v:r.to;if(this.state&&y){var x={style:c?ag({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(x)}this.runAnimation(Ao(Ao({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}},{key:"handleStyleChange",value:function(r){this.changeStyle(r)}},{key:"changeStyle",value:function(r){this.mounted&&this.setState({style:r})}},{key:"runJSAnimation",value:function(r){var a=this,o=r.from,l=r.to,c=r.duration,h=r.easing,m=r.begin,v=r.onAnimationEnd,y=r.onAnimationStart,_=W$(o,l,B$(h),c,this.changeStyle),S=function(){a.stopJSAnimation=_()};this.manager.start([y,m,S,c,v])}},{key:"runStepAnimation",value:function(r){var a=this,o=r.steps,l=r.begin,c=r.onAnimationStart,h=o[0],m=h.style,v=h.duration,y=v===void 0?0:v,_=function(E,x,M){if(M===0)return E;var w=x.duration,O=x.easing,R=O===void 0?"ease":O,N=x.style,P=x.properties,U=x.onAnimationEnd,z=M>0?o[M-1]:x,I=P||Object.keys(N);if(typeof R=="function"||R==="spring")return[].concat(XT(E),[a.runJSAnimation.bind(a,{from:z.style,to:N,duration:w,easing:R}),w]);var B=yI(I,w,R),F=Ao(Ao(Ao({},z.style),N),{},{transition:B});return[].concat(XT(E),[F,w,U]).filter(A$)};return this.manager.start([c].concat(XT(o.reduce(_,[m,Math.max(y,l)])),[r.onAnimationEnd]))}},{key:"runAnimation",value:function(r){this.manager||(this.manager=x$());var a=r.begin,o=r.duration,l=r.attributeName,c=r.to,h=r.easing,m=r.onAnimationStart,v=r.onAnimationEnd,y=r.steps,_=r.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(r);return}if(y.length>1){this.runStepAnimation(r);return}var E=l?ag({},l,c):c,x=yI(Object.keys(E),o,h);S.start([m,a,Ao(Ao({},E),{},{transition:x}),o,v])}},{key:"render",value:function(){var r=this.props,a=r.children;r.begin;var o=r.duration;r.attributeName,r.easing;var l=r.isActive;r.steps,r.from,r.to,r.canBegin,r.onAnimationEnd,r.shouldReAnimate,r.onAnimationReStart;var c=K$(r,Z$),h=St.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!l||h===0||o<=0)return a;var v=function(_){var S=_.props,E=S.style,x=E===void 0?{}:E,M=S.className,w=St.cloneElement(_,Ao(Ao({},c),{},{style:Ao(Ao({},x),m),className:M}));return w};return h===1?v(St.Children.only(a)):gt.createElement("div",null,St.Children.map(a,function(y){return v(y)}))}}]),e}(St.PureComponent);Gc.displayName="Animate";Gc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gc.propTypes={from:Fn.oneOfType([Fn.object,Fn.string]),to:Fn.oneOfType([Fn.object,Fn.string]),attributeName:Fn.string,duration:Fn.number,begin:Fn.number,easing:Fn.oneOfType([Fn.string,Fn.func]),steps:Fn.arrayOf(Fn.shape({duration:Fn.number.isRequired,style:Fn.object.isRequired,easing:Fn.oneOfType([Fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fn.func]),properties:Fn.arrayOf("string"),onAnimationEnd:Fn.func})),children:Fn.oneOfType([Fn.node,Fn.func]),isActive:Fn.bool,canBegin:Fn.bool,onAnimationEnd:Fn.func,shouldReAnimate:Fn.bool,onAnimationStart:Fn.func,onAnimationReStart:Fn.func};function Wg(){return Wg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wg.apply(null,arguments)}function Zg(n){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(n)}function fx(){return fx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fx.apply(this,arguments)}function uQ(n,t){return dQ(n)||hQ(n,t)||fQ(n,t)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(n,t){if(n){if(typeof n=="string")return EI(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return EI(n,t)}}function EI(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function hQ(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function dQ(n){if(Array.isArray(n))return n}function AI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function TI(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(e),!0).forEach(function(i){pQ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):AI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function pQ(n,t,e){return t=mQ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function mQ(n){var t=vQ(n,"string");return Zg(t)=="symbol"?t:t+""}function vQ(n,t){if(Zg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Zg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var wI=function(t,e,i,r,a){var o=Math.min(Math.abs(i)/2,Math.abs(r)/2),l=r>=0?1:-1,c=i>=0?1:-1,h=r>=0&&i>=0||r<0&&i<0?1:0,m;if(o>0&&a instanceof Array){for(var v=[0,0,0,0],y=0,_=4;y<_;y++)v[y]=a[y]>o?o:a[y];m="M".concat(t,",").concat(e+l*v[0]),v[0]>0&&(m+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(t+c*v[0],",").concat(e)),m+="L ".concat(t+i-c*v[1],",").concat(e),v[1]>0&&(m+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(t+i,",").concat(e+l*v[1])),m+="L ".concat(t+i,",").concat(e+r-l*v[2]),v[2]>0&&(m+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(t+i-c*v[2],",").concat(e+r)),m+="L ".concat(t+c*v[3],",").concat(e+r),v[3]>0&&(m+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*v[3])),m+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);m="M ".concat(t,",").concat(e+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(t+c*S,",").concat(e,`
            L `).concat(t+i-c*S,",").concat(e,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(t+i,",").concat(e+l*S,`
            L `).concat(t+i,",").concat(e+r-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(t+i-c*S,",").concat(e+r,`
            L `).concat(t+c*S,",").concat(e+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*S," Z")}else m="M ".concat(t,",").concat(e," h ").concat(i," v ").concat(r," h ").concat(-i," Z");return m},gQ=function(t,e){if(!t||!e)return!1;var i=t.x,r=t.y,a=e.x,o=e.y,l=e.width,c=e.height;if(Math.abs(l)>0&&Math.abs(c)>0){var h=Math.min(a,a+l),m=Math.max(a,a+l),v=Math.min(o,o+c),y=Math.max(o,o+c);return i>=h&&i<=m&&r>=v&&r<=y}return!1},yQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tR=function(t){var e=TI(TI({},yQ),t),i=St.useRef(),r=St.useState(-1),a=uQ(r,2),o=a[0],l=a[1];St.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var R=i.current.getTotalLength();R&&l(R)}catch{}},[]);var c=e.x,h=e.y,m=e.width,v=e.height,y=e.radius,_=e.className,S=e.animationEasing,E=e.animationDuration,x=e.animationBegin,M=e.isAnimationActive,w=e.isUpdateAnimationActive;if(c!==+c||h!==+h||m!==+m||v!==+v||m===0||v===0)return null;var O=Vn("recharts-rectangle",_);return w?gt.createElement(Gc,{canBegin:o>0,from:{width:m,height:v,x:c,y:h},to:{width:m,height:v,x:c,y:h},duration:E,animationEasing:S,isActive:w},function(R){var N=R.width,P=R.height,U=R.x,z=R.y;return gt.createElement(Gc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,isActive:M,easing:S},gt.createElement("path",fx({},Ln(e,!0),{className:O,d:wI(U,z,N,P,y),ref:i})))}):gt.createElement("path",fx({},Ln(e,!0),{className:O,d:wI(c,h,m,v,y)}))};function vO(){return vO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vO.apply(this,arguments)}var eF=function(t){var e=t.cx,i=t.cy,r=t.r,a=t.className,o=Vn("recharts-dot",a);return e===+e&&i===+i&&r===+r?gt.createElement("circle",vO({},Ln(t,!1),P_(t),{className:o,cx:e,cy:i,r})):null};function Kg(n){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(n)}var bQ=["x","y","top","left","width","height","className"];function gO(){return gO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gO.apply(this,arguments)}function OI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function _Q(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(e),!0).forEach(function(i){xQ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):OI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function xQ(n,t,e){return t=SQ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function SQ(n){var t=MQ(n,"string");return Kg(t)=="symbol"?t:t+""}function MQ(n,t){if(Kg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Kg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function EQ(n,t){if(n==null)return{};var e=AQ(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function AQ(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}var TQ=function(t,e,i,r,a,o){return"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(i)},wQ=function(t){var e=t.x,i=e===void 0?0:e,r=t.y,a=r===void 0?0:r,o=t.top,l=o===void 0?0:o,c=t.left,h=c===void 0?0:c,m=t.width,v=m===void 0?0:m,y=t.height,_=y===void 0?0:y,S=t.className,E=EQ(t,bQ),x=_Q({x:i,y:a,top:l,left:h,width:v,height:_},E);return!de(i)||!de(a)||!de(v)||!de(_)||!de(l)||!de(h)?null:gt.createElement("path",gO({},Ln(x,!0),{className:Vn("recharts-cross",S),d:TQ(i,a,v,_,l,h)}))},YT,CI;function OQ(){if(CI)return YT;CI=1;var n=_H(),t=n(Object.getPrototypeOf,Object);return YT=t,YT}var WT,RI;function CQ(){if(RI)return WT;RI=1;var n=Du(),t=OQ(),e=Nu(),i="[object Object]",r=Function.prototype,a=Object.prototype,o=r.toString,l=a.hasOwnProperty,c=o.call(Object);function h(m){if(!e(m)||n(m)!=i)return!1;var v=t(m);if(v===null)return!0;var y=l.call(v,"constructor")&&v.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return WT=h,WT}var RQ=CQ();const DQ=Gn(RQ);var ZT,DI;function NQ(){if(DI)return ZT;DI=1;var n=Du(),t=Nu(),e="[object Boolean]";function i(r){return r===!0||r===!1||t(r)&&n(r)==e}return ZT=i,ZT}var PQ=NQ();const UQ=Gn(PQ);function $g(n){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(n)}function hx(){return hx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hx.apply(this,arguments)}function LQ(n,t){return HQ(n)||zQ(n,t)||BQ(n,t)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(n,t){if(n){if(typeof n=="string")return NI(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return NI(n,t)}}function NI(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function zQ(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function HQ(n){if(Array.isArray(n))return n}function PI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function UI(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(e),!0).forEach(function(i){FQ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):PI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function FQ(n,t,e){return t=jQ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jQ(n){var t=VQ(n,"string");return $g(t)=="symbol"?t:t+""}function VQ(n,t){if($g(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if($g(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var LI=function(t,e,i,r,a){var o=i-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+i,",").concat(e),l+="L ".concat(t+i-o/2,",").concat(e+a),l+="L ".concat(t+i-o/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},GQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qQ=function(t){var e=UI(UI({},GQ),t),i=St.useRef(),r=St.useState(-1),a=LQ(r,2),o=a[0],l=a[1];St.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var O=i.current.getTotalLength();O&&l(O)}catch{}},[]);var c=e.x,h=e.y,m=e.upperWidth,v=e.lowerWidth,y=e.height,_=e.className,S=e.animationEasing,E=e.animationDuration,x=e.animationBegin,M=e.isUpdateAnimationActive;if(c!==+c||h!==+h||m!==+m||v!==+v||y!==+y||m===0&&v===0||y===0)return null;var w=Vn("recharts-trapezoid",_);return M?gt.createElement(Gc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:h},to:{upperWidth:m,lowerWidth:v,height:y,x:c,y:h},duration:E,animationEasing:S,isActive:M},function(O){var R=O.upperWidth,N=O.lowerWidth,P=O.height,U=O.x,z=O.y;return gt.createElement(Gc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,easing:S},gt.createElement("path",hx({},Ln(e,!0),{className:w,d:LI(U,z,R,N,P),ref:i})))}):gt.createElement("g",null,gt.createElement("path",hx({},Ln(e,!0),{className:w,d:LI(c,h,m,v,y)})))},kQ=["option","shapeType","propTransformer","activeClassName","isActive"];function Qg(n){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(n)}function XQ(n,t){if(n==null)return{};var e=YQ(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function YQ(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function II(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function dx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?II(Object(e),!0).forEach(function(i){WQ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):II(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function WQ(n,t,e){return t=ZQ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ZQ(n){var t=KQ(n,"string");return Qg(t)=="symbol"?t:t+""}function KQ(n,t){if(Qg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Qg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function $Q(n,t){return dx(dx({},t),n)}function QQ(n,t){return n==="symbols"}function BI(n){var t=n.shapeType,e=n.elementProps;switch(t){case"rectangle":return gt.createElement(tR,e);case"trapezoid":return gt.createElement(qQ,e);case"sector":return gt.createElement(Y5,e);case"symbols":if(QQ(t))return gt.createElement(yC,e);break;default:return null}}function JQ(n){return St.isValidElement(n)?n.props:n}function tJ(n){var t=n.option,e=n.shapeType,i=n.propTransformer,r=i===void 0?$Q:i,a=n.activeClassName,o=a===void 0?"recharts-active-shape":a,l=n.isActive,c=XQ(n,kQ),h;if(St.isValidElement(t))h=St.cloneElement(t,dx(dx({},c),JQ(t)));else if(mn(t))h=t(c);else if(DQ(t)&&!UQ(t)){var m=r(t,c);h=gt.createElement(BI,{shapeType:e,elementProps:m})}else{var v=c;h=gt.createElement(BI,{shapeType:e,elementProps:v})}return l?gt.createElement(Er,{className:o},h):h}function FS(n,t){return t!=null&&"trapezoids"in n.props}function jS(n,t){return t!=null&&"sectors"in n.props}function Jg(n,t){return t!=null&&"points"in n.props}function eJ(n,t){var e,i,r=n.x===(t==null||(e=t.labelViewBox)===null||e===void 0?void 0:e.x)||n.x===t.x,a=n.y===(t==null||(i=t.labelViewBox)===null||i===void 0?void 0:i.y)||n.y===t.y;return r&&a}function nJ(n,t){var e=n.endAngle===t.endAngle,i=n.startAngle===t.startAngle;return e&&i}function iJ(n,t){var e=n.x===t.x,i=n.y===t.y,r=n.z===t.z;return e&&i&&r}function rJ(n,t){var e;return FS(n,t)?e=eJ:jS(n,t)?e=nJ:Jg(n,t)&&(e=iJ),e}function aJ(n,t){var e;return FS(n,t)?e="trapezoids":jS(n,t)?e="sectors":Jg(n,t)&&(e="points"),e}function sJ(n,t){if(FS(n,t)){var e;return(e=t.tooltipPayload)===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.payload)===null||e===void 0?void 0:e.payload}if(jS(n,t)){var i;return(i=t.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return Jg(n,t)?t.payload:{}}function oJ(n){var t=n.activeTooltipItem,e=n.graphicalItem,i=n.itemData,r=aJ(e,t),a=sJ(e,t),o=i.filter(function(c,h){var m=KC(a,c),v=e.props[r].filter(function(S){var E=rJ(e,t);return E(S,t)}),y=e.props[r].indexOf(v[v.length-1]),_=h===y;return m&&_}),l=i.indexOf(o[o.length-1]);return l}var KT,zI;function lJ(){if(zI)return KT;zI=1;var n=Math.ceil,t=Math.max;function e(i,r,a,o){for(var l=-1,c=t(n((r-i)/(a||1)),0),h=Array(c);c--;)h[o?c:++l]=i,i+=a;return h}return KT=e,KT}var $T,HI;function nF(){if(HI)return $T;HI=1;var n=IH(),t=1/0,e=17976931348623157e292;function i(r){if(!r)return r===0?r:0;if(r=n(r),r===t||r===-1/0){var a=r<0?-1:1;return a*e}return r===r?r:0}return $T=i,$T}var QT,FI;function uJ(){if(FI)return QT;FI=1;var n=lJ(),t=OS(),e=nF();function i(r){return function(a,o,l){return l&&typeof l!="number"&&t(a,o,l)&&(o=l=void 0),a=e(a),o===void 0?(o=a,a=0):o=e(o),l=l===void 0?a<o?1:-1:e(l),n(a,o,l,r)}}return QT=i,QT}var JT,jI;function cJ(){if(jI)return JT;jI=1;var n=uJ(),t=n();return JT=t,JT}var fJ=cJ();const px=Gn(fJ);function ty(n){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(n)}function VI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function GI(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(e),!0).forEach(function(i){iF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):VI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function iF(n,t,e){return t=hJ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function hJ(n){var t=dJ(n,"string");return ty(t)=="symbol"?t:t+""}function dJ(n,t){if(ty(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(ty(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var pJ=["Webkit","Moz","O","ms"],mJ=function(t,e){var i=t.replace(/(\w)/,function(a){return a.toUpperCase()}),r=pJ.reduce(function(a,o){return GI(GI({},a),{},iF({},o+i,e))},{});return r[t]=e,r};function Fp(n){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(n)}function mx(){return mx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},mx.apply(this,arguments)}function qI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function tw(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(e),!0).forEach(function(i){vs(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function vJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function kI(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,aF(i.key),i)}}function gJ(n,t,e){return t&&kI(n.prototype,t),e&&kI(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function yJ(n,t,e){return t=vx(t),bJ(n,rF()?Reflect.construct(t,e||[],vx(n).constructor):t.apply(n,e))}function bJ(n,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(n)}function _J(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!n})()}function vx(n){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vx(n)}function xJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&yO(n,t)}function yO(n,t){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},yO(n,t)}function vs(n,t,e){return t=aF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function aF(n){var t=SJ(n,"string");return Fp(t)=="symbol"?t:t+""}function SJ(n,t){if(Fp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Fp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var MJ=function(t){var e=t.data,i=t.startIndex,r=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!e||!e.length)return{};var c=e.length,h=cg().domain(px(0,c)).range([a,a+o-l]),m=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(i),endX:h(r),scale:h,scaleValues:m}},XI=function(t){return t.changedTouches&&!!t.changedTouches.length},jp=function(n){function t(e){var i;return vJ(this,t),i=yJ(this,t,[e]),vs(i,"handleDrag",function(r){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(r):i.state.isSlideMoving&&i.handleSlideDrag(r)}),vs(i,"handleTouchMove",function(r){r.changedTouches!=null&&r.changedTouches.length>0&&i.handleDrag(r.changedTouches[0])}),vs(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var r=i.props,a=r.endIndex,o=r.onDragEnd,l=r.startIndex;o==null||o({endIndex:a,startIndex:l})}),i.detachDragEndListener()}),vs(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),vs(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),vs(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),vs(i,"handleSlideDragStart",function(r){var a=XI(r)?r.changedTouches[0]:r;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return xJ(t,n),gJ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var r=i.startX,a=i.endX,o=this.state.scaleValues,l=this.props,c=l.gap,h=l.data,m=h.length-1,v=Math.min(r,a),y=Math.max(r,a),_=t.getIndexInRange(o,v),S=t.getIndexInRange(o,y);return{startIndex:_-_%c,endIndex:S===m?m:S-S%c}}},{key:"getTextOfTick",value:function(i){var r=this.props,a=r.data,o=r.tickFormatter,l=r.dataKey,c=Dl(a[i],l,i);return mn(o)?o(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var r=this.state,a=r.slideMoveStartX,o=r.startX,l=r.endX,c=this.props,h=c.x,m=c.width,v=c.travellerWidth,y=c.startIndex,_=c.endIndex,S=c.onChange,E=i.pageX-a;E>0?E=Math.min(E,h+m-v-l,h+m-v-o):E<0&&(E=Math.max(E,h-o,h-l));var x=this.getIndex({startX:o+E,endX:l+E});(x.startIndex!==y||x.endIndex!==_)&&S&&S(x),this.setState({startX:o+E,endX:l+E,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,r){var a=XI(r)?r.changedTouches[0]:r;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var r=this.state,a=r.brushMoveStartX,o=r.movingTravellerId,l=r.endX,c=r.startX,h=this.state[o],m=this.props,v=m.x,y=m.width,_=m.travellerWidth,S=m.onChange,E=m.gap,x=m.data,M={startX:this.state.startX,endX:this.state.endX},w=i.pageX-a;w>0?w=Math.min(w,v+y-_-h):w<0&&(w=Math.max(w,v-h)),M[o]=h+w;var O=this.getIndex(M),R=O.startIndex,N=O.endIndex,P=function(){var z=x.length-1;return o==="startX"&&(l>c?R%E===0:N%E===0)||l<c&&N===z||o==="endX"&&(l>c?N%E===0:R%E===0)||l>c&&N===z};this.setState(vs(vs({},o,h+w),"brushMoveStartX",i.pageX),function(){S&&P()&&S(O)})}},{key:"handleTravellerMoveKeyboard",value:function(i,r){var a=this,o=this.state,l=o.scaleValues,c=o.startX,h=o.endX,m=this.state[r],v=l.indexOf(m);if(v!==-1){var y=v+i;if(!(y===-1||y>=l.length)){var _=l[y];r==="startX"&&_>=h||r==="endX"&&_<=c||this.setState(vs({},r,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,r=i.x,a=i.y,o=i.width,l=i.height,c=i.fill,h=i.stroke;return gt.createElement("rect",{stroke:h,fill:c,x:r,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,r=i.x,a=i.y,o=i.width,l=i.height,c=i.data,h=i.children,m=i.padding,v=St.Children.only(h);return v?gt.cloneElement(v,{x:r,y:a,width:o,height:l,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,r){var a,o,l=this,c=this.props,h=c.y,m=c.travellerWidth,v=c.height,y=c.traveller,_=c.ariaLabel,S=c.data,E=c.startIndex,x=c.endIndex,M=Math.max(i,this.props.x),w=tw(tw({},Ln(this.props,!1)),{},{x:M,y:h,width:m,height:v}),O=_||"Min value: ".concat((a=S[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[x])===null||o===void 0?void 0:o.name);return gt.createElement(Er,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,r))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,w))}},{key:"renderSlide",value:function(i,r){var a=this.props,o=a.y,l=a.height,c=a.stroke,h=a.travellerWidth,m=Math.min(i,r)+h,v=Math.max(Math.abs(r-i)-h,0);return gt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:o,width:v,height:l})}},{key:"renderText",value:function(){var i=this.props,r=i.startIndex,a=i.endIndex,o=i.y,l=i.height,c=i.travellerWidth,h=i.stroke,m=this.state,v=m.startX,y=m.endX,_=5,S={pointerEvents:"none",fill:h};return gt.createElement(Er,{className:"recharts-brush-texts"},gt.createElement(k_,mx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,y)-_,y:o+l/2},S),this.getTextOfTick(r)),gt.createElement(k_,mx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,y)+c+_,y:o+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var i=this.props,r=i.data,a=i.className,o=i.children,l=i.x,c=i.y,h=i.width,m=i.height,v=i.alwaysShowText,y=this.state,_=y.startX,S=y.endX,E=y.isTextActive,x=y.isSlideMoving,M=y.isTravellerMoving,w=y.isTravellerFocused;if(!r||!r.length||!de(l)||!de(c)||!de(h)||!de(m)||h<=0||m<=0)return null;var O=Vn("recharts-brush",a),R=gt.Children.count(o)===1,N=mJ("userSelect","none");return gt.createElement(Er,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(E||x||M||w||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var r=i.x,a=i.y,o=i.width,l=i.height,c=i.stroke,h=Math.floor(a+l/2)-1;return gt.createElement(gt.Fragment,null,gt.createElement("rect",{x:r,y:a,width:o,height:l,fill:c,stroke:"none"}),gt.createElement("line",{x1:r+1,y1:h,x2:r+o-1,y2:h,fill:"none",stroke:"#fff"}),gt.createElement("line",{x1:r+1,y1:h+2,x2:r+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,r){var a;return gt.isValidElement(i)?a=gt.cloneElement(i,r):mn(i)?a=i(r):a=t.renderDefaultTraveller(r),a}},{key:"getDerivedStateFromProps",value:function(i,r){var a=i.data,o=i.width,l=i.x,c=i.travellerWidth,h=i.updateId,m=i.startIndex,v=i.endIndex;if(a!==r.prevData||h!==r.prevUpdateId)return tw({prevData:a,prevTravellerWidth:c,prevUpdateId:h,prevX:l,prevWidth:o},a&&a.length?MJ({data:a,width:o,x:l,travellerWidth:c,startIndex:m,endIndex:v}):{scale:null,scaleValues:null});if(r.scale&&(o!==r.prevWidth||l!==r.prevX||c!==r.prevTravellerWidth)){r.scale.range([l,l+o-c]);var y=r.scale.domain().map(function(_){return r.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:h,prevX:l,prevWidth:o,startX:r.scale(i.startIndex),endX:r.scale(i.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(i,r){for(var a=i.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);i[c]>r?l=c:o=c}return r>=i[l]?l:o}}])}(St.PureComponent);vs(jp,"displayName","Brush");vs(jp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ew,YI;function EJ(){if(YI)return ew;YI=1;var n=AC();function t(e,i){var r;return n(e,function(a,o,l){return r=i(a,o,l),!r}),!!r}return ew=t,ew}var nw,WI;function AJ(){if(WI)return nw;WI=1;var n=dH(),t=Wc(),e=EJ(),i=Za(),r=OS();function a(o,l,c){var h=i(o)?n:e;return c&&r(o,l,c)&&(l=void 0),h(o,t(l,3))}return nw=a,nw}var TJ=AJ();const wJ=Gn(TJ);var Tl=function(t,e){var i=t.alwaysShow,r=t.ifOverflow;return i&&(r="extendDomain"),r===e},iw,ZI;function OJ(){if(ZI)return iw;ZI=1;var n=DH();function t(e,i,r){i=="__proto__"&&n?n(e,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[i]=r}return iw=t,iw}var rw,KI;function CJ(){if(KI)return rw;KI=1;var n=OJ(),t=CH(),e=Wc();function i(r,a){var o={};return a=e(a,3),t(r,function(l,c,h){n(o,c,a(l,c,h))}),o}return rw=i,rw}var RJ=CJ();const DJ=Gn(RJ);var aw,$I;function NJ(){if($I)return aw;$I=1;function n(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(!e(t[i],i,t))return!1;return!0}return aw=n,aw}var sw,QI;function PJ(){if(QI)return sw;QI=1;var n=AC();function t(e,i){var r=!0;return n(e,function(a,o,l){return r=!!i(a,o,l),r}),r}return sw=t,sw}var ow,JI;function UJ(){if(JI)return ow;JI=1;var n=NJ(),t=PJ(),e=Wc(),i=Za(),r=OS();function a(o,l,c){var h=i(o)?n:t;return c&&r(o,l,c)&&(l=void 0),h(o,e(l,3))}return ow=a,ow}var LJ=UJ();const sF=Gn(LJ);var IJ=["x","y"];function ey(n){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(n)}function bO(){return bO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bO.apply(this,arguments)}function tB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qv(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(e),!0).forEach(function(i){BJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function BJ(n,t,e){return t=zJ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function zJ(n){var t=HJ(n,"string");return ey(t)=="symbol"?t:t+""}function HJ(n,t){if(ey(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(ey(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function FJ(n,t){if(n==null)return{};var e=jJ(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function jJ(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function VJ(n,t){var e=n.x,i=n.y,r=FJ(n,IJ),a="".concat(e),o=parseInt(a,10),l="".concat(i),c=parseInt(l,10),h="".concat(t.height||r.height),m=parseInt(h,10),v="".concat(t.width||r.width),y=parseInt(v,10);return qv(qv(qv(qv(qv({},t),r),o?{x:o}:{}),c?{y:c}:{}),{},{height:m,width:y,name:t.name,radius:t.radius})}function eB(n){return gt.createElement(tJ,bO({shapeType:"rectangle",propTransformer:VJ,activeClassName:"recharts-active-bar"},n))}var GJ=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,r){if(typeof t=="number")return t;var a=typeof i=="number";return a?t(i,r):(a||Dh(),e)}},qJ=["value","background"],oF;function Vp(n){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(n)}function kJ(n,t){if(n==null)return{};var e=XJ(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function XJ(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function gx(){return gx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gx.apply(this,arguments)}function nB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function $i(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(e),!0).forEach(function(i){Hc(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function YJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function iB(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,uF(i.key),i)}}function WJ(n,t,e){return t&&iB(n.prototype,t),e&&iB(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ZJ(n,t,e){return t=yx(t),KJ(n,lF()?Reflect.construct(t,e||[],yx(n).constructor):t.apply(n,e))}function KJ(n,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(n)}function $J(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!n})()}function yx(n){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yx(n)}function QJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&_O(n,t)}function _O(n,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},_O(n,t)}function Hc(n,t,e){return t=uF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function uF(n){var t=JJ(n,"string");return Vp(t)=="symbol"?t:t+""}function JJ(n,t){if(Vp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Vp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var jh=function(n){function t(){var e;YJ(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=ZJ(this,t,[].concat(r)),Hc(e,"state",{isAnimationFinished:!1}),Hc(e,"id",xS("recharts-bar-")),Hc(e,"handleAnimationEnd",function(){var o=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),o&&o()}),Hc(e,"handleAnimationStart",function(){var o=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),o&&o()}),e}return QJ(t,n),WJ(t,[{key:"renderRectanglesStatically",value:function(i){var r=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,h=a.activeBar,m=Ln(this.props,!1);return i&&i.map(function(v,y){var _=y===c,S=_?h:o,E=$i($i($i({},m),v),{},{isActive:_,option:S,index:y,dataKey:l,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return gt.createElement(Er,gx({className:"recharts-bar-rectangle"},U_(r.props,v,y),{key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value)}),gt.createElement(eB,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,r=this.props,a=r.data,o=r.layout,l=r.isAnimationActive,c=r.animationBegin,h=r.animationDuration,m=r.animationEasing,v=r.animationId,y=this.state.prevData;return gt.createElement(Gc,{begin:c,duration:h,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,E=a.map(function(x,M){var w=y&&y[M];if(w){var O=Yd(w.x,x.x),R=Yd(w.y,x.y),N=Yd(w.width,x.width),P=Yd(w.height,x.height);return $i($i({},x),{},{x:O(S),y:R(S),width:N(S),height:P(S)})}if(o==="horizontal"){var U=Yd(0,x.height),z=U(S);return $i($i({},x),{},{y:x.y+x.height-z,height:z})}var I=Yd(0,x.width),B=I(S);return $i($i({},x),{},{width:B})});return gt.createElement(Er,null,i.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var i=this.props,r=i.data,a=i.isAnimationActive,o=this.state.prevData;return a&&r&&r.length&&(!o||!KC(o,r))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(r)}},{key:"renderBackground",value:function(){var i=this,r=this.props,a=r.data,o=r.dataKey,l=r.activeIndex,c=Ln(this.props.background,!1);return a.map(function(h,m){h.value;var v=h.background,y=kJ(h,qJ);if(!v)return null;var _=$i($i($i($i($i({},y),{},{fill:"#eee"},v),c),U_(i.props,h,m)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return gt.createElement(eB,gx({key:"background-bar-".concat(m),option:i.props.background,isActive:m===l},_))})}},{key:"renderErrorBar",value:function(i,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,h=a.layout,m=a.children,v=Lo(m,HS);if(!v)return null;var y=h==="vertical"?o[0].height/2:o[0].width/2,_=function(x,M){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:Dl(x,M)}},S={clipPath:i?"url(#clipPath-".concat(r,")"):null};return gt.createElement(Er,S,v.map(function(E){return gt.cloneElement(E,{key:"error-bar-".concat(r,"-").concat(E.props.dataKey),data:o,xAxis:l,yAxis:c,layout:h,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var i=this.props,r=i.hide,a=i.data,o=i.className,l=i.xAxis,c=i.yAxis,h=i.left,m=i.top,v=i.width,y=i.height,_=i.isAnimationActive,S=i.background,E=i.id;if(r||!a||!a.length)return null;var x=this.state.isAnimationFinished,M=Vn("recharts-bar",o),w=l&&l.allowDataOverflow,O=c&&c.allowDataOverflow,R=w||O,N=jn(E)?this.id:E;return gt.createElement(Er,{className:M},w||O?gt.createElement("defs",null,gt.createElement("clipPath",{id:"clipPath-".concat(N)},gt.createElement("rect",{x:w?h:h-v/2,y:O?m:m-y/2,width:w?v:v*2,height:O?y:y*2}))):null,gt.createElement(Er,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(N,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,N),(!_||x)&&Ah.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:r.curData}:i.data!==r.curData?{curData:i.data}:null}}])}(St.PureComponent);oF=jh;Hc(jh,"displayName","Bar");Hc(jh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cy.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hc(jh,"getComposedData",function(n){var t=n.props,e=n.item,i=n.barPosition,r=n.bandSize,a=n.xAxis,o=n.yAxis,l=n.xAxisTicks,c=n.yAxisTicks,h=n.stackedData,m=n.dataStartIndex,v=n.displayedData,y=n.offset,_=yZ(i,e);if(!_)return null;var S=t.layout,E=e.type.defaultProps,x=E!==void 0?$i($i({},E),e.props):e.props,M=x.dataKey,w=x.children,O=x.minPointSize,R=S==="horizontal"?o:a,N=h?R.scale.domain():null,P=TZ({numericAxis:R}),U=Lo(w,zH),z=v.map(function(I,B){var F,K,W,tt,J,H;h?F=bZ(h[m+B],N):(F=Dl(I,M),Array.isArray(F)||(F=[P,F]));var q=GJ(O,oF.defaultProps.minPointSize)(F[1],B);if(S==="horizontal"){var k,it=[o.scale(F[0]),o.scale(F[1])],G=it[0],et=it[1];K=HL({axis:a,ticks:l,bandSize:r,offset:_.offset,entry:I,index:B}),W=(k=et??G)!==null&&k!==void 0?k:void 0,tt=_.size;var ot=G-et;if(J=Number.isNaN(ot)?0:ot,H={x:K,y:o.y,width:tt,height:o.height},Math.abs(q)>0&&Math.abs(J)<Math.abs(q)){var mt=Po(J||q)*(Math.abs(q)-Math.abs(J));W-=mt,J+=mt}}else{var rt=[a.scale(F[0]),a.scale(F[1])],_t=rt[0],Ut=rt[1];if(K=_t,W=HL({axis:o,ticks:c,bandSize:r,offset:_.offset,entry:I,index:B}),tt=Ut-_t,J=_.size,H={x:a.x,y:W,width:a.width,height:J},Math.abs(q)>0&&Math.abs(tt)<Math.abs(q)){var Zt=Po(tt||q)*(Math.abs(q)-Math.abs(tt));tt+=Zt}}return $i($i($i({},I),{},{x:K,y:W,width:tt,height:J,value:h?F:F[1],payload:I,background:H},U&&U[B]&&U[B].props),{},{tooltipPayload:[q5(e,I)],tooltipPosition:{x:K+tt/2,y:W+J/2}})});return $i({data:z,layout:S},y)});function ny(n){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(n)}function ttt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function rB(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,cF(i.key),i)}}function ett(n,t,e){return t&&rB(n.prototype,t),e&&rB(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function aB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ro(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?aB(Object(e),!0).forEach(function(i){VS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):aB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function VS(n,t,e){return t=cF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cF(n){var t=ntt(n,"string");return ny(t)=="symbol"?t:t+""}function ntt(n,t){if(ny(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(ny(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var itt=function(t,e,i,r,a){var o=t.width,l=t.height,c=t.layout,h=t.children,m=Object.keys(e),v={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:l-i.bottom,bottomMirror:l-i.bottom},y=!!gs(h,jh);return m.reduce(function(_,S){var E=e[S],x=E.orientation,M=E.domain,w=E.padding,O=w===void 0?{}:w,R=E.mirror,N=E.reversed,P="".concat(x).concat(R?"Mirror":""),U,z,I,B,F;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var K=M[1]-M[0],W=1/0,tt=E.categoricalDomain.sort();if(tt.forEach(function(rt,_t){_t>0&&(W=Math.min((rt||0)-(tt[_t-1]||0),W))}),Number.isFinite(W)){var J=W/K,H=E.layout==="vertical"?i.height:i.width;if(E.padding==="gap"&&(U=J*H/2),E.padding==="no-gap"){var q=Ch(t.barCategoryGap,J*H),k=J*H/2;U=k-q-(k-q)/H*q}}}r==="xAxis"?z=[i.left+(O.left||0)+(U||0),i.left+i.width-(O.right||0)-(U||0)]:r==="yAxis"?z=c==="horizontal"?[i.top+i.height-(O.bottom||0),i.top+(O.top||0)]:[i.top+(O.top||0)+(U||0),i.top+i.height-(O.bottom||0)-(U||0)]:z=E.range,N&&(z=[z[1],z[0]]);var it=vZ(E,a,y),G=it.scale,et=it.realScaleType;G.domain(M).range(z),gZ(G);var ot=AZ(G,Ro(Ro({},E),{},{realScaleType:et}));r==="xAxis"?(F=x==="top"&&!R||x==="bottom"&&R,I=i.left,B=v[P]-F*E.height):r==="yAxis"&&(F=x==="left"&&!R||x==="right"&&R,I=v[P]-F*E.width,B=i.top);var mt=Ro(Ro(Ro({},E),ot),{},{realScaleType:et,x:I,y:B,scale:G,width:r==="xAxis"?i.width:E.width,height:r==="yAxis"?i.height:E.height});return mt.bandSize=ax(mt,ot),!E.hide&&r==="xAxis"?v[P]+=(F?-1:1)*mt.height:E.hide||(v[P]+=(F?-1:1)*mt.width),Ro(Ro({},_),{},VS({},S,mt))},{})},fF=function(t,e){var i=t.x,r=t.y,a=e.x,o=e.y;return{x:Math.min(i,a),y:Math.min(r,o),width:Math.abs(a-i),height:Math.abs(o-r)}},rtt=function(t){var e=t.x1,i=t.y1,r=t.x2,a=t.y2;return fF({x:e,y:i},{x:r,y:a})},hF=function(){function n(t){ttt(this,n),this.scale=t}return ett(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.bandAware,a=i.position;if(e!==void 0){if(a)switch(a){case"start":return this.scale(e);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(e)+l}default:return this.scale(e)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}},{key:"isInRange",value:function(e){var i=this.range(),r=i[0],a=i[i.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}],[{key:"create",value:function(e){return new n(e)}}])}();VS(hF,"EPS",1e-4);var eR=function(t){var e=Object.keys(t).reduce(function(i,r){return Ro(Ro({},i),{},VS({},r,hF.create(t[r])))},{});return Ro(Ro({},e),{},{apply:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return DJ(r,function(c,h){return e[h].apply(c,{bandAware:o,position:l})})},isInRange:function(r){return sF(r,function(a,o){return e[o].isInRange(a)})}})};function att(n){return(n%180+180)%180}var stt=function(t){var e=t.width,i=t.height,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=att(r),o=a*Math.PI/180,l=Math.atan(i/e),c=o>l&&o<Math.PI-l?i/Math.sin(o):e/Math.cos(o);return Math.abs(c)},lw,sB;function ott(){if(sB)return lw;sB=1;var n=Wc(),t=Oy(),e=TS();function i(r){return function(a,o,l){var c=Object(a);if(!t(a)){var h=n(o,3);a=e(a),o=function(v){return h(c[v],v,c)}}var m=r(a,o,l);return m>-1?c[h?a[m]:m]:void 0}}return lw=i,lw}var uw,oB;function ltt(){if(oB)return uw;oB=1;var n=nF();function t(e){var i=n(e),r=i%1;return i===i?r?i-r:i:0}return uw=t,uw}var cw,lB;function utt(){if(lB)return cw;lB=1;var n=EH(),t=Wc(),e=ltt(),i=Math.max;function r(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var h=l==null?0:e(l);return h<0&&(h=i(c+h,0)),n(a,t(o,3),h)}return cw=r,cw}var fw,uB;function ctt(){if(uB)return fw;uB=1;var n=ott(),t=utt(),e=n(t);return fw=e,fw}var ftt=ctt();const htt=Gn(ftt);var dtt=F4();const ptt=Gn(dtt);var mtt=ptt(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),nR=St.createContext(void 0),iR=St.createContext(void 0),dF=St.createContext(void 0),pF=St.createContext({}),mF=St.createContext(void 0),vF=St.createContext(0),gF=St.createContext(0),cB=function(t){var e=t.state,i=e.xAxisMap,r=e.yAxisMap,a=e.offset,o=t.clipPathId,l=t.children,c=t.width,h=t.height,m=mtt(a);return gt.createElement(nR.Provider,{value:i},gt.createElement(iR.Provider,{value:r},gt.createElement(pF.Provider,{value:a},gt.createElement(dF.Provider,{value:m},gt.createElement(mF.Provider,{value:o},gt.createElement(vF.Provider,{value:h},gt.createElement(gF.Provider,{value:c},l)))))))},vtt=function(){return St.useContext(mF)},yF=function(t){var e=St.useContext(nR);e==null&&Dh();var i=e[t];return i==null&&Dh(),i},gtt=function(){var t=St.useContext(nR);return Ic(t)},ytt=function(){var t=St.useContext(iR),e=htt(t,function(i){return sF(i.domain,Number.isFinite)});return e||Ic(t)},bF=function(t){var e=St.useContext(iR);e==null&&Dh();var i=e[t];return i==null&&Dh(),i},btt=function(){var t=St.useContext(dF);return t},_tt=function(){return St.useContext(pF)},rR=function(){return St.useContext(gF)},aR=function(){return St.useContext(vF)};function Gp(n){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(n)}function xtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Stt(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,xF(i.key),i)}}function Mtt(n,t,e){return t&&Stt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ett(n,t,e){return t=bx(t),Att(n,_F()?Reflect.construct(t,e||[],bx(n).constructor):t.apply(n,e))}function Att(n,t){if(t&&(Gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ttt(n)}function Ttt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _F(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!n})()}function bx(n){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bx(n)}function wtt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&xO(n,t)}function xO(n,t){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},xO(n,t)}function fB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function hB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(e),!0).forEach(function(i){sR(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function sR(n,t,e){return t=xF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function xF(n){var t=Ott(n,"string");return Gp(t)=="symbol"?t:t+""}function Ott(n,t){if(Gp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Gp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Ctt(n,t){return Ptt(n)||Ntt(n,t)||Dtt(n,t)||Rtt()}function Rtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dtt(n,t){if(n){if(typeof n=="string")return dB(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return dB(n,t)}}function dB(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Ntt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function Ptt(n){if(Array.isArray(n))return n}function SO(){return SO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},SO.apply(this,arguments)}var Utt=function(t,e){var i;return gt.isValidElement(t)?i=gt.cloneElement(t,e):mn(t)?i=t(e):i=gt.createElement("line",SO({},e,{className:"recharts-reference-line-line"})),i},Ltt=function(t,e,i,r,a,o,l,c,h){var m=a.x,v=a.y,y=a.width,_=a.height;if(i){var S=h.y,E=t.y.apply(S,{position:o});if(Tl(h,"discard")&&!t.y.isInRange(E))return null;var x=[{x:m+y,y:E},{x:m,y:E}];return c==="left"?x.reverse():x}if(e){var M=h.x,w=t.x.apply(M,{position:o});if(Tl(h,"discard")&&!t.x.isInRange(w))return null;var O=[{x:w,y:v+_},{x:w,y:v}];return l==="top"?O.reverse():O}if(r){var R=h.segment,N=R.map(function(P){return t.apply(P,{position:o})});return Tl(h,"discard")&&wJ(N,function(P){return!t.isInRange(P)})?null:N}return null};function Itt(n){var t=n.x,e=n.y,i=n.segment,r=n.xAxisId,a=n.yAxisId,o=n.shape,l=n.className,c=n.alwaysShow,h=vtt(),m=yF(r),v=bF(a),y=btt();if(!h||!y)return null;_u(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=eR({x:m.scale,y:v.scale}),S=fr(t),E=fr(e),x=i&&i.length===2,M=Ltt(_,S,E,x,y,n.position,m.orientation,v.orientation,n);if(!M)return null;var w=Ctt(M,2),O=w[0],R=O.x,N=O.y,P=w[1],U=P.x,z=P.y,I=Tl(n,"hidden")?"url(#".concat(h,")"):void 0,B=hB(hB({clipPath:I},Ln(n,!0)),{},{x1:R,y1:N,x2:U,y2:z});return gt.createElement(Er,{className:Vn("recharts-reference-line",l)},Utt(o,B),ea.renderCallByParent(n,rtt({x1:R,y1:N,x2:U,y2:z})))}var oR=function(n){function t(){return xtt(this,t),Ett(this,t,arguments)}return wtt(t,n),Mtt(t,[{key:"render",value:function(){return gt.createElement(Itt,this.props)}}])}(gt.Component);sR(oR,"displayName","ReferenceLine");sR(oR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function MO(){return MO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},MO.apply(this,arguments)}function qp(n){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(n)}function pB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function mB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pB(Object(e),!0).forEach(function(i){GS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Btt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ztt(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,MF(i.key),i)}}function Htt(n,t,e){return t&&ztt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ftt(n,t,e){return t=_x(t),jtt(n,SF()?Reflect.construct(t,e||[],_x(n).constructor):t.apply(n,e))}function jtt(n,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vtt(n)}function Vtt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!n})()}function _x(n){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_x(n)}function Gtt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&EO(n,t)}function EO(n,t){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},EO(n,t)}function GS(n,t,e){return t=MF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function MF(n){var t=qtt(n,"string");return qp(t)=="symbol"?t:t+""}function qtt(n,t){if(qp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(qp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var ktt=function(t){var e=t.x,i=t.y,r=t.xAxis,a=t.yAxis,o=eR({x:r.scale,y:a.scale}),l=o.apply({x:e,y:i},{bandAware:!0});return Tl(t,"discard")&&!o.isInRange(l)?null:l},qS=function(n){function t(){return Btt(this,t),Ftt(this,t,arguments)}return Gtt(t,n),Htt(t,[{key:"render",value:function(){var i=this.props,r=i.x,a=i.y,o=i.r,l=i.alwaysShow,c=i.clipPathId,h=fr(r),m=fr(a);if(_u(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!m)return null;var v=ktt(this.props);if(!v)return null;var y=v.x,_=v.y,S=this.props,E=S.shape,x=S.className,M=Tl(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=mB(mB({clipPath:M},Ln(this.props,!0)),{},{cx:y,cy:_});return gt.createElement(Er,{className:Vn("recharts-reference-dot",x)},t.renderDot(E,w),ea.renderCallByParent(this.props,{x:y-o,y:_-o,width:2*o,height:2*o}))}}])}(gt.Component);GS(qS,"displayName","ReferenceDot");GS(qS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});GS(qS,"renderDot",function(n,t){var e;return gt.isValidElement(n)?e=gt.cloneElement(n,t):mn(n)?e=n(t):e=gt.createElement(eF,MO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),e});function AO(){return AO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},AO.apply(this,arguments)}function kp(n){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(n)}function vB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function gB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vB(Object(e),!0).forEach(function(i){kS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Xtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ytt(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,AF(i.key),i)}}function Wtt(n,t,e){return t&&Ytt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ztt(n,t,e){return t=xx(t),Ktt(n,EF()?Reflect.construct(t,e||[],xx(n).constructor):t.apply(n,e))}function Ktt(n,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $tt(n)}function $tt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function EF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!n})()}function xx(n){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xx(n)}function Qtt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&TO(n,t)}function TO(n,t){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},TO(n,t)}function kS(n,t,e){return t=AF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function AF(n){var t=Jtt(n,"string");return kp(t)=="symbol"?t:t+""}function Jtt(n,t){if(kp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(kp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var tet=function(t,e,i,r,a){var o=a.x1,l=a.x2,c=a.y1,h=a.y2,m=a.xAxis,v=a.yAxis;if(!m||!v)return null;var y=eR({x:m.scale,y:v.scale}),_={x:t?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:i?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:e?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:r?y.y.apply(h,{position:"end"}):y.y.rangeMax};return Tl(a,"discard")&&(!y.isInRange(_)||!y.isInRange(S))?null:fF(_,S)},XS=function(n){function t(){return Xtt(this,t),Ztt(this,t,arguments)}return Qtt(t,n),Wtt(t,[{key:"render",value:function(){var i=this.props,r=i.x1,a=i.x2,o=i.y1,l=i.y2,c=i.className,h=i.alwaysShow,m=i.clipPathId;_u(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=fr(r),y=fr(a),_=fr(o),S=fr(l),E=this.props.shape;if(!v&&!y&&!_&&!S&&!E)return null;var x=tet(v,y,_,S,this.props);if(!x&&!E)return null;var M=Tl(this.props,"hidden")?"url(#".concat(m,")"):void 0;return gt.createElement(Er,{className:Vn("recharts-reference-area",c)},t.renderRect(E,gB(gB({clipPath:M},Ln(this.props,!0)),x)),ea.renderCallByParent(this.props,x))}}])}(gt.Component);kS(XS,"displayName","ReferenceArea");kS(XS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kS(XS,"renderRect",function(n,t){var e;return gt.isValidElement(n)?e=gt.cloneElement(n,t):mn(n)?e=n(t):e=gt.createElement(tR,AO({},t,{className:"recharts-reference-area-rect"})),e});function TF(n,t,e){if(t<1)return[];if(t===1&&e===void 0)return n;for(var i=[],r=0;r<n.length;r+=t)i.push(n[r]);return i}function eet(n,t,e){var i={width:n.width+t.width,height:n.height+t.height};return stt(i,e)}function net(n,t,e){var i=e==="width",r=n.x,a=n.y,o=n.width,l=n.height;return t===1?{start:i?r:a,end:i?r+o:a+l}:{start:i?r+o:a+l,end:i?r:a}}function Sx(n,t,e,i,r){if(n*t<n*i||n*t>n*r)return!1;var a=e();return n*(t-n*a/2-i)>=0&&n*(t+n*a/2-r)<=0}function iet(n,t){return TF(n,t+1)}function ret(n,t,e,i,r){for(var a=(i||[]).slice(),o=t.start,l=t.end,c=0,h=1,m=o,v=function(){var S=i==null?void 0:i[c];if(S===void 0)return{v:TF(i,h)};var E=c,x,M=function(){return x===void 0&&(x=e(S,E)),x},w=S.coordinate,O=c===0||Sx(n,w,M,m,l);O||(c=0,m=o,h+=1),O&&(m=w+n*(M()/2+r),c+=h)},y;h<=a.length;)if(y=v(),y)return y.v;return[]}function iy(n){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(n)}function yB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Jr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(e),!0).forEach(function(i){aet(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):yB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function aet(n,t,e){return t=set(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function set(n){var t=oet(n,"string");return iy(t)=="symbol"?t:t+""}function oet(n,t){if(iy(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(iy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function uet(n,t,e,i,r){for(var a=(i||[]).slice(),o=a.length,l=t.start,c=t.end,h=function(y){var _=a[y],S,E=function(){return S===void 0&&(S=e(_,y)),S};if(y===o-1){var x=n*(_.coordinate+n*E()/2-c);a[y]=_=Jr(Jr({},_),{},{tickCoord:x>0?_.coordinate-x*n:_.coordinate})}else a[y]=_=Jr(Jr({},_),{},{tickCoord:_.coordinate});var M=Sx(n,_.tickCoord,E,l,c);M&&(c=_.tickCoord-n*(E()/2+r),a[y]=Jr(Jr({},_),{},{isShow:!0}))},m=o-1;m>=0;m--)h(m);return a}function cet(n,t,e,i,r,a){var o=(i||[]).slice(),l=o.length,c=t.start,h=t.end;if(a){var m=i[l-1],v=e(m,l-1),y=n*(m.coordinate+n*v/2-h);o[l-1]=m=Jr(Jr({},m),{},{tickCoord:y>0?m.coordinate-y*n:m.coordinate});var _=Sx(n,m.tickCoord,function(){return v},c,h);_&&(h=m.tickCoord-n*(v/2+r),o[l-1]=Jr(Jr({},m),{},{isShow:!0}))}for(var S=a?l-1:l,E=function(w){var O=o[w],R,N=function(){return R===void 0&&(R=e(O,w)),R};if(w===0){var P=n*(O.coordinate-n*N()/2-c);o[w]=O=Jr(Jr({},O),{},{tickCoord:P<0?O.coordinate-P*n:O.coordinate})}else o[w]=O=Jr(Jr({},O),{},{tickCoord:O.coordinate});var U=Sx(n,O.tickCoord,N,c,h);U&&(c=O.tickCoord+n*(N()/2+r),o[w]=Jr(Jr({},O),{},{isShow:!0}))},x=0;x<S;x++)E(x);return o}function lR(n,t,e){var i=n.tick,r=n.ticks,a=n.viewBox,o=n.minTickGap,l=n.orientation,c=n.interval,h=n.tickFormatter,m=n.unit,v=n.angle;if(!r||!r.length||!i)return[];if(de(c)||Cy.isSsr)return iet(r,typeof c=="number"&&de(c)?c:0);var y=[],_=l==="top"||l==="bottom"?"width":"height",S=m&&_==="width"?ug(m,{fontSize:t,letterSpacing:e}):{width:0,height:0},E=function(O,R){var N=mn(h)?h(O.value,R):O.value;return _==="width"?eet(ug(N,{fontSize:t,letterSpacing:e}),S,v):ug(N,{fontSize:t,letterSpacing:e})[_]},x=r.length>=2?Po(r[1].coordinate-r[0].coordinate):1,M=net(a,x,_);return c==="equidistantPreserveStart"?ret(x,M,E,r,o):(c==="preserveStart"||c==="preserveStartEnd"?y=cet(x,M,E,r,o,c==="preserveStartEnd"):y=uet(x,M,E,r,o),y.filter(function(w){return w.isShow}))}var fet=["viewBox"],het=["viewBox"],det=["ticks"];function Xp(n){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(n)}function bp(){return bp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bp.apply(this,arguments)}function bB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ma(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?bB(Object(e),!0).forEach(function(i){uR(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):bB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function hw(n,t){if(n==null)return{};var e=pet(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function pet(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function met(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _B(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,OF(i.key),i)}}function vet(n,t,e){return t&&_B(n.prototype,t),e&&_B(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function get(n,t,e){return t=Mx(t),yet(n,wF()?Reflect.construct(t,e||[],Mx(n).constructor):t.apply(n,e))}function yet(n,t){if(t&&(Xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bet(n)}function bet(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!n})()}function Mx(n){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mx(n)}function _et(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&wO(n,t)}function wO(n,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},wO(n,t)}function uR(n,t,e){return t=OF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function OF(n){var t=xet(n,"string");return Xp(t)=="symbol"?t:t+""}function xet(n,t){if(Xp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Xp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var pm=function(n){function t(e){var i;return met(this,t),i=get(this,t,[e]),i.state={fontSize:"",letterSpacing:""},i}return _et(t,n),vet(t,[{key:"shouldComponentUpdate",value:function(i,r){var a=i.viewBox,o=hw(i,fet),l=this.props,c=l.viewBox,h=hw(l,het);return!Ap(a,c)||!Ap(o,h)||!Ap(r,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var r=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];r&&this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var r=this.props,a=r.x,o=r.y,l=r.width,c=r.height,h=r.orientation,m=r.tickSize,v=r.mirror,y=r.tickMargin,_,S,E,x,M,w,O=v?-1:1,R=i.tickSize||m,N=de(i.tickCoord)?i.tickCoord:i.coordinate;switch(h){case"top":_=S=i.coordinate,x=o+ +!v*c,E=x-O*R,w=E-O*y,M=N;break;case"left":E=x=i.coordinate,S=a+ +!v*l,_=S-O*R,M=_-O*y,w=N;break;case"right":E=x=i.coordinate,S=a+ +v*l,_=S+O*R,M=_+O*y,w=N;break;default:_=S=i.coordinate,x=o+ +v*c,E=x+O*R,w=E+O*y,M=N;break}return{line:{x1:_,y1:E,x2:S,y2:x},tick:{x:M,y:w}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,r=i.orientation,a=i.mirror,o;switch(r){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,r=i.orientation,a=i.mirror,o="end";switch(r){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var i=this.props,r=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,h=i.mirror,m=i.axisLine,v=Ma(Ma(Ma({},Ln(this.props,!1)),Ln(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!h||c==="bottom"&&h);v=Ma(Ma({},v),{},{x1:r,y1:a+y*l,x2:r+o,y2:a+y*l})}else{var _=+(c==="left"&&!h||c==="right"&&h);v=Ma(Ma({},v),{},{x1:r+_*o,y1:a,x2:r+_*o,y2:a+l})}return gt.createElement("line",bp({},v,{className:Vn("recharts-cartesian-axis-line",Ys(m,"className"))}))}},{key:"renderTicks",value:function(i,r,a){var o=this,l=this.props,c=l.tickLine,h=l.stroke,m=l.tick,v=l.tickFormatter,y=l.unit,_=lR(Ma(Ma({},this.props),{},{ticks:i}),r,a),S=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),x=Ln(this.props,!1),M=Ln(m,!1),w=Ma(Ma({},x),{},{fill:"none"},Ln(c,!1)),O=_.map(function(R,N){var P=o.getTickLineCoord(R),U=P.line,z=P.tick,I=Ma(Ma(Ma(Ma({textAnchor:S,verticalAnchor:E},x),{},{stroke:"none",fill:h},M),z),{},{index:N,payload:R,visibleTicksCount:_.length,tickFormatter:v});return gt.createElement(Er,bp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},U_(o.props,R,N)),c&&gt.createElement("line",bp({},w,U,{className:Vn("recharts-cartesian-axis-tick-line",Ys(c,"className"))})),m&&t.renderTickItem(m,I,"".concat(mn(v)?v(R.value,N):R.value).concat(y||"")))});return gt.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var i=this,r=this.props,a=r.axisLine,o=r.width,l=r.height,c=r.ticksGenerator,h=r.className,m=r.hide;if(m)return null;var v=this.props,y=v.ticks,_=hw(v,det),S=y;return mn(c)&&(S=y&&y.length>0?c(this.props):c(_)),o<=0||l<=0||!S||!S.length?null:gt.createElement(Er,{className:Vn("recharts-cartesian-axis",h),ref:function(x){i.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),ea.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,r,a){var o;return gt.isValidElement(i)?o=gt.cloneElement(i,r):mn(i)?o=i(r):o=gt.createElement(k_,bp({},r,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(St.Component);uR(pm,"displayName","CartesianAxis");uR(pm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Met=["x1","y1","x2","y2","key"],Eet=["offset"];function Nh(n){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(n)}function xB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function na(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xB(Object(e),!0).forEach(function(i){Aet(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):xB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Aet(n,t,e){return t=Tet(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Tet(n){var t=wet(n,"string");return Nh(t)=="symbol"?t:t+""}function wet(n,t){if(Nh(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Nh(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bh(){return bh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bh.apply(this,arguments)}function SB(n,t){if(n==null)return{};var e=Oet(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Oet(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}var Cet=function(t){var e=t.fill;if(!e||e==="none")return null;var i=t.fillOpacity,r=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return gt.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function CF(n,t){var e;if(gt.isValidElement(n))e=gt.cloneElement(n,t);else if(mn(n))e=n(t);else{var i=t.x1,r=t.y1,a=t.x2,o=t.y2,l=t.key,c=SB(t,Met),h=Ln(c,!1);h.offset;var m=SB(h,Eet);e=gt.createElement("line",bh({},m,{x1:i,y1:r,x2:a,y2:o,fill:"none",key:l}))}return e}function Ret(n){var t=n.x,e=n.width,i=n.horizontal,r=i===void 0?!0:i,a=n.horizontalPoints;if(!r||!a||!a.length)return null;var o=a.map(function(l,c){var h=na(na({},n),{},{x1:t,y1:l,x2:t+e,y2:l,key:"line-".concat(c),index:c});return CF(r,h)});return gt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Det(n){var t=n.y,e=n.height,i=n.vertical,r=i===void 0?!0:i,a=n.verticalPoints;if(!r||!a||!a.length)return null;var o=a.map(function(l,c){var h=na(na({},n),{},{x1:l,y1:t,x2:l,y2:t+e,key:"line-".concat(c),index:c});return CF(r,h)});return gt.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Net(n){var t=n.horizontalFill,e=n.fillOpacity,i=n.x,r=n.y,a=n.width,o=n.height,l=n.horizontalPoints,c=n.horizontal,h=c===void 0?!0:c;if(!h||!t||!t.length)return null;var m=l.map(function(y){return Math.round(y+r-r)}).sort(function(y,_){return y-_});r!==m[0]&&m.unshift(0);var v=m.map(function(y,_){var S=!m[_+1],E=S?r+o-y:m[_+1]-y;if(E<=0)return null;var x=_%t.length;return gt.createElement("rect",{key:"react-".concat(_),y,x:i,height:E,width:a,stroke:"none",fill:t[x],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return gt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function Pet(n){var t=n.vertical,e=t===void 0?!0:t,i=n.verticalFill,r=n.fillOpacity,a=n.x,o=n.y,l=n.width,c=n.height,h=n.verticalPoints;if(!e||!i||!i.length)return null;var m=h.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==m[0]&&m.unshift(0);var v=m.map(function(y,_){var S=!m[_+1],E=S?a+l-y:m[_+1]-y;if(E<=0)return null;var x=_%i.length;return gt.createElement("rect",{key:"react-".concat(_),x:y,y:o,width:E,height:c,stroke:"none",fill:i[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return gt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var Uet=function(t,e){var i=t.xAxis,r=t.width,a=t.height,o=t.offset;return V5(lR(na(na(na({},pm.defaultProps),i),{},{ticks:gu(i,!0),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},Let=function(t,e){var i=t.yAxis,r=t.width,a=t.height,o=t.offset;return V5(lR(na(na(na({},pm.defaultProps),i),{},{ticks:gu(i,!0),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},Kd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function RF(n){var t,e,i,r,a,o,l=rR(),c=aR(),h=_tt(),m=na(na({},n),{},{stroke:(t=n.stroke)!==null&&t!==void 0?t:Kd.stroke,fill:(e=n.fill)!==null&&e!==void 0?e:Kd.fill,horizontal:(i=n.horizontal)!==null&&i!==void 0?i:Kd.horizontal,horizontalFill:(r=n.horizontalFill)!==null&&r!==void 0?r:Kd.horizontalFill,vertical:(a=n.vertical)!==null&&a!==void 0?a:Kd.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:Kd.verticalFill,x:de(n.x)?n.x:h.left,y:de(n.y)?n.y:h.top,width:de(n.width)?n.width:h.width,height:de(n.height)?n.height:h.height}),v=m.x,y=m.y,_=m.width,S=m.height,E=m.syncWithTicks,x=m.horizontalValues,M=m.verticalValues,w=gtt(),O=ytt();if(!de(_)||_<=0||!de(S)||S<=0||!de(v)||v!==+v||!de(y)||y!==+y)return null;var R=m.verticalCoordinatesGenerator||Uet,N=m.horizontalCoordinatesGenerator||Let,P=m.horizontalPoints,U=m.verticalPoints;if((!P||!P.length)&&mn(N)){var z=x&&x.length,I=N({yAxis:O?na(na({},O),{},{ticks:z?x:O.ticks}):void 0,width:l,height:c,offset:h},z?!0:E);_u(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nh(I),"]")),Array.isArray(I)&&(P=I)}if((!U||!U.length)&&mn(R)){var B=M&&M.length,F=R({xAxis:w?na(na({},w),{},{ticks:B?M:w.ticks}):void 0,width:l,height:c,offset:h},B?!0:E);_u(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nh(F),"]")),Array.isArray(F)&&(U=F)}return gt.createElement("g",{className:"recharts-cartesian-grid"},gt.createElement(Cet,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),gt.createElement(Ret,bh({},m,{offset:h,horizontalPoints:P,xAxis:w,yAxis:O})),gt.createElement(Det,bh({},m,{offset:h,verticalPoints:U,xAxis:w,yAxis:O})),gt.createElement(Net,bh({},m,{horizontalPoints:P})),gt.createElement(Pet,bh({},m,{verticalPoints:U})))}RF.displayName="CartesianGrid";function Yp(n){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(n)}function Iet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Bet(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,PF(i.key),i)}}function zet(n,t,e){return t&&Bet(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Het(n,t,e){return t=Ex(t),Fet(n,DF()?Reflect.construct(t,e||[],Ex(n).constructor):t.apply(n,e))}function Fet(n,t){if(t&&(Yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jet(n)}function jet(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!n})()}function Ex(n){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ex(n)}function Vet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&OO(n,t)}function OO(n,t){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},OO(n,t)}function NF(n,t,e){return t=PF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function PF(n){var t=Get(n,"string");return Yp(t)=="symbol"?t:t+""}function Get(n,t){if(Yp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Yp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function CO(){return CO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},CO.apply(this,arguments)}function qet(n){var t=n.xAxisId,e=rR(),i=aR(),r=yF(t);return r==null?null:gt.createElement(pm,CO({},r,{className:Vn("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:e,height:i},ticksGenerator:function(o){return gu(o,!0)}}))}var YS=function(n){function t(){return Iet(this,t),Het(this,t,arguments)}return Vet(t,n),zet(t,[{key:"render",value:function(){return gt.createElement(qet,this.props)}}])}(gt.Component);NF(YS,"displayName","XAxis");NF(YS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wp(n){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(n)}function ket(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Xet(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,IF(i.key),i)}}function Yet(n,t,e){return t&&Xet(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Wet(n,t,e){return t=Ax(t),Zet(n,UF()?Reflect.construct(t,e||[],Ax(n).constructor):t.apply(n,e))}function Zet(n,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ket(n)}function Ket(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function UF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!n})()}function Ax(n){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ax(n)}function $et(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&RO(n,t)}function RO(n,t){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},RO(n,t)}function LF(n,t,e){return t=IF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function IF(n){var t=Qet(n,"string");return Wp(t)=="symbol"?t:t+""}function Qet(n,t){if(Wp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Wp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function DO(){return DO=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},DO.apply(this,arguments)}var Jet=function(t){var e=t.yAxisId,i=rR(),r=aR(),a=bF(e);return a==null?null:gt.createElement(pm,DO({},a,{className:Vn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:r},ticksGenerator:function(l){return gu(l,!0)}}))},WS=function(n){function t(){return ket(this,t),Wet(this,t,arguments)}return $et(t,n),Yet(t,[{key:"render",value:function(){return gt.createElement(Jet,this.props)}}])}(gt.Component);LF(WS,"displayName","YAxis");LF(WS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MB(n){return int(n)||nnt(n)||ent(n)||tnt()}function tnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ent(n,t){if(n){if(typeof n=="string")return NO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return NO(n,t)}}function nnt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function int(n){if(Array.isArray(n))return NO(n)}function NO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var PO=function(t,e,i,r,a){var o=Lo(t,oR),l=Lo(t,qS),c=[].concat(MB(o),MB(l)),h=Lo(t,XS),m="".concat(r,"Id"),v=r[0],y=e;if(c.length&&(y=c.reduce(function(E,x){if(x.props[m]===i&&Tl(x.props,"extendDomain")&&de(x.props[v])){var M=x.props[v];return[Math.min(E[0],M),Math.max(E[1],M)]}return E},y)),h.length){var _="".concat(v,"1"),S="".concat(v,"2");y=h.reduce(function(E,x){if(x.props[m]===i&&Tl(x.props,"extendDomain")&&de(x.props[_])&&de(x.props[S])){var M=x.props[_],w=x.props[S];return[Math.min(E[0],M,w),Math.max(E[1],M,w)]}return E},y)}return a&&a.length&&(y=a.reduce(function(E,x){return de(x)?[Math.min(E[0],x),Math.max(E[1],x)]:E},y)),y},dw={exports:{}},EB;function rnt(){return EB||(EB=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(c,h,m){this.fn=c,this.context=h,this.once=m||!1}function a(c,h,m,v,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new r(m,v||c,y),S=e?e+h:h;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],_]:c._events[S].push(_):(c._events[S]=_,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new i:delete c._events[h]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],m,v;if(this._eventsCount===0)return h;for(v in m=this._events)t.call(m,v)&&h.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},l.prototype.listeners=function(h){var m=e?e+h:h,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,_=v.length,S=new Array(_);y<_;y++)S[y]=v[y].fn;return S},l.prototype.listenerCount=function(h){var m=e?e+h:h,v=this._events[m];return v?v.fn?1:v.length:0},l.prototype.emit=function(h,m,v,y,_,S){var E=e?e+h:h;if(!this._events[E])return!1;var x=this._events[E],M=arguments.length,w,O;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),M){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,v),!0;case 4:return x.fn.call(x.context,m,v,y),!0;case 5:return x.fn.call(x.context,m,v,y,_),!0;case 6:return x.fn.call(x.context,m,v,y,_,S),!0}for(O=1,w=new Array(M-1);O<M;O++)w[O-1]=arguments[O];x.fn.apply(x.context,w)}else{var R=x.length,N;for(O=0;O<R;O++)switch(x[O].once&&this.removeListener(h,x[O].fn,void 0,!0),M){case 1:x[O].fn.call(x[O].context);break;case 2:x[O].fn.call(x[O].context,m);break;case 3:x[O].fn.call(x[O].context,m,v);break;case 4:x[O].fn.call(x[O].context,m,v,y);break;default:if(!w)for(N=1,w=new Array(M-1);N<M;N++)w[N-1]=arguments[N];x[O].fn.apply(x[O].context,w)}}return!0},l.prototype.on=function(h,m,v){return a(this,h,m,v,!1)},l.prototype.once=function(h,m,v){return a(this,h,m,v,!0)},l.prototype.removeListener=function(h,m,v,y){var _=e?e+h:h;if(!this._events[_])return this;if(!m)return o(this,_),this;var S=this._events[_];if(S.fn)S.fn===m&&(!y||S.once)&&(!v||S.context===v)&&o(this,_);else{for(var E=0,x=[],M=S.length;E<M;E++)(S[E].fn!==m||y&&!S[E].once||v&&S[E].context!==v)&&x.push(S[E]);x.length?this._events[_]=x.length===1?x[0]:x:o(this,_)}return this},l.prototype.removeAllListeners=function(h){var m;return h?(m=e?e+h:h,this._events[m]&&o(this,m)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,n.exports=l}(dw)),dw.exports}var ant=rnt();const snt=Gn(ant);var pw=new snt,mw="recharts.syncMouseEvents";function ry(n){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(n)}function ont(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function lnt(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,BF(i.key),i)}}function unt(n,t,e){return t&&lnt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function vw(n,t,e){return t=BF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function BF(n){var t=cnt(n,"string");return ry(t)=="symbol"?t:t+""}function cnt(n,t){if(ry(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(ry(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var fnt=function(){function n(){ont(this,n),vw(this,"activeIndex",0),vw(this,"coordinateList",[]),vw(this,"layout","horizontal")}return unt(n,[{key:"setDetails",value:function(e){var i,r=e.coordinateList,a=r===void 0?null:r,o=e.container,l=o===void 0?null:o,c=e.layout,h=c===void 0?null:c,m=e.offset,v=m===void 0?null:m,y=e.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(i=a??this.coordinateList)!==null&&i!==void 0?i:[],this.container=l??this.container,this.layout=h??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(this.coordinateList.length!==0)switch(e.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),a=r.x,o=r.y,l=r.height,c=this.coordinateList[this.activeIndex].coordinate,h=((e=window)===null||e===void 0?void 0:e.scrollX)||0,m=((i=window)===null||i===void 0?void 0:i.scrollY)||0,v=a+c+h,y=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:v,pageY:y})}}}])}();function hnt(n,t,e){if(e==="number"&&t===!0&&Array.isArray(n)){var i=n==null?void 0:n[0],r=n==null?void 0:n[1];if(i&&r&&de(i)&&de(r))return!0}return!1}function dnt(n,t,e,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-r:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-r,width:n==="horizontal"?i:e.width-1,height:n==="horizontal"?e.height-1:i}}function zF(n){var t=n.cx,e=n.cy,i=n.radius,r=n.startAngle,a=n.endAngle,o=zr(t,e,i,r),l=zr(t,e,i,a);return{points:[o,l],cx:t,cy:e,radius:i,startAngle:r,endAngle:a}}function pnt(n,t,e){var i,r,a,o;if(n==="horizontal")i=t.x,a=i,r=e.top,o=e.top+e.height;else if(n==="vertical")r=t.y,o=r,i=e.left,a=e.left+e.width;else if(t.cx!=null&&t.cy!=null)if(n==="centric"){var l=t.cx,c=t.cy,h=t.innerRadius,m=t.outerRadius,v=t.angle,y=zr(l,c,h,v),_=zr(l,c,m,v);i=y.x,r=y.y,a=_.x,o=_.y}else return zF(t);return[{x:i,y:r},{x:a,y:o}]}function ay(n){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(n)}function AB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Db(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(e),!0).forEach(function(i){mnt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):AB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function mnt(n,t,e){return t=vnt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vnt(n){var t=gnt(n,"string");return ay(t)=="symbol"?t:t+""}function gnt(n,t){if(ay(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(ay(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ynt(n){var t,e,i=n.element,r=n.tooltipEventType,a=n.isActive,o=n.activeCoordinate,l=n.activePayload,c=n.offset,h=n.activeTooltipIndex,m=n.tooltipAxisBandSize,v=n.layout,y=n.chartName,_=(t=i.props.cursor)!==null&&t!==void 0?t:(e=i.type.defaultProps)===null||e===void 0?void 0:e.cursor;if(!i||!_||!a||!o||y!=="ScatterChart"&&r!=="axis")return null;var S,E=nI;if(y==="ScatterChart")S=o,E=wQ;else if(y==="BarChart")S=dnt(v,o,c,m),E=tR;else if(v==="radial"){var x=zF(o),M=x.cx,w=x.cy,O=x.radius,R=x.startAngle,N=x.endAngle;S={cx:M,cy:w,startAngle:R,endAngle:N,innerRadius:O,outerRadius:O},E=Y5}else S={points:pnt(v,o,c)},E=nI;var P=Db(Db(Db(Db({stroke:"#ccc",pointerEvents:"none"},c),S),Ln(_,!1)),{},{payload:l,payloadIndex:h,className:Vn("recharts-tooltip-cursor",_.className)});return St.isValidElement(_)?St.cloneElement(_,P):St.createElement(E,P)}var bnt=["item"],_nt=["children","className","width","height","style","compact","title","desc"];function Zp(n){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(n)}function _p(){return _p=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_p.apply(this,arguments)}function TB(n,t){return Mnt(n)||Snt(n,t)||FF(n,t)||xnt()}function xnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Snt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(i=a.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(m){h=!0,r=m}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function Mnt(n){if(Array.isArray(n))return n}function wB(n,t){if(n==null)return{};var e=Ent(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Ent(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Ant(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Tnt(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,jF(i.key),i)}}function wnt(n,t,e){return t&&Tnt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ont(n,t,e){return t=Tx(t),Cnt(n,HF()?Reflect.construct(t,e||[],Tx(n).constructor):t.apply(n,e))}function Cnt(n,t){if(t&&(Zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rnt(n)}function Rnt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function HF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!n})()}function Tx(n){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tx(n)}function Dnt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&UO(n,t)}function UO(n,t){return UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},UO(n,t)}function Kp(n){return Unt(n)||Pnt(n)||FF(n)||Nnt()}function Nnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FF(n,t){if(n){if(typeof n=="string")return LO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return LO(n,t)}}function Pnt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Unt(n){if(Array.isArray(n))return LO(n)}function LO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function OB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Vt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(e),!0).forEach(function(i){je(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):OB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function je(n,t,e){return t=jF(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jF(n){var t=Lnt(n,"string");return Zp(t)=="symbol"?t:t+""}function Lnt(n,t){if(Zp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(Zp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Int={xAxis:["bottom","top"],yAxis:["left","right"]},Bnt={width:"100%",height:"100%"},VF={x:0,y:0};function Nb(n){return n}var znt=function(t,e){return e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius},Hnt=function(t,e,i,r){var a=e.find(function(m){return m&&m.index===i});if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=r.radius;return Vt(Vt(Vt({},r),zr(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,h=r.angle;return Vt(Vt(Vt({},r),zr(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return VF},ZS=function(t,e){var i=e.graphicalItems,r=e.dataStartIndex,a=e.dataEndIndex,o=(i??[]).reduce(function(l,c){var h=c.props.data;return h&&h.length?[].concat(Kp(l),Kp(h)):l},[]);return o.length>0?o:t&&t.length&&de(r)&&de(a)?t.slice(r,a+1):[]};function GF(n){return n==="number"?[0,"auto"]:void 0}var IO=function(t,e,i,r){var a=t.graphicalItems,o=t.tooltipAxis,l=ZS(e,t);return i<0||!a||!a.length||i>=l.length?null:a.reduce(function(c,h){var m,v=(m=h.props.data)!==null&&m!==void 0?m:e;v&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=i&&(v=v.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var _=v===void 0?l:v;y=S2(_,o.dataKey,r)}else y=v&&v[i]||l[i];return y?[].concat(Kp(c),[q5(h,y)]):c},[])},CB=function(t,e,i,r){var a=r||{x:t.chartX,y:t.chartY},o=znt(a,i),l=t.orderedTooltipTicks,c=t.tooltipAxis,h=t.tooltipTicks,m=cZ(o,l,h,c);if(m>=0&&h){var v=h[m]&&h[m].value,y=IO(t,e,m,v),_=Hnt(i,l,m,a);return{activeTooltipIndex:m,activeLabel:v,activePayload:y,activeCoordinate:_}}return null},Fnt=function(t,e){var i=e.axes,r=e.graphicalItems,a=e.axisType,o=e.axisIdKey,l=e.stackGroups,c=e.dataStartIndex,h=e.dataEndIndex,m=t.layout,v=t.children,y=t.stackOffset,_=j5(m,a);return i.reduce(function(S,E){var x,M=E.type.defaultProps!==void 0?Vt(Vt({},E.type.defaultProps),E.props):E.props,w=M.type,O=M.dataKey,R=M.allowDataOverflow,N=M.allowDuplicatedCategory,P=M.scale,U=M.ticks,z=M.includeHidden,I=M[o];if(S[I])return S;var B=ZS(t.data,{graphicalItems:r.filter(function(ot){var mt,rt=o in ot.props?ot.props[o]:(mt=ot.type.defaultProps)===null||mt===void 0?void 0:mt[o];return rt===I}),dataStartIndex:c,dataEndIndex:h}),F=B.length,K,W,tt;hnt(M.domain,R,w)&&(K=nO(M.domain,null,R),_&&(w==="number"||P!=="auto")&&(tt=fg(B,O,"category")));var J=GF(w);if(!K||K.length===0){var H,q=(H=M.domain)!==null&&H!==void 0?H:J;if(O){if(K=fg(B,O,w),w==="category"&&_){var k=nG(K);N&&k?(W=K,K=px(0,F)):N||(K=VL(q,K,E).reduce(function(ot,mt){return ot.indexOf(mt)>=0?ot:[].concat(Kp(ot),[mt])},[]))}else if(w==="category")N?K=K.filter(function(ot){return ot!==""&&!jn(ot)}):K=VL(q,K,E).reduce(function(ot,mt){return ot.indexOf(mt)>=0||mt===""||jn(mt)?ot:[].concat(Kp(ot),[mt])},[]);else if(w==="number"){var it=mZ(B,r.filter(function(ot){var mt,rt,_t=o in ot.props?ot.props[o]:(mt=ot.type.defaultProps)===null||mt===void 0?void 0:mt[o],Ut="hide"in ot.props?ot.props.hide:(rt=ot.type.defaultProps)===null||rt===void 0?void 0:rt.hide;return _t===I&&(z||!Ut)}),O,a,m);it&&(K=it)}_&&(w==="number"||P!=="auto")&&(tt=fg(B,O,"category"))}else _?K=px(0,F):l&&l[I]&&l[I].hasStack&&w==="number"?K=y==="expand"?[0,1]:G5(l[I].stackGroups,c,h):K=F5(B,r.filter(function(ot){var mt=o in ot.props?ot.props[o]:ot.type.defaultProps[o],rt="hide"in ot.props?ot.props.hide:ot.type.defaultProps.hide;return mt===I&&(z||!rt)}),w,m,!0);if(w==="number")K=PO(v,K,I,a,U),q&&(K=nO(q,K,R));else if(w==="category"&&q){var G=q,et=K.every(function(ot){return G.indexOf(ot)>=0});et&&(K=G)}}return Vt(Vt({},S),{},je({},I,Vt(Vt({},M),{},{axisType:a,domain:K,categoricalDomain:tt,duplicateDomain:W,originalDomain:(x=M.domain)!==null&&x!==void 0?x:J,isCategorical:_,layout:m})))},{})},jnt=function(t,e){var i=e.graphicalItems,r=e.Axis,a=e.axisType,o=e.axisIdKey,l=e.stackGroups,c=e.dataStartIndex,h=e.dataEndIndex,m=t.layout,v=t.children,y=ZS(t.data,{graphicalItems:i,dataStartIndex:c,dataEndIndex:h}),_=y.length,S=j5(m,a),E=-1;return i.reduce(function(x,M){var w=M.type.defaultProps!==void 0?Vt(Vt({},M.type.defaultProps),M.props):M.props,O=w[o],R=GF("number");if(!x[O]){E++;var N;return S?N=px(0,_):l&&l[O]&&l[O].hasStack?(N=G5(l[O].stackGroups,c,h),N=PO(v,N,O,a)):(N=nO(R,F5(y,i.filter(function(P){var U,z,I=o in P.props?P.props[o]:(U=P.type.defaultProps)===null||U===void 0?void 0:U[o],B="hide"in P.props?P.props.hide:(z=P.type.defaultProps)===null||z===void 0?void 0:z.hide;return I===O&&!B}),"number",m),r.defaultProps.allowDataOverflow),N=PO(v,N,O,a)),Vt(Vt({},x),{},je({},O,Vt(Vt({axisType:a},r.defaultProps),{},{hide:!0,orientation:Ys(Int,"".concat(a,".").concat(E%2),null),domain:N,originalDomain:R,isCategorical:S,layout:m})))}return x},{})},Vnt=function(t,e){var i=e.axisType,r=i===void 0?"xAxis":i,a=e.AxisComp,o=e.graphicalItems,l=e.stackGroups,c=e.dataStartIndex,h=e.dataEndIndex,m=t.children,v="".concat(r,"Id"),y=Lo(m,a),_={};return y&&y.length?_=Fnt(t,{axes:y,graphicalItems:o,axisType:r,axisIdKey:v,stackGroups:l,dataStartIndex:c,dataEndIndex:h}):o&&o.length&&(_=jnt(t,{Axis:a,graphicalItems:o,axisType:r,axisIdKey:v,stackGroups:l,dataStartIndex:c,dataEndIndex:h})),_},Gnt=function(t){var e=Ic(t),i=gu(e,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:TC(i,function(r){return r.coordinate}),tooltipAxis:e,tooltipAxisBandSize:ax(e,i)}},RB=function(t){var e=t.children,i=t.defaultShowTooltip,r=gs(e,jp),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!i}},qnt=function(t){return!t||!t.length?!1:t.some(function(e){var i=bu(e&&e.type);return i&&i.indexOf("Bar")>=0})},DB=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},knt=function(t,e){var i=t.props,r=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,h=i.width,m=i.height,v=i.children,y=i.margin||{},_=gs(v,jp),S=gs(v,Tp),E=Object.keys(c).reduce(function(N,P){var U=c[P],z=U.orientation;return!U.mirror&&!U.hide?Vt(Vt({},N),{},je({},z,N[z]+U.width)):N},{left:y.left||0,right:y.right||0}),x=Object.keys(o).reduce(function(N,P){var U=o[P],z=U.orientation;return!U.mirror&&!U.hide?Vt(Vt({},N),{},je({},z,Ys(N,"".concat(z))+U.height)):N},{top:y.top||0,bottom:y.bottom||0}),M=Vt(Vt({},x),E),w=M.bottom;_&&(M.bottom+=_.props.height||jp.defaultProps.height),S&&e&&(M=dZ(M,r,i,e));var O=h-M.left-M.right,R=m-M.top-M.bottom;return Vt(Vt({brushBottom:w},M),{},{width:Math.max(O,0),height:Math.max(R,0)})},Xnt=function(t,e){if(e==="xAxis")return t[e].width;if(e==="yAxis")return t[e].height},Ynt=function(t){var e=t.chartName,i=t.GraphicalChild,r=t.defaultTooltipEventType,a=r===void 0?"axis":r,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,v=t.defaultProps,y=function(M,w){var O=w.graphicalItems,R=w.stackGroups,N=w.offset,P=w.updateId,U=w.dataStartIndex,z=w.dataEndIndex,I=M.barSize,B=M.layout,F=M.barGap,K=M.barCategoryGap,W=M.maxBarSize,tt=DB(B),J=tt.numericAxisName,H=tt.cateAxisName,q=qnt(O),k=[];return O.forEach(function(it,G){var et=ZS(M.data,{graphicalItems:[it],dataStartIndex:U,dataEndIndex:z}),ot=it.type.defaultProps!==void 0?Vt(Vt({},it.type.defaultProps),it.props):it.props,mt=ot.dataKey,rt=ot.maxBarSize,_t=ot["".concat(J,"Id")],Ut=ot["".concat(H,"Id")],Zt={},$t=c.reduce(function($,V){var pt=w["".concat(V.axisType,"Map")],Nt=ot["".concat(V.axisType,"Id")];pt&&pt[Nt]||V.axisType==="zAxis"||Dh();var jt=pt[Nt];return Vt(Vt({},$),{},je(je({},V.axisType,jt),"".concat(V.axisType,"Ticks"),gu(jt)))},Zt),wt=$t[H],Qt=$t["".concat(H,"Ticks")],se=R&&R[_t]&&R[_t].hasStack&&wZ(it,R[_t].stackGroups),Lt=bu(it.type).indexOf("Bar")>=0,be=ax(wt,Qt),nt=[],Be=q&&fZ({barSize:I,stackGroups:R,totalSize:Xnt($t,H)});if(Lt){var It,Pt,Ht=jn(rt)?W:rt,ne=(It=(Pt=ax(wt,Qt,!0))!==null&&Pt!==void 0?Pt:Ht)!==null&&It!==void 0?It:0;nt=hZ({barGap:F,barCategoryGap:K,bandSize:ne!==be?ne:be,sizeList:Be[Ut],maxBarSize:Ht}),ne!==be&&(nt=nt.map(function($){return Vt(Vt({},$),{},{position:Vt(Vt({},$.position),{},{offset:$.position.offset-ne/2})})}))}var Bt=it&&it.type&&it.type.getComposedData;Bt&&k.push({props:Vt(Vt({},Bt(Vt(Vt({},$t),{},{displayedData:et,props:M,dataKey:mt,item:it,bandSize:be,barPosition:nt,offset:N,stackedData:se,layout:B,dataStartIndex:U,dataEndIndex:z}))),{},je(je(je({key:it.key||"item-".concat(G)},J,$t[J]),H,$t[H]),"animationId",P)),childIndex:dG(it,M.children),item:it})}),k},_=function(M,w){var O=M.props,R=M.dataStartIndex,N=M.dataEndIndex,P=M.updateId;if(!iN({props:O}))return null;var U=O.children,z=O.layout,I=O.stackOffset,B=O.data,F=O.reverseStackOrder,K=DB(z),W=K.numericAxisName,tt=K.cateAxisName,J=Lo(U,i),H=EZ(B,J,"".concat(W,"Id"),"".concat(tt,"Id"),I,F),q=c.reduce(function(ot,mt){var rt="".concat(mt.axisType,"Map");return Vt(Vt({},ot),{},je({},rt,Vnt(O,Vt(Vt({},mt),{},{graphicalItems:J,stackGroups:mt.axisType===W&&H,dataStartIndex:R,dataEndIndex:N}))))},{}),k=knt(Vt(Vt({},q),{},{props:O,graphicalItems:J}),w==null?void 0:w.legendBBox);Object.keys(q).forEach(function(ot){q[ot]=m(O,q[ot],k,ot.replace("Map",""),e)});var it=q["".concat(tt,"Map")],G=Gnt(it),et=y(O,Vt(Vt({},q),{},{dataStartIndex:R,dataEndIndex:N,updateId:P,graphicalItems:J,stackGroups:H,offset:k}));return Vt(Vt({formattedGraphicalItems:et,graphicalItems:J,offset:k,stackGroups:H},G),q)},S=function(x){function M(w){var O,R,N;return Ant(this,M),N=Ont(this,M,[w]),je(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(N,"accessibilityManager",new fnt),je(N,"handleLegendBBoxUpdate",function(P){if(P){var U=N.state,z=U.dataStartIndex,I=U.dataEndIndex,B=U.updateId;N.setState(Vt({legendBBox:P},_({props:N.props,dataStartIndex:z,dataEndIndex:I,updateId:B},Vt(Vt({},N.state),{},{legendBBox:P}))))}}),je(N,"handleReceiveSyncEvent",function(P,U,z){if(N.props.syncId===P){if(z===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(U)}}),je(N,"handleBrushChange",function(P){var U=P.startIndex,z=P.endIndex;if(U!==N.state.dataStartIndex||z!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return Vt({dataStartIndex:U,dataEndIndex:z},_({props:N.props,dataStartIndex:U,dataEndIndex:z,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:U,dataEndIndex:z})}}),je(N,"handleMouseEnter",function(P){var U=N.getMouseInfo(P);if(U){var z=Vt(Vt({},U),{},{isTooltipActive:!0});N.setState(z),N.triggerSyncEvent(z);var I=N.props.onMouseEnter;mn(I)&&I(z,P)}}),je(N,"triggeredAfterMouseMove",function(P){var U=N.getMouseInfo(P),z=U?Vt(Vt({},U),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(z),N.triggerSyncEvent(z);var I=N.props.onMouseMove;mn(I)&&I(z,P)}),je(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),je(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),je(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),je(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var U={isTooltipActive:!1};N.setState(U),N.triggerSyncEvent(U);var z=N.props.onMouseLeave;mn(z)&&z(U,P)}),je(N,"handleOuterEvent",function(P){var U=hG(P),z=Ys(N.props,"".concat(U));if(U&&mn(z)){var I,B;/.*touch.*/i.test(U)?B=N.getMouseInfo(P.changedTouches[0]):B=N.getMouseInfo(P),z((I=B)!==null&&I!==void 0?I:{},P)}}),je(N,"handleClick",function(P){var U=N.getMouseInfo(P);if(U){var z=Vt(Vt({},U),{},{isTooltipActive:!0});N.setState(z),N.triggerSyncEvent(z);var I=N.props.onClick;mn(I)&&I(z,P)}}),je(N,"handleMouseDown",function(P){var U=N.props.onMouseDown;if(mn(U)){var z=N.getMouseInfo(P);U(z,P)}}),je(N,"handleMouseUp",function(P){var U=N.props.onMouseUp;if(mn(U)){var z=N.getMouseInfo(P);U(z,P)}}),je(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),je(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),je(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),je(N,"handleDoubleClick",function(P){var U=N.props.onDoubleClick;if(mn(U)){var z=N.getMouseInfo(P);U(z,P)}}),je(N,"handleContextMenu",function(P){var U=N.props.onContextMenu;if(mn(U)){var z=N.getMouseInfo(P);U(z,P)}}),je(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&pw.emit(mw,N.props.syncId,P,N.eventEmitterSymbol)}),je(N,"applySyncEvent",function(P){var U=N.props,z=U.layout,I=U.syncMethod,B=N.state.updateId,F=P.dataStartIndex,K=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(Vt({dataStartIndex:F,dataEndIndex:K},_({props:N.props,dataStartIndex:F,dataEndIndex:K,updateId:B},N.state)));else if(P.activeTooltipIndex!==void 0){var W=P.chartX,tt=P.chartY,J=P.activeTooltipIndex,H=N.state,q=H.offset,k=H.tooltipTicks;if(!q)return;if(typeof I=="function")J=I(k,P);else if(I==="value"){J=-1;for(var it=0;it<k.length;it++)if(k[it].value===P.activeLabel){J=it;break}}var G=Vt(Vt({},q),{},{x:q.left,y:q.top}),et=Math.min(W,G.x+G.width),ot=Math.min(tt,G.y+G.height),mt=k[J]&&k[J].value,rt=IO(N.state,N.props.data,J),_t=k[J]?{x:z==="horizontal"?k[J].coordinate:et,y:z==="horizontal"?ot:k[J].coordinate}:VF;N.setState(Vt(Vt({},P),{},{activeLabel:mt,activeCoordinate:_t,activePayload:rt,activeTooltipIndex:J}))}else N.setState(P)}),je(N,"renderCursor",function(P){var U,z=N.state,I=z.isTooltipActive,B=z.activeCoordinate,F=z.activePayload,K=z.offset,W=z.activeTooltipIndex,tt=z.tooltipAxisBandSize,J=N.getTooltipEventType(),H=(U=P.props.active)!==null&&U!==void 0?U:I,q=N.props.layout,k=P.key||"_recharts-cursor";return gt.createElement(ynt,{key:k,activeCoordinate:B,activePayload:F,activeTooltipIndex:W,chartName:e,element:P,isActive:H,layout:q,offset:K,tooltipAxisBandSize:tt,tooltipEventType:J})}),je(N,"renderPolarAxis",function(P,U,z){var I=Ys(P,"type.axisType"),B=Ys(N.state,"".concat(I,"Map")),F=P.type.defaultProps,K=F!==void 0?Vt(Vt({},F),P.props):P.props,W=B&&B[K["".concat(I,"Id")]];return St.cloneElement(P,Vt(Vt({},W),{},{className:Vn(I,W.className),key:P.key||"".concat(U,"-").concat(z),ticks:gu(W,!0)}))}),je(N,"renderPolarGrid",function(P){var U=P.props,z=U.radialLines,I=U.polarAngles,B=U.polarRadius,F=N.state,K=F.radiusAxisMap,W=F.angleAxisMap,tt=Ic(K),J=Ic(W),H=J.cx,q=J.cy,k=J.innerRadius,it=J.outerRadius;return St.cloneElement(P,{polarAngles:Array.isArray(I)?I:gu(J,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(B)?B:gu(tt,!0).map(function(G){return G.coordinate}),cx:H,cy:q,innerRadius:k,outerRadius:it,key:P.key||"polar-grid",radialLines:z})}),je(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,U=N.props,z=U.children,I=U.width,B=U.height,F=N.props.margin||{},K=I-(F.left||0)-(F.right||0),W=z5({children:z,formattedGraphicalItems:P,legendWidth:K,legendContent:h});if(!W)return null;var tt=W.item,J=wB(W,bnt);return St.cloneElement(tt,Vt(Vt({},J),{},{chartWidth:I,chartHeight:B,margin:F,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),je(N,"renderTooltip",function(){var P,U=N.props,z=U.children,I=U.accessibilityLayer,B=gs(z,_l);if(!B)return null;var F=N.state,K=F.isTooltipActive,W=F.activeCoordinate,tt=F.activePayload,J=F.activeLabel,H=F.offset,q=(P=B.props.active)!==null&&P!==void 0?P:K;return St.cloneElement(B,{viewBox:Vt(Vt({},H),{},{x:H.left,y:H.top}),active:q,label:J,payload:q?tt:[],coordinate:W,accessibilityLayer:I})}),je(N,"renderBrush",function(P){var U=N.props,z=U.margin,I=U.data,B=N.state,F=B.offset,K=B.dataStartIndex,W=B.dataEndIndex,tt=B.updateId;return St.cloneElement(P,{key:P.key||"_recharts-brush",onChange:wb(N.handleBrushChange,P.props.onChange),data:I,x:de(P.props.x)?P.props.x:F.left,y:de(P.props.y)?P.props.y:F.top+F.height+F.brushBottom-(z.bottom||0),width:de(P.props.width)?P.props.width:F.width,startIndex:K,endIndex:W,updateId:"brush-".concat(tt)})}),je(N,"renderReferenceElement",function(P,U,z){if(!P)return null;var I=N,B=I.clipPathId,F=N.state,K=F.xAxisMap,W=F.yAxisMap,tt=F.offset,J=P.type.defaultProps||{},H=P.props,q=H.xAxisId,k=q===void 0?J.xAxisId:q,it=H.yAxisId,G=it===void 0?J.yAxisId:it;return St.cloneElement(P,{key:P.key||"".concat(U,"-").concat(z),xAxis:K[k],yAxis:W[G],viewBox:{x:tt.left,y:tt.top,width:tt.width,height:tt.height},clipPathId:B})}),je(N,"renderActivePoints",function(P){var U=P.item,z=P.activePoint,I=P.basePoint,B=P.childIndex,F=P.isRange,K=[],W=U.props.key,tt=U.item.type.defaultProps!==void 0?Vt(Vt({},U.item.type.defaultProps),U.item.props):U.item.props,J=tt.activeDot,H=tt.dataKey,q=Vt(Vt({index:B,dataKey:H,cx:z.x,cy:z.y,r:4,fill:JC(U.item),strokeWidth:2,stroke:"#fff",payload:z.payload,value:z.value},Ln(J,!1)),P_(J));return K.push(M.renderActiveDot(J,q,"".concat(W,"-activePoint-").concat(B))),I?K.push(M.renderActiveDot(J,Vt(Vt({},q),{},{cx:I.x,cy:I.y}),"".concat(W,"-basePoint-").concat(B))):F&&K.push(null),K}),je(N,"renderGraphicChild",function(P,U,z){var I=N.filterFormatItem(P,U,z);if(!I)return null;var B=N.getTooltipEventType(),F=N.state,K=F.isTooltipActive,W=F.tooltipAxis,tt=F.activeTooltipIndex,J=F.activeLabel,H=N.props.children,q=gs(H,_l),k=I.props,it=k.points,G=k.isRange,et=k.baseLine,ot=I.item.type.defaultProps!==void 0?Vt(Vt({},I.item.type.defaultProps),I.item.props):I.item.props,mt=ot.activeDot,rt=ot.hide,_t=ot.activeBar,Ut=ot.activeShape,Zt=!!(!rt&&K&&q&&(mt||_t||Ut)),$t={};B!=="axis"&&q&&q.props.trigger==="click"?$t={onClick:wb(N.handleItemMouseEnter,P.props.onClick)}:B!=="axis"&&($t={onMouseLeave:wb(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:wb(N.handleItemMouseEnter,P.props.onMouseEnter)});var wt=St.cloneElement(P,Vt(Vt({},I.props),$t));function Qt(V){return typeof W.dataKey=="function"?W.dataKey(V.payload):null}if(Zt)if(tt>=0){var se,Lt;if(W.dataKey&&!W.allowDuplicatedCategory){var be=typeof W.dataKey=="function"?Qt:"payload.".concat(W.dataKey.toString());se=S2(it,be,J),Lt=G&&et&&S2(et,be,J)}else se=it==null?void 0:it[tt],Lt=G&&et&&et[tt];if(Ut||_t){var nt=P.props.activeIndex!==void 0?P.props.activeIndex:tt;return[St.cloneElement(P,Vt(Vt(Vt({},I.props),$t),{},{activeIndex:nt})),null,null]}if(!jn(se))return[wt].concat(Kp(N.renderActivePoints({item:I,activePoint:se,basePoint:Lt,childIndex:tt,isRange:G})))}else{var Be,It=(Be=N.getItemByXY(N.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:wt},Pt=It.graphicalItem,Ht=Pt.item,ne=Ht===void 0?P:Ht,Bt=Pt.childIndex,$=Vt(Vt(Vt({},I.props),$t),{},{activeIndex:Bt});return[St.cloneElement(ne,$),null,null]}return G?[wt,null,null]:[wt,null]}),je(N,"renderCustomized",function(P,U,z){return St.cloneElement(P,Vt(Vt({key:"recharts-customized-".concat(z)},N.props),N.state))}),je(N,"renderMap",{CartesianGrid:{handler:Nb,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Nb},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Nb},YAxis:{handler:Nb},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((O=w.id)!==null&&O!==void 0?O:xS("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=BH(N.triggeredAfterMouseMove,(R=w.throttleDelay)!==null&&R!==void 0?R:1e3/60),N.state={},N}return Dnt(M,x),wnt(M,[{key:"componentDidMount",value:function(){var O,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,R=O.children,N=O.data,P=O.height,U=O.layout,z=gs(R,_l);if(z){var I=z.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,F=IO(this.state,N,I,B),K=this.state.tooltipTicks[I].coordinate,W=(this.state.offset.top+P)/2,tt=U==="horizontal",J=tt?{x:K,y:W}:{y:K,x:W},H=this.state.formattedGraphicalItems.find(function(k){var it=k.item;return it.type.name==="Scatter"});H&&(J=Vt(Vt({},J),H.props.points[I].tooltipPosition),F=H.props.points[I].tooltipPayload);var q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:F,activeCoordinate:J};this.setState(q),this.renderCursor(z),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(O){E2([gs(O.children,_l)],[gs(this.props.children,_l)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=gs(this.props.children,_l);if(O&&typeof O.props.shared=="boolean"){var R=O.props.shared?"axis":"item";return l.indexOf(R)>=0?R:a}return a}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var R=this.container,N=R.getBoundingClientRect(),P=t9(N),U={chartX:Math.round(O.pageX-P.left),chartY:Math.round(O.pageY-P.top)},z=N.width/R.offsetWidth||1,I=this.inRange(U.chartX,U.chartY,z);if(!I)return null;var B=this.state,F=B.xAxisMap,K=B.yAxisMap,W=this.getTooltipEventType();if(W!=="axis"&&F&&K){var tt=Ic(F).scale,J=Ic(K).scale,H=tt&&tt.invert?tt.invert(U.chartX):null,q=J&&J.invert?J.invert(U.chartY):null;return Vt(Vt({},U),{},{xValue:H,yValue:q})}var k=CB(this.state,this.props.data,this.props.layout,I);return k?Vt(Vt({},U),k):null}},{key:"inRange",value:function(O,R){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,U=O/N,z=R/N;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,B=U>=I.left&&U<=I.left+I.width&&z>=I.top&&z<=I.top+I.height;return B?{x:U,y:z}:null}var F=this.state,K=F.angleAxisMap,W=F.radiusAxisMap;if(K&&W){var tt=Ic(K);return kL({x:U,y:z},tt)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,R=this.getTooltipEventType(),N=gs(O,_l),P={};N&&R==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var U=P_(this.props,this.handleOuterEvent);return Vt(Vt({},U),P)}},{key:"addListener",value:function(){pw.on(mw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pw.removeListener(mw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,R,N){for(var P=this.state.formattedGraphicalItems,U=0,z=P.length;U<z;U++){var I=P[U];if(I.item===O||I.props.key===O.key||R===bu(I.item.type)&&N===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,R=this.state.offset,N=R.left,P=R.top,U=R.height,z=R.width;return gt.createElement("defs",null,gt.createElement("clipPath",{id:O},gt.createElement("rect",{x:N,y:P,height:U,width:z})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(R,N){var P=TB(N,2),U=P[0],z=P[1];return Vt(Vt({},R),{},je({},U,z.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(R,N){var P=TB(N,2),U=P[0],z=P[1];return Vt(Vt({},R),{},je({},U,z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[O])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(O){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[O])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(O){var R=this.state,N=R.formattedGraphicalItems,P=R.activeItem;if(N&&N.length)for(var U=0,z=N.length;U<z;U++){var I=N[U],B=I.props,F=I.item,K=F.type.defaultProps!==void 0?Vt(Vt({},F.type.defaultProps),F.props):F.props,W=bu(F.type);if(W==="Bar"){var tt=(B.data||[]).find(function(k){return gQ(O,k)});if(tt)return{graphicalItem:I,payload:tt}}else if(W==="RadialBar"){var J=(B.data||[]).find(function(k){return kL(O,k)});if(J)return{graphicalItem:I,payload:J}}else if(FS(I,P)||jS(I,P)||Jg(I,P)){var H=oJ({graphicalItem:I,activeTooltipItem:P,itemData:K.data}),q=K.activeIndex===void 0?H:K.activeIndex;return{graphicalItem:Vt(Vt({},I),{},{childIndex:q}),payload:Jg(I,P)?K.data[H]:I.props.data[H]}}}return null}},{key:"render",value:function(){var O=this;if(!iN(this))return null;var R=this.props,N=R.children,P=R.className,U=R.width,z=R.height,I=R.style,B=R.compact,F=R.title,K=R.desc,W=wB(R,_nt),tt=Ln(W,!1);if(B)return gt.createElement(cB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},gt.createElement(T2,_p({},tt,{width:U,height:z,title:F,desc:K}),this.renderClipPath(),aN(N,this.renderMap)));if(this.props.accessibilityLayer){var J,H;tt.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,tt.role=(H=this.props.role)!==null&&H!==void 0?H:"application",tt.onKeyDown=function(k){O.accessibilityManager.keyboardEvent(k)},tt.onFocus=function(){O.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return gt.createElement(cB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},gt.createElement("div",_p({className:Vn("recharts-wrapper",P),style:Vt({position:"relative",cursor:"default",width:U,height:z},I)},q,{ref:function(it){O.container=it}}),gt.createElement(T2,_p({},tt,{width:U,height:z,title:F,desc:K,style:Bnt}),this.renderClipPath(),aN(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(St.Component);je(S,"displayName",e),je(S,"defaultProps",Vt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),je(S,"getDerivedStateFromProps",function(x,M){var w=x.dataKey,O=x.data,R=x.children,N=x.width,P=x.height,U=x.layout,z=x.stackOffset,I=x.margin,B=M.dataStartIndex,F=M.dataEndIndex;if(M.updateId===void 0){var K=RB(x);return Vt(Vt(Vt({},K),{},{updateId:0},_(Vt(Vt({props:x},K),{},{updateId:0}),M)),{},{prevDataKey:w,prevData:O,prevWidth:N,prevHeight:P,prevLayout:U,prevStackOffset:z,prevMargin:I,prevChildren:R})}if(w!==M.prevDataKey||O!==M.prevData||N!==M.prevWidth||P!==M.prevHeight||U!==M.prevLayout||z!==M.prevStackOffset||!Ap(I,M.prevMargin)){var W=RB(x),tt={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},J=Vt(Vt({},CB(M,O,U)),{},{updateId:M.updateId+1}),H=Vt(Vt(Vt({},W),tt),J);return Vt(Vt(Vt({},H),_(Vt({props:x},H),M)),{},{prevDataKey:w,prevData:O,prevWidth:N,prevHeight:P,prevLayout:U,prevStackOffset:z,prevMargin:I,prevChildren:R})}if(!E2(R,M.prevChildren)){var q,k,it,G,et=gs(R,jp),ot=et&&(q=(k=et.props)===null||k===void 0?void 0:k.startIndex)!==null&&q!==void 0?q:B,mt=et&&(it=(G=et.props)===null||G===void 0?void 0:G.endIndex)!==null&&it!==void 0?it:F,rt=ot!==B||mt!==F,_t=!jn(O),Ut=_t&&!rt?M.updateId:M.updateId+1;return Vt(Vt({updateId:Ut},_(Vt(Vt({props:x},M),{},{updateId:Ut,dataStartIndex:ot,dataEndIndex:mt}),M)),{},{prevChildren:R,dataStartIndex:ot,dataEndIndex:mt})}return null}),je(S,"renderActiveDot",function(x,M,w){var O;return St.isValidElement(x)?O=St.cloneElement(x,M):mn(x)?O=x(M):O=gt.createElement(eF,M),gt.createElement(Er,{className:"recharts-active-dot",key:w},O)});var E=St.forwardRef(function(M,w){return gt.createElement(S,_p({},M,{ref:w}))});return E.displayName=S.displayName,E},Wnt=Ynt({chartName:"BarChart",GraphicalChild:jh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:YS},{axisType:"yAxis",AxisComp:WS}],formatAxisMap:itt});function Znt({forceValues:n=[0,0,0,0,0,0],cameraImages:t={}}){const[e,i]=St.useState("text"),r=[{id:"camera1_rgb",label:"카메라1 RGB"},{id:"camera1_depth",label:"카메라1 Depth"},{id:"camera2_rgb",label:"카메라2 RGB"},{id:"camera2_depth",label:"카메라2 Depth"}],[a,o]=St.useState(r[0]),[l,c]=St.useState(r[2]),h=_=>{i(_.target.value)},m=_=>{const S=r.find(E=>E.id===_.target.value);o(S)},v=_=>{const S=r.find(E=>E.id===_.target.value);c(S)},y=n.map((_,S)=>({axis:`F${S+1}`,value:parseFloat(_.toFixed(2))}));return dt.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-full mx-auto border border-gray-200",children:[dt.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"센서 정보"}),dt.jsxs("div",{className:"space-y-3",children:[dt.jsxs("div",{className:"flex space-x-4 mb-6",children:[dt.jsxs("div",{className:"flex-1",children:[dt.jsx("div",{className:"flex justify-between items-center mb-2",children:dt.jsx("select",{value:a.id,onChange:m,className:"text-sm border rounded-md py-1 px-2 bg-gray-50",children:r.map(_=>dt.jsx("option",{value:_.id,children:_.label},_.id))})}),dt.jsx("img",{src:t[a.id]||"",alt:a.label,className:"w-full h-auto rounded-lg object-cover"})]}),dt.jsxs("div",{className:"flex-1",children:[dt.jsx("div",{className:"flex justify-between items-center mb-2",children:dt.jsx("select",{value:l.id,onChange:v,className:"text-sm border rounded-md py-1 px-2 bg-gray-50",children:r.map(_=>dt.jsx("option",{value:_.id,children:_.label},_.id))})}),dt.jsx("img",{src:t[l.id]||"",alt:l.label,className:"w-full h-auto rounded-lg object-cover"})]})]}),dt.jsxs("div",{className:"flex justify-between items-center mb-3",children:[dt.jsx("p",{className:"text-gray-700 font-medium",children:"6축 Force 센서:"}),dt.jsxs("select",{value:e,onChange:h,className:"text-sm border rounded-md py-1 px-2 bg-gray-50",children:[dt.jsx("option",{value:"text",children:"텍스트"}),dt.jsx("option",{value:"graph",children:"그래프"})]})]}),e==="text"?dt.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.map((_,S)=>dt.jsx("div",{className:"bg-blue-50 p-2 rounded text-center text-blue-700 font-mono",children:_.toFixed(1)},S))}):dt.jsx("div",{className:"w-full h-48",children:dt.jsx(Y7,{width:"100%",height:"100%",children:dt.jsxs(Wnt,{data:y,children:[dt.jsx(RF,{strokeDasharray:"3 3"}),dt.jsx(YS,{dataKey:"axis"}),dt.jsx(WS,{}),dt.jsx(_l,{}),dt.jsx(jh,{dataKey:"value",fill:"#3B82F6"})]})})})]})]})}function Knt({angle:n=0,onAngleChange:t=()=>{},accel:e=0,brake:i=0,gearStatus:r="중립",jointValues:a=[0,0,0,0,0,0]}){const h=(n-90)*Math.PI/180,m=Math.cos(h)*28,v=Math.sin(h)*28,y=()=>{const S=[];for(let x=0;x<360;x+=10){const M=(x-90)*Math.PI/180,w=50+Math.cos(M)*28/32*50,O=50+Math.sin(M)*28/32*50,R=50+Math.cos(M)*32/32*50,N=50+Math.sin(M)*32/32*50;S.push(dt.jsx("line",{x1:`${w}%`,y1:`${O}%`,x2:`${R}%`,y2:`${N}%`,stroke:"#ccc",strokeWidth:"1"},x))}return S},_=()=>[{deg:0,label:"0°"},{deg:90,label:"90°"},{deg:180,label:"180°"},{deg:270,label:"-90°"}].map(({deg:E,label:x})=>{const M=(E-90)*Math.PI/180,w=38,O=50+Math.cos(M)*w/32*50,R=50+Math.sin(M)*w/32*50;return dt.jsx("text",{x:`${O}%`,y:`${R}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:"8",fill:"#666",children:x},x)});return dt.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full h-full border border-gray-200",children:[dt.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"조종기 인풋"}),dt.jsxs("div",{className:"space-y-4",children:[dt.jsxs("div",{children:[dt.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"페달 입력:"}),dt.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[dt.jsxs("div",{children:[dt.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"가속"}),dt.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:dt.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${e}%`}})}),dt.jsxs("p",{className:"text-right text-xs text-gray-500 mt-1",children:[e,"%"]})]}),dt.jsxs("div",{children:[dt.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"감속"}),dt.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:dt.jsx("div",{className:"bg-red-500 h-2.5 rounded-full",style:{width:`${i}%`}})}),dt.jsxs("p",{className:"text-right text-xs text-gray-500 mt-1",children:[i,"%"]})]})]})]}),dt.jsxs("div",{children:[dt.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"조이스틱 각도:"}),dt.jsxs("div",{className:"relative w-32 h-32 mx-auto bg-gray-100 rounded-full border border-gray-200",children:[dt.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full",children:[y(),dt.jsx("line",{x1:"50%",y1:"50%",x2:`${50+m/32*50}%`,y2:`${50+v/32*50}%`,stroke:"blue",strokeWidth:"2"}),_()]}),dt.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 rounded-full transform -translate-x-1/2 -translate-y-1/2",style:{top:`calc(50% + ${v}px)`,left:`calc(50% + ${m}px)`}}),dt.jsxs("p",{className:"absolute left-1/2 bottom-1 transform -translate-x-1/2 text-sm font-mono",children:[n.toFixed(1),"°"]})]})]}),dt.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"기어 상태:"}),dt.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium",children:r})]}),dt.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[dt.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"마스터 로봇팔 Joint:"}),dt.jsx("div",{className:"grid grid-cols-6 gap-2",children:a.map((S,E)=>dt.jsx("div",{className:"bg-blue-50 p-2 rounded text-center text-blue-700 font-mono",children:S.toFixed(1)},E))})]})]})]})}function $nt({onEStop:n=()=>alert("E-STOP 클릭됨"),onAuto:t=()=>alert("Auto 클릭됨"),onManual:e=()=>alert("Manual 클릭됨"),disabled:i=!1}){return dt.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full h-full border border-gray-200",children:[dt.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"조종 버튼"}),dt.jsxs("div",{className:"space-y-4",children:[dt.jsx("button",{onClick:n,disabled:i,className:"w-full py-3 bg-red-600 text-white rounded-lg text-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 disabled:opacity-50",children:"E-STOP"}),dt.jsx("button",{onClick:t,disabled:i,className:"w-full py-3 bg-blue-600 text-white rounded-lg text-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50",children:"Auto"}),dt.jsx("button",{onClick:e,disabled:i,className:"w-full py-3 bg-green-600 text-white rounded-lg text-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 disabled:opacity-50",children:"Manual"})]})]})}function Qnt({camera1Fps:n=0,camera2Fps:t=0,camera1Latency:e=0,camera2Latency:i=0,logs:r=[]}){const a=h=>h===0?"text-red-600":h<15?"text-yellow-500":"text-green-600",o=h=>h<=180?"text-green-600":h<=220?"text-yellow-500":"text-red-600",l=h=>h===0?"bg-red-100":h<15?"bg-yellow-100":"bg-green-100",c=h=>h<=180?"bg-green-100":h<=220?"bg-yellow-100":"bg-red-100";return dt.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-full mx-auto border border-gray-200",children:[dt.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"통신 정보"}),dt.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[dt.jsxs("div",{className:`flex justify-between items-center p-3 border border-gray-200 rounded-lg ${l(n)}`,children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"카메라1 FPS:"}),dt.jsxs("span",{className:`font-mono ml-auto ${a(n)}`,children:[n.toFixed(1)," fps"]})]}),dt.jsxs("div",{className:`flex justify-between items-center p-3 border border-gray-200 rounded-lg ${l(t)}`,children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"카메라2 FPS:"}),dt.jsxs("span",{className:`font-mono ml-auto ${a(t)}`,children:[t.toFixed(1)," fps"]})]}),dt.jsxs("div",{className:`flex justify-between items-center p-3 border border-gray-200 rounded-lg ${c(e)}`,children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"카메라1 지연시간:"}),dt.jsxs("span",{className:`font-mono ml-auto ${o(e)}`,children:[e.toFixed(1)," ms"]})]}),dt.jsxs("div",{className:`flex justify-between items-center p-3 border border-gray-200 rounded-lg ${c(i)}`,children:[dt.jsx("span",{className:"text-gray-700 font-medium",children:"카메라2 지연시간:"}),dt.jsxs("span",{className:`font-mono ml-auto ${o(i)}`,children:[i.toFixed(1)," ms"]})]})]}),dt.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[dt.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"로그"}),dt.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 h-24 overflow-y-auto font-mono text-sm text-gray-600 space-y-1",children:r.length===0?dt.jsx("p",{className:"text-gray-400 italic",children:"로그 없음"}):r.map((h,m)=>dt.jsx("p",{children:h},m))})]})]})}const NB=50;function Jnt({jointAngles:n=[0,0,0,0,0,0]}){const t=[{x:200,y:200}];let e=0;for(let i=0;i<n.length;i++){e+=n[i]*(Math.PI/180);const r=t[t.length-1],a={x:r.x+NB*Math.cos(e),y:r.y+NB*Math.sin(e)};t.push(a)}return dt.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200 w-full h-full",children:[dt.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"마스터 로봇팔 시각화"}),dt.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 400 400",className:"bg-gray-50 rounded border",children:[t.map((i,r)=>r>0?dt.jsx("line",{x1:t[r-1].x,y1:t[r-1].y,x2:i.x,y2:i.y,stroke:"#3B82F6",strokeWidth:"4"},r):null),t.map((i,r)=>dt.jsx("circle",{cx:i.x,cy:i.y,r:"5",fill:r===0?"#10B981":"#1E40AF"},`joint-${r}`))]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Uy="175",fh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},hh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},qF=0,BO=1,kF=2,tit=3,XF=0,KS=1,dg=2,Co=3,wu=0,ra=1,Sl=2,Su=0,Th=1,zO=2,HO=3,FO=4,YF=5,Bc=100,WF=101,ZF=102,KF=103,$F=104,QF=200,JF=201,t6=202,e6=203,wx=204,Ox=205,n6=206,i6=207,r6=208,a6=209,s6=210,o6=211,l6=212,u6=213,c6=214,Cx=0,Rx=1,Dx=2,Ph=3,Nx=4,Px=5,Ux=6,Lx=7,Ly=0,f6=1,h6=2,wl=0,d6=1,p6=2,m6=3,cR=4,v6=5,g6=6,y6=7,jO="attached",b6="detached",$S=300,Ou=301,qc=302,sy=303,oy=304,mm=306,ly=1e3,Xs=1001,uy=1002,Hr=1003,fR=1004,eit=1004,xp=1005,nit=1005,hr=1006,pg=1007,iit=1007,El=1008,rit=1008,Io=1009,hR=1010,dR=1011,$p=1012,QS=1013,Cu=1014,Wa=1015,vm=1016,JS=1017,t1=1018,Qp=1020,pR=35902,mR=1021,vR=1022,ia=1023,gR=1024,yR=1025,Jp=1026,tm=1027,e1=1028,Iy=1029,bR=1030,n1=1031,ait=1032,i1=1033,mg=33776,vg=33777,gg=33778,yg=33779,Ix=35840,Bx=35841,zx=35842,Hx=35843,Fx=36196,jx=37492,Vx=37496,Gx=37808,qx=37809,kx=37810,Xx=37811,Yx=37812,Wx=37813,Zx=37814,Kx=37815,$x=37816,Qx=37817,Jx=37818,tS=37819,eS=37820,nS=37821,bg=36492,iS=36494,rS=36495,_R=36283,aS=36284,sS=36285,oS=36286,_6=2200,x6=2201,S6=2202,cy=2300,lS=2301,w_=2302,_h=2400,xh=2401,fy=2402,r1=2500,xR=2501,sit=0,oit=1,lit=2,M6=3200,E6=3201,uit=3202,cit=3203,Qc=0,A6=1,du="",ta="srgb",kc="srgb-linear",hy="linear",Zn="srgb",fit=0,dh=7680,hit=7681,dit=7682,pit=7683,mit=34055,vit=34056,git=5386,yit=512,bit=513,_it=514,xit=515,Sit=516,Mit=517,Eit=518,VO=519,T6=512,w6=513,O6=514,SR=515,C6=516,R6=517,D6=518,N6=519,dy=35044,Ait=35048,Tit=35040,wit=35045,Oit=35049,Cit=35041,Rit=35046,Dit=35050,Nit=35042,Pit="100",GO="300 es",Uo=2e3,py=2001,Uit={COMPUTE:"compute",RENDER:"render"};let Ul=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const r=i[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,t);t.target=null}}};const Kr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let PB=1234567;const wh=Math.PI/180,em=180/Math.PI;function bs(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Kr[n&255]+Kr[n>>8&255]+Kr[n>>16&255]+Kr[n>>24&255]+"-"+Kr[t&255]+Kr[t>>8&255]+"-"+Kr[t>>16&15|64]+Kr[t>>24&255]+"-"+Kr[e&63|128]+Kr[e>>8&255]+"-"+Kr[e>>16&255]+Kr[e>>24&255]+Kr[i&255]+Kr[i>>8&255]+Kr[i>>16&255]+Kr[i>>24&255]).toLowerCase()}function Ke(n,t,e){return Math.max(t,Math.min(e,n))}function MR(n,t){return(n%t+t)%t}function Lit(n,t,e,i,r){return i+(n-t)*(r-i)/(e-t)}function Iit(n,t,e){return n!==t?(e-n)/(t-n):0}function _g(n,t,e){return(1-e)*n+e*t}function Bit(n,t,e,i){return _g(n,t,1-Math.exp(-e*i))}function zit(n,t=1){return t-Math.abs(MR(n,t*2)-t)}function Hit(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function Fit(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function jit(n,t){return n+Math.floor(Math.random()*(t-n+1))}function Vit(n,t){return n+Math.random()*(t-n)}function Git(n){return n*(.5-Math.random())}function qit(n){n!==void 0&&(PB=n);let t=PB+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function kit(n){return n*wh}function Xit(n){return n*em}function Yit(n){return(n&n-1)===0&&n!==0}function Wit(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Zit(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Kit(n,t,e,i,r){const a=Math.cos,o=Math.sin,l=a(e/2),c=o(e/2),h=a((t+i)/2),m=o((t+i)/2),v=a((t-i)/2),y=o((t-i)/2),_=a((i-t)/2),S=o((i-t)/2);switch(r){case"XYX":n.set(l*m,c*v,c*y,l*h);break;case"YZY":n.set(c*y,l*m,c*v,l*h);break;case"ZXZ":n.set(c*v,c*y,l*m,l*h);break;case"XZX":n.set(l*m,c*S,c*_,l*h);break;case"YXY":n.set(c*_,l*m,c*S,l*h);break;case"ZYZ":n.set(c*S,c*_,l*m,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ta(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function nn(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const P6={DEG2RAD:wh,RAD2DEG:em,generateUUID:bs,clamp:Ke,euclideanModulo:MR,mapLinear:Lit,inverseLerp:Iit,lerp:_g,damp:Bit,pingpong:zit,smoothstep:Hit,smootherstep:Fit,randInt:jit,randFloat:Vit,randFloatSpread:Git,seededRandom:qit,degToRad:kit,radToDeg:Xit,isPowerOfTwo:Yit,ceilPowerOfTwo:Wit,floorPowerOfTwo:Zit,setQuaternionFromProperEuler:Kit,normalize:nn,denormalize:Ta};class Xt{constructor(t=0,e=0){Xt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ke(this.x,t.x,e.x),this.y=Ke(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ke(this.x,t,e),this.y=Ke(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ke(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ke(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),a=this.x-t.x,o=this.y-t.y;return this.x=a*i-o*r+t.x,this.y=a*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Je{constructor(t,e,i,r,a,o,l,c,h){Je.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,r,a,o,l,c,h)}set(t,e,i,r,a,o,l,c,h){const m=this.elements;return m[0]=t,m[1]=r,m[2]=l,m[3]=e,m[4]=a,m[5]=c,m[6]=i,m[7]=o,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,a=this.elements,o=i[0],l=i[3],c=i[6],h=i[1],m=i[4],v=i[7],y=i[2],_=i[5],S=i[8],E=r[0],x=r[3],M=r[6],w=r[1],O=r[4],R=r[7],N=r[2],P=r[5],U=r[8];return a[0]=o*E+l*w+c*N,a[3]=o*x+l*O+c*P,a[6]=o*M+l*R+c*U,a[1]=h*E+m*w+v*N,a[4]=h*x+m*O+v*P,a[7]=h*M+m*R+v*U,a[2]=y*E+_*w+S*N,a[5]=y*x+_*O+S*P,a[8]=y*M+_*R+S*U,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],m=t[8];return e*o*m-e*l*h-i*a*m+i*l*c+r*a*h-r*o*c}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],m=t[8],v=m*o-l*h,y=l*c-m*a,_=h*a-o*c,S=e*v+i*y+r*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/S;return t[0]=v*E,t[1]=(r*h-m*i)*E,t[2]=(l*i-r*o)*E,t[3]=y*E,t[4]=(m*e-r*c)*E,t[5]=(r*a-l*e)*E,t[6]=_*E,t[7]=(i*c-h*e)*E,t[8]=(o*e-i*a)*E,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,a,o,l){const c=Math.cos(a),h=Math.sin(a);return this.set(i*c,i*h,-i*(c*o+h*l)+o+t,-r*h,r*c,-r*(-h*o+c*l)+l+e,0,0,1),this}scale(t,e){return this.premultiply(gw.makeScale(t,e)),this}rotate(t){return this.premultiply(gw.makeRotation(-t)),this}translate(t,e){return this.premultiply(gw.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const gw=new Je;function U6(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const $it={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sp(n,t){return new $it[n](t)}function my(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function L6(){const n=my("canvas");return n.style.display="block",n}const UB={};function O_(n){n in UB||(UB[n]=!0,console.warn(n))}function Qit(n,t,e){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,e);break;default:i()}}setTimeout(a,e)})}function Jit(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function trt(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const LB=new Je().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),IB=new Je().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ert(){const n={enabled:!0,workingColorSpace:kc,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Zn&&(r.r=Mu(r.r),r.g=Mu(r.g),r.b=Mu(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Zn&&(r.r=Cp(r.r),r.g=Cp(r.g),r.b=Cp(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===du?hy:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[kc]:{primaries:t,whitePoint:i,transfer:hy,toXYZ:LB,fromXYZ:IB,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:ta},outputColorSpaceConfig:{drawingBufferColorSpace:ta}},[ta]:{primaries:t,whitePoint:i,transfer:Zn,toXYZ:LB,fromXYZ:IB,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:ta}}}),n}const Sn=ert();function Mu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Cp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $d;class I6{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{$d===void 0&&($d=my("canvas")),$d.width=t.width,$d.height=t.height;const r=$d.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),i=$d}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=my("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=Mu(a[o]/255)*255;return i.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Mu(e[i]/255)*255):e[i]=Mu(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let nrt=0;class Fc{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:nrt++}),this.uuid=bs(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,l=r.length;o<l;o++)r[o].isDataTexture?a.push(yw(r[o].image)):a.push(yw(r[o]))}else a=yw(r);i.url=a}return e||(t.images[this.uuid]=i),i}}function yw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?I6.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let irt=0;class Li extends Ul{constructor(t=Li.DEFAULT_IMAGE,e=Li.DEFAULT_MAPPING,i=Xs,r=Xs,a=hr,o=El,l=ia,c=Io,h=Li.DEFAULT_ANISOTROPY,m=du){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:irt++}),this.uuid=bs(),this.name="",this.source=new Fc(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Xt(0,0),this.repeat=new Xt(1,1),this.center=new Xt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Je,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==$S)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ly:t.x=t.x-Math.floor(t.x);break;case Xs:t.x=t.x<0?0:1;break;case uy:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case ly:t.y=t.y-Math.floor(t.y);break;case Xs:t.y=t.y<0?0:1;break;case uy:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Li.DEFAULT_IMAGE=null;Li.DEFAULT_MAPPING=$S;Li.DEFAULT_ANISOTROPY=1;class Tn{constructor(t=0,e=0,i=0,r=1){Tn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,a=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*e+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*e+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*e+o[7]*i+o[11]*r+o[15]*a,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,a;const c=t.elements,h=c[0],m=c[4],v=c[8],y=c[1],_=c[5],S=c[9],E=c[2],x=c[6],M=c[10];if(Math.abs(m-y)<.01&&Math.abs(v-E)<.01&&Math.abs(S-x)<.01){if(Math.abs(m+y)<.1&&Math.abs(v+E)<.1&&Math.abs(S+x)<.1&&Math.abs(h+_+M-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const O=(h+1)/2,R=(_+1)/2,N=(M+1)/2,P=(m+y)/4,U=(v+E)/4,z=(S+x)/4;return O>R&&O>N?O<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(O),r=P/i,a=U/i):R>N?R<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(R),i=P/r,a=z/r):N<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(N),i=U/a,r=z/a),this.set(i,r,a,e),this}let w=Math.sqrt((x-S)*(x-S)+(v-E)*(v-E)+(y-m)*(y-m));return Math.abs(w)<.001&&(w=1),this.x=(x-S)/w,this.y=(v-E)/w,this.z=(y-m)/w,this.w=Math.acos((h+_+M-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ke(this.x,t.x,e.x),this.y=Ke(this.y,t.y,e.y),this.z=Ke(this.z,t.z,e.z),this.w=Ke(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ke(this.x,t,e),this.y=Ke(this.y,t,e),this.z=Ke(this.z,t,e),this.w=Ke(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ke(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a1 extends Ul{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Tn(0,0,t,e),this.scissorTest=!1,this.viewport=new Tn(0,0,t,e);const r={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new Li(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const r=Object.assign({},t.textures[e].image);this.textures[e].source=new Fc(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Nl extends a1{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class By extends Li{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Hr,this.minFilter=Hr,this.wrapR=Xs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class rrt extends Nl{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new By(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class s1 extends Li{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Hr,this.minFilter=Hr,this.wrapR=Xs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class art extends Nl{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new s1(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class aa{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,a,o,l){let c=i[r+0],h=i[r+1],m=i[r+2],v=i[r+3];const y=a[o+0],_=a[o+1],S=a[o+2],E=a[o+3];if(l===0){t[e+0]=c,t[e+1]=h,t[e+2]=m,t[e+3]=v;return}if(l===1){t[e+0]=y,t[e+1]=_,t[e+2]=S,t[e+3]=E;return}if(v!==E||c!==y||h!==_||m!==S){let x=1-l;const M=c*y+h*_+m*S+v*E,w=M>=0?1:-1,O=1-M*M;if(O>Number.EPSILON){const N=Math.sqrt(O),P=Math.atan2(N,M*w);x=Math.sin(x*P)/N,l=Math.sin(l*P)/N}const R=l*w;if(c=c*x+y*R,h=h*x+_*R,m=m*x+S*R,v=v*x+E*R,x===1-l){const N=1/Math.sqrt(c*c+h*h+m*m+v*v);c*=N,h*=N,m*=N,v*=N}}t[e]=c,t[e+1]=h,t[e+2]=m,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,r,a,o){const l=i[r],c=i[r+1],h=i[r+2],m=i[r+3],v=a[o],y=a[o+1],_=a[o+2],S=a[o+3];return t[e]=l*S+m*v+c*_-h*y,t[e+1]=c*S+m*y+h*v-l*_,t[e+2]=h*S+m*_+l*y-c*v,t[e+3]=m*S-l*v-c*y-h*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,r=t._y,a=t._z,o=t._order,l=Math.cos,c=Math.sin,h=l(i/2),m=l(r/2),v=l(a/2),y=c(i/2),_=c(r/2),S=c(a/2);switch(o){case"XYZ":this._x=y*m*v+h*_*S,this._y=h*_*v-y*m*S,this._z=h*m*S+y*_*v,this._w=h*m*v-y*_*S;break;case"YXZ":this._x=y*m*v+h*_*S,this._y=h*_*v-y*m*S,this._z=h*m*S-y*_*v,this._w=h*m*v+y*_*S;break;case"ZXY":this._x=y*m*v-h*_*S,this._y=h*_*v+y*m*S,this._z=h*m*S+y*_*v,this._w=h*m*v-y*_*S;break;case"ZYX":this._x=y*m*v-h*_*S,this._y=h*_*v+y*m*S,this._z=h*m*S-y*_*v,this._w=h*m*v+y*_*S;break;case"YZX":this._x=y*m*v+h*_*S,this._y=h*_*v+y*m*S,this._z=h*m*S-y*_*v,this._w=h*m*v-y*_*S;break;case"XZY":this._x=y*m*v-h*_*S,this._y=h*_*v-y*m*S,this._z=h*m*S+y*_*v,this._w=h*m*v+y*_*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],a=e[8],o=e[1],l=e[5],c=e[9],h=e[2],m=e[6],v=e[10],y=i+l+v;if(y>0){const _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(m-c)*_,this._y=(a-h)*_,this._z=(o-r)*_}else if(i>l&&i>v){const _=2*Math.sqrt(1+i-l-v);this._w=(m-c)/_,this._x=.25*_,this._y=(r+o)/_,this._z=(a+h)/_}else if(l>v){const _=2*Math.sqrt(1+l-i-v);this._w=(a-h)/_,this._x=(r+o)/_,this._y=.25*_,this._z=(c+m)/_}else{const _=2*Math.sqrt(1+v-i-l);this._w=(o-r)/_,this._x=(a+h)/_,this._y=(c+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ke(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,a=t._z,o=t._w,l=e._x,c=e._y,h=e._z,m=e._w;return this._x=i*m+o*l+r*h-a*c,this._y=r*m+o*c+a*l-i*h,this._z=a*m+o*h+i*c-r*l,this._w=o*m-i*l-r*c-a*h,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,r=this._y,a=this._z,o=this._w;let l=o*t._w+i*t._x+r*t._y+a*t._z;if(l<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,l=-l):this.copy(t),l>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const c=1-l*l;if(c<=Number.EPSILON){const _=1-e;return this._w=_*o+e*this._w,this._x=_*i+e*this._x,this._y=_*r+e*this._y,this._z=_*a+e*this._z,this.normalize(),this}const h=Math.sqrt(c),m=Math.atan2(h,l),v=Math.sin((1-e)*m)/h,y=Math.sin(e*m)/h;return this._w=o*v+this._w*y,this._x=i*v+this._x*y,this._y=r*v+this._y*y,this._z=a*v+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),a*Math.sin(e),a*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(t=0,e=0,i=0){Q.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(BB.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(BB.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[3]*i+a[6]*r,this.y=a[1]*e+a[4]*i+a[7]*r,this.z=a[2]*e+a[5]*i+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,a=t.elements,o=1/(a[3]*e+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*e+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*e+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*e+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,a=t.x,o=t.y,l=t.z,c=t.w,h=2*(o*r-l*i),m=2*(l*e-a*r),v=2*(a*i-o*e);return this.x=e+c*h+o*v-l*m,this.y=i+c*m+l*h-a*v,this.z=r+c*v+a*m-o*h,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r,this.y=a[1]*e+a[5]*i+a[9]*r,this.z=a[2]*e+a[6]*i+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ke(this.x,t.x,e.x),this.y=Ke(this.y,t.y,e.y),this.z=Ke(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ke(this.x,t,e),this.y=Ke(this.y,t,e),this.z=Ke(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ke(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,a=t.z,o=e.x,l=e.y,c=e.z;return this.x=r*c-a*l,this.y=a*o-i*c,this.z=i*l-r*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return bw.copy(this).projectOnVector(t),this.sub(bw)}reflect(t){return this.sub(bw.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ke(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bw=new Q,BB=new aa;class Oa{constructor(t=new Q(1/0,1/0,1/0),e=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(To.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(To.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=To.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const a=i.getAttribute("position");if(e===!0&&a!==void 0&&t.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)t.isMesh===!0?t.getVertexPosition(o,To):To.fromBufferAttribute(a,o),To.applyMatrix4(t.matrixWorld),this.expandByPoint(To);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Pb.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Pb.copy(i.boundingBox)),Pb.applyMatrix4(t.matrixWorld),this.union(Pb)}const r=t.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,To),To.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(kv),Ub.subVectors(this.max,kv),Qd.subVectors(t.a,kv),Jd.subVectors(t.b,kv),tp.subVectors(t.c,kv),wc.subVectors(Jd,Qd),Oc.subVectors(tp,Jd),Kf.subVectors(Qd,tp);let e=[0,-wc.z,wc.y,0,-Oc.z,Oc.y,0,-Kf.z,Kf.y,wc.z,0,-wc.x,Oc.z,0,-Oc.x,Kf.z,0,-Kf.x,-wc.y,wc.x,0,-Oc.y,Oc.x,0,-Kf.y,Kf.x,0];return!_w(e,Qd,Jd,tp,Ub)||(e=[1,0,0,0,1,0,0,0,1],!_w(e,Qd,Jd,tp,Ub))?!1:(Lb.crossVectors(wc,Oc),e=[Lb.x,Lb.y,Lb.z],_w(e,Qd,Jd,tp,Ub))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,To).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(To).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(su[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),su[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),su[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),su[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),su[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),su[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),su[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),su[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(su),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const su=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],To=new Q,Pb=new Oa,Qd=new Q,Jd=new Q,tp=new Q,wc=new Q,Oc=new Q,Kf=new Q,kv=new Q,Ub=new Q,Lb=new Q,$f=new Q;function _w(n,t,e,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){$f.fromArray(n,a);const l=r.x*Math.abs($f.x)+r.y*Math.abs($f.y)+r.z*Math.abs($f.z),c=t.dot($f),h=e.dot($f),m=i.dot($f);if(Math.max(-Math.max(c,h,m),Math.min(c,h,m))>l)return!1}return!0}const srt=new Oa,Xv=new Q,xw=new Q;class sa{constructor(t=new Q,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):srt.setFromPoints(t).getCenter(i);let r=0;for(let a=0,o=t.length;a<o;a++)r=Math.max(r,i.distanceToSquared(t[a]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Xv.subVectors(t,this.center);const e=Xv.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=(i-this.radius)*.5;this.center.addScaledVector(Xv,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(xw.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Xv.copy(t.center).add(xw)),this.expandByPoint(Xv.copy(t.center).sub(xw))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ou=new Q,Sw=new Q,Ib=new Q,Cc=new Q,Mw=new Q,Bb=new Q,Ew=new Q;class Vh{constructor(t=new Q,e=new Q(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ou)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=ou.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(ou.copy(this.origin).addScaledVector(this.direction,e),ou.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){Sw.copy(t).add(e).multiplyScalar(.5),Ib.copy(e).sub(t).normalize(),Cc.copy(this.origin).sub(Sw);const a=t.distanceTo(e)*.5,o=-this.direction.dot(Ib),l=Cc.dot(this.direction),c=-Cc.dot(Ib),h=Cc.lengthSq(),m=Math.abs(1-o*o);let v,y,_,S;if(m>0)if(v=o*c-l,y=o*l-c,S=a*m,v>=0)if(y>=-S)if(y<=S){const E=1/m;v*=E,y*=E,_=v*(v+o*y+2*l)+y*(o*v+y+2*c)+h}else y=a,v=Math.max(0,-(o*y+l)),_=-v*v+y*(y+2*c)+h;else y=-a,v=Math.max(0,-(o*y+l)),_=-v*v+y*(y+2*c)+h;else y<=-S?(v=Math.max(0,-(-o*a+l)),y=v>0?-a:Math.min(Math.max(-a,-c),a),_=-v*v+y*(y+2*c)+h):y<=S?(v=0,y=Math.min(Math.max(-a,-c),a),_=y*(y+2*c)+h):(v=Math.max(0,-(o*a+l)),y=v>0?a:Math.min(Math.max(-a,-c),a),_=-v*v+y*(y+2*c)+h);else y=o>0?-a:a,v=Math.max(0,-(o*y+l)),_=-v*v+y*(y+2*c)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(Sw).addScaledVector(Ib,y),_}intersectSphere(t,e){ou.subVectors(t.center,this.origin);const i=ou.dot(this.direction),r=ou.dot(ou)-i*i,a=t.radius*t.radius;if(r>a)return null;const o=Math.sqrt(a-r),l=i-o,c=i+o;return c<0?null:l<0?this.at(c,e):this.at(l,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,a,o,l,c;const h=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,y=this.origin;return h>=0?(i=(t.min.x-y.x)*h,r=(t.max.x-y.x)*h):(i=(t.max.x-y.x)*h,r=(t.min.x-y.x)*h),m>=0?(a=(t.min.y-y.y)*m,o=(t.max.y-y.y)*m):(a=(t.max.y-y.y)*m,o=(t.min.y-y.y)*m),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),v>=0?(l=(t.min.z-y.z)*v,c=(t.max.z-y.z)*v):(l=(t.max.z-y.z)*v,c=(t.min.z-y.z)*v),i>c||l>r)||((l>i||i!==i)&&(i=l),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return this.intersectBox(t,ou)!==null}intersectTriangle(t,e,i,r,a){Mw.subVectors(e,t),Bb.subVectors(i,t),Ew.crossVectors(Mw,Bb);let o=this.direction.dot(Ew),l;if(o>0){if(r)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Cc.subVectors(this.origin,t);const c=l*this.direction.dot(Bb.crossVectors(Cc,Bb));if(c<0)return null;const h=l*this.direction.dot(Mw.cross(Cc));if(h<0||c+h>o)return null;const m=-l*Cc.dot(Ew);return m<0?null:this.at(m/o,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ke{constructor(t,e,i,r,a,o,l,c,h,m,v,y,_,S,E,x){ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,r,a,o,l,c,h,m,v,y,_,S,E,x)}set(t,e,i,r,a,o,l,c,h,m,v,y,_,S,E,x){const M=this.elements;return M[0]=t,M[4]=e,M[8]=i,M[12]=r,M[1]=a,M[5]=o,M[9]=l,M[13]=c,M[2]=h,M[6]=m,M[10]=v,M[14]=y,M[3]=_,M[7]=S,M[11]=E,M[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ke().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/ep.setFromMatrixColumn(t,0).length(),a=1/ep.setFromMatrixColumn(t,1).length(),o=1/ep.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*a,e[5]=i[5]*a,e[6]=i[6]*a,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,a=t.z,o=Math.cos(i),l=Math.sin(i),c=Math.cos(r),h=Math.sin(r),m=Math.cos(a),v=Math.sin(a);if(t.order==="XYZ"){const y=o*m,_=o*v,S=l*m,E=l*v;e[0]=c*m,e[4]=-c*v,e[8]=h,e[1]=_+S*h,e[5]=y-E*h,e[9]=-l*c,e[2]=E-y*h,e[6]=S+_*h,e[10]=o*c}else if(t.order==="YXZ"){const y=c*m,_=c*v,S=h*m,E=h*v;e[0]=y+E*l,e[4]=S*l-_,e[8]=o*h,e[1]=o*v,e[5]=o*m,e[9]=-l,e[2]=_*l-S,e[6]=E+y*l,e[10]=o*c}else if(t.order==="ZXY"){const y=c*m,_=c*v,S=h*m,E=h*v;e[0]=y-E*l,e[4]=-o*v,e[8]=S+_*l,e[1]=_+S*l,e[5]=o*m,e[9]=E-y*l,e[2]=-o*h,e[6]=l,e[10]=o*c}else if(t.order==="ZYX"){const y=o*m,_=o*v,S=l*m,E=l*v;e[0]=c*m,e[4]=S*h-_,e[8]=y*h+E,e[1]=c*v,e[5]=E*h+y,e[9]=_*h-S,e[2]=-h,e[6]=l*c,e[10]=o*c}else if(t.order==="YZX"){const y=o*c,_=o*h,S=l*c,E=l*h;e[0]=c*m,e[4]=E-y*v,e[8]=S*v+_,e[1]=v,e[5]=o*m,e[9]=-l*m,e[2]=-h*m,e[6]=_*v+S,e[10]=y-E*v}else if(t.order==="XZY"){const y=o*c,_=o*h,S=l*c,E=l*h;e[0]=c*m,e[4]=-v,e[8]=h*m,e[1]=y*v+E,e[5]=o*m,e[9]=_*v-S,e[2]=S*v-_,e[6]=l*m,e[10]=E*v+y}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ort,t,lrt)}lookAt(t,e,i){const r=this.elements;return ps.subVectors(t,e),ps.lengthSq()===0&&(ps.z=1),ps.normalize(),Rc.crossVectors(i,ps),Rc.lengthSq()===0&&(Math.abs(i.z)===1?ps.x+=1e-4:ps.z+=1e-4,ps.normalize(),Rc.crossVectors(i,ps)),Rc.normalize(),zb.crossVectors(ps,Rc),r[0]=Rc.x,r[4]=zb.x,r[8]=ps.x,r[1]=Rc.y,r[5]=zb.y,r[9]=ps.y,r[2]=Rc.z,r[6]=zb.z,r[10]=ps.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,a=this.elements,o=i[0],l=i[4],c=i[8],h=i[12],m=i[1],v=i[5],y=i[9],_=i[13],S=i[2],E=i[6],x=i[10],M=i[14],w=i[3],O=i[7],R=i[11],N=i[15],P=r[0],U=r[4],z=r[8],I=r[12],B=r[1],F=r[5],K=r[9],W=r[13],tt=r[2],J=r[6],H=r[10],q=r[14],k=r[3],it=r[7],G=r[11],et=r[15];return a[0]=o*P+l*B+c*tt+h*k,a[4]=o*U+l*F+c*J+h*it,a[8]=o*z+l*K+c*H+h*G,a[12]=o*I+l*W+c*q+h*et,a[1]=m*P+v*B+y*tt+_*k,a[5]=m*U+v*F+y*J+_*it,a[9]=m*z+v*K+y*H+_*G,a[13]=m*I+v*W+y*q+_*et,a[2]=S*P+E*B+x*tt+M*k,a[6]=S*U+E*F+x*J+M*it,a[10]=S*z+E*K+x*H+M*G,a[14]=S*I+E*W+x*q+M*et,a[3]=w*P+O*B+R*tt+N*k,a[7]=w*U+O*F+R*J+N*it,a[11]=w*z+O*K+R*H+N*G,a[15]=w*I+O*W+R*q+N*et,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],a=t[12],o=t[1],l=t[5],c=t[9],h=t[13],m=t[2],v=t[6],y=t[10],_=t[14],S=t[3],E=t[7],x=t[11],M=t[15];return S*(+a*c*v-r*h*v-a*l*y+i*h*y+r*l*_-i*c*_)+E*(+e*c*_-e*h*y+a*o*y-r*o*_+r*h*m-a*c*m)+x*(+e*h*v-e*l*_-a*o*v+i*o*_+a*l*m-i*h*m)+M*(-r*l*m-e*c*v+e*l*y+r*o*v-i*o*y+i*c*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],m=t[8],v=t[9],y=t[10],_=t[11],S=t[12],E=t[13],x=t[14],M=t[15],w=v*x*h-E*y*h+E*c*_-l*x*_-v*c*M+l*y*M,O=S*y*h-m*x*h-S*c*_+o*x*_+m*c*M-o*y*M,R=m*E*h-S*v*h+S*l*_-o*E*_-m*l*M+o*v*M,N=S*v*c-m*E*c-S*l*y+o*E*y+m*l*x-o*v*x,P=e*w+i*O+r*R+a*N;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/P;return t[0]=w*U,t[1]=(E*y*a-v*x*a-E*r*_+i*x*_+v*r*M-i*y*M)*U,t[2]=(l*x*a-E*c*a+E*r*h-i*x*h-l*r*M+i*c*M)*U,t[3]=(v*c*a-l*y*a-v*r*h+i*y*h+l*r*_-i*c*_)*U,t[4]=O*U,t[5]=(m*x*a-S*y*a+S*r*_-e*x*_-m*r*M+e*y*M)*U,t[6]=(S*c*a-o*x*a-S*r*h+e*x*h+o*r*M-e*c*M)*U,t[7]=(o*y*a-m*c*a+m*r*h-e*y*h-o*r*_+e*c*_)*U,t[8]=R*U,t[9]=(S*v*a-m*E*a-S*i*_+e*E*_+m*i*M-e*v*M)*U,t[10]=(o*E*a-S*l*a+S*i*h-e*E*h-o*i*M+e*l*M)*U,t[11]=(m*l*a-o*v*a-m*i*h+e*v*h+o*i*_-e*l*_)*U,t[12]=N*U,t[13]=(m*E*r-S*v*r+S*i*y-e*E*y-m*i*x+e*v*x)*U,t[14]=(S*l*r-o*E*r-S*i*c+e*E*c+o*i*x-e*l*x)*U,t[15]=(o*v*r-m*l*r+m*i*c-e*v*c-o*i*y+e*l*y)*U,this}scale(t){const e=this.elements,i=t.x,r=t.y,a=t.z;return e[0]*=i,e[4]*=r,e[8]*=a,e[1]*=i,e[5]*=r,e[9]*=a,e[2]*=i,e[6]*=r,e[10]*=a,e[3]*=i,e[7]*=r,e[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),a=1-i,o=t.x,l=t.y,c=t.z,h=a*o,m=a*l;return this.set(h*o+i,h*l-r*c,h*c+r*l,0,h*l+r*c,m*l+i,m*c-r*o,0,h*c-r*l,m*c+r*o,a*c*c+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,a,o){return this.set(1,i,a,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,a=e._x,o=e._y,l=e._z,c=e._w,h=a+a,m=o+o,v=l+l,y=a*h,_=a*m,S=a*v,E=o*m,x=o*v,M=l*v,w=c*h,O=c*m,R=c*v,N=i.x,P=i.y,U=i.z;return r[0]=(1-(E+M))*N,r[1]=(_+R)*N,r[2]=(S-O)*N,r[3]=0,r[4]=(_-R)*P,r[5]=(1-(y+M))*P,r[6]=(x+w)*P,r[7]=0,r[8]=(S+O)*U,r[9]=(x-w)*U,r[10]=(1-(y+E))*U,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let a=ep.set(r[0],r[1],r[2]).length();const o=ep.set(r[4],r[5],r[6]).length(),l=ep.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],wo.copy(this);const h=1/a,m=1/o,v=1/l;return wo.elements[0]*=h,wo.elements[1]*=h,wo.elements[2]*=h,wo.elements[4]*=m,wo.elements[5]*=m,wo.elements[6]*=m,wo.elements[8]*=v,wo.elements[9]*=v,wo.elements[10]*=v,e.setFromRotationMatrix(wo),i.x=a,i.y=o,i.z=l,this}makePerspective(t,e,i,r,a,o,l=Uo){const c=this.elements,h=2*a/(e-t),m=2*a/(i-r),v=(e+t)/(e-t),y=(i+r)/(i-r);let _,S;if(l===Uo)_=-(o+a)/(o-a),S=-2*o*a/(o-a);else if(l===py)_=-o/(o-a),S=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=h,c[4]=0,c[8]=v,c[12]=0,c[1]=0,c[5]=m,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=_,c[14]=S,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,i,r,a,o,l=Uo){const c=this.elements,h=1/(e-t),m=1/(i-r),v=1/(o-a),y=(e+t)*h,_=(i+r)*m;let S,E;if(l===Uo)S=(o+a)*v,E=-2*v;else if(l===py)S=a*v,E=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*h,c[4]=0,c[8]=0,c[12]=-y,c[1]=0,c[5]=2*m,c[9]=0,c[13]=-_,c[2]=0,c[6]=0,c[10]=E,c[14]=-S,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const ep=new Q,wo=new ke,ort=new Q(0,0,0),lrt=new Q(1,1,1),Rc=new Q,zb=new Q,ps=new Q,zB=new ke,HB=new aa;class _s{constructor(t=0,e=0,i=0,r=_s.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,a=r[0],o=r[4],l=r[8],c=r[1],h=r[5],m=r[9],v=r[2],y=r[6],_=r[10];switch(e){case"XYZ":this._y=Math.asin(Ke(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Ke(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-v,a),this._z=0);break;case"ZXY":this._x=Math.asin(Ke(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-v,_),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-Ke(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(y,_),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(Ke(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-v,a)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-Ke(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return zB.makeRotationFromQuaternion(t),this.setFromRotationMatrix(zB,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return HB.setFromEuler(this),this.setFromQuaternion(HB,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_s.DEFAULT_ORDER="XYZ";class nm{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let urt=0;const FB=new Q,np=new aa,lu=new ke,Hb=new Q,Yv=new Q,crt=new Q,frt=new aa,jB=new Q(1,0,0),VB=new Q(0,1,0),GB=new Q(0,0,1),qB={type:"added"},hrt={type:"removed"},ip={type:"childadded",child:null},Aw={type:"childremoved",child:null};class wn extends Ul{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:urt++}),this.uuid=bs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const t=new Q,e=new _s,i=new aa,r=new Q(1,1,1);function a(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ke},normalMatrix:{value:new Je}}),this.matrix=new ke,this.matrixWorld=new ke,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new nm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return np.setFromAxisAngle(t,e),this.quaternion.multiply(np),this}rotateOnWorldAxis(t,e){return np.setFromAxisAngle(t,e),this.quaternion.premultiply(np),this}rotateX(t){return this.rotateOnAxis(jB,t)}rotateY(t){return this.rotateOnAxis(VB,t)}rotateZ(t){return this.rotateOnAxis(GB,t)}translateOnAxis(t,e){return FB.copy(t).applyQuaternion(this.quaternion),this.position.add(FB.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(jB,t)}translateY(t){return this.translateOnAxis(VB,t)}translateZ(t){return this.translateOnAxis(GB,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(lu.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Hb.copy(t):Hb.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Yv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?lu.lookAt(Yv,Hb,this.up):lu.lookAt(Hb,Yv,this.up),this.quaternion.setFromRotationMatrix(lu),r&&(lu.extractRotation(r.matrixWorld),np.setFromRotationMatrix(lu),this.quaternion.premultiply(np.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(qB),ip.child=t,this.dispatchEvent(ip),ip.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(hrt),Aw.child=t,this.dispatchEvent(Aw),Aw.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),lu.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),lu.multiply(t.parent.matrixWorld)),t.applyMatrix4(lu),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(qB),ip.child=t,this.dispatchEvent(ip),ip.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yv,t,crt),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yv,frt,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(t.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let h=0,m=c.length;h<m;h++){const v=c[h];a(t.shapes,v)}else a(t.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,h=this.material.length;c<h;c++)l.push(a(t.materials,this.material[c]));r.material=l}else r.material=a(t.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];r.animations.push(a(t.animations,c))}}if(e){const l=o(t.geometries),c=o(t.materials),h=o(t.textures),m=o(t.images),v=o(t.shapes),y=o(t.skeletons),_=o(t.animations),S=o(t.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),y.length>0&&(i.skeletons=y),_.length>0&&(i.animations=_),S.length>0&&(i.nodes=S)}return i.object=r,i;function o(l){const c=[];for(const h in l){const m=l[h];delete m.metadata,c.push(m)}return c}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const r=t.children[i];this.add(r.clone())}return this}}wn.DEFAULT_UP=new Q(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Oo=new Q,uu=new Q,Tw=new Q,cu=new Q,rp=new Q,ap=new Q,kB=new Q,ww=new Q,Ow=new Q,Cw=new Q,Rw=new Tn,Dw=new Tn,Nw=new Tn;class Xa{constructor(t=new Q,e=new Q,i=new Q){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),Oo.subVectors(t,e),r.cross(Oo);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(t,e,i,r,a){Oo.subVectors(r,e),uu.subVectors(i,e),Tw.subVectors(t,e);const o=Oo.dot(Oo),l=Oo.dot(uu),c=Oo.dot(Tw),h=uu.dot(uu),m=uu.dot(Tw),v=o*h-l*l;if(v===0)return a.set(0,0,0),null;const y=1/v,_=(h*c-l*m)*y,S=(o*m-l*c)*y;return a.set(1-_-S,S,_)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,cu)===null?!1:cu.x>=0&&cu.y>=0&&cu.x+cu.y<=1}static getInterpolation(t,e,i,r,a,o,l,c){return this.getBarycoord(t,e,i,r,cu)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,cu.x),c.addScaledVector(o,cu.y),c.addScaledVector(l,cu.z),c)}static getInterpolatedAttribute(t,e,i,r,a,o){return Rw.setScalar(0),Dw.setScalar(0),Nw.setScalar(0),Rw.fromBufferAttribute(t,e),Dw.fromBufferAttribute(t,i),Nw.fromBufferAttribute(t,r),o.setScalar(0),o.addScaledVector(Rw,a.x),o.addScaledVector(Dw,a.y),o.addScaledVector(Nw,a.z),o}static isFrontFacing(t,e,i,r){return Oo.subVectors(i,e),uu.subVectors(t,e),Oo.cross(uu).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Oo.subVectors(this.c,this.b),uu.subVectors(this.a,this.b),Oo.cross(uu).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Xa.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Xa.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,r,a){return Xa.getInterpolation(t,this.a,this.b,this.c,e,i,r,a)}containsPoint(t){return Xa.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Xa.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,a=this.c;let o,l;rp.subVectors(r,i),ap.subVectors(a,i),ww.subVectors(t,i);const c=rp.dot(ww),h=ap.dot(ww);if(c<=0&&h<=0)return e.copy(i);Ow.subVectors(t,r);const m=rp.dot(Ow),v=ap.dot(Ow);if(m>=0&&v<=m)return e.copy(r);const y=c*v-m*h;if(y<=0&&c>=0&&m<=0)return o=c/(c-m),e.copy(i).addScaledVector(rp,o);Cw.subVectors(t,a);const _=rp.dot(Cw),S=ap.dot(Cw);if(S>=0&&_<=S)return e.copy(a);const E=_*h-c*S;if(E<=0&&h>=0&&S<=0)return l=h/(h-S),e.copy(i).addScaledVector(ap,l);const x=m*S-_*v;if(x<=0&&v-m>=0&&_-S>=0)return kB.subVectors(a,r),l=(v-m)/(v-m+(_-S)),e.copy(r).addScaledVector(kB,l);const M=1/(x+E+y);return o=E*M,l=y*M,e.copy(i).addScaledVector(rp,o).addScaledVector(ap,l)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const B6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Dc={h:0,s:0,l:0},Fb={h:0,s:0,l:0};function Pw(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class _e{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ta){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Sn.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=Sn.workingColorSpace){return this.r=t,this.g=e,this.b=i,Sn.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=Sn.workingColorSpace){if(t=MR(t,1),e=Ke(e,0,1),i=Ke(i,0,1),e===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+e):i+e-i*e,o=2*i-a;this.r=Pw(o,a,t+1/3),this.g=Pw(o,a,t),this.b=Pw(o,a,t-1/3)}return Sn.toWorkingColorSpace(this,r),this}setStyle(t,e=ta){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const o=r[1],l=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,e);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,e);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(a,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ta){const i=B6[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Mu(t.r),this.g=Mu(t.g),this.b=Mu(t.b),this}copyLinearToSRGB(t){return this.r=Cp(t.r),this.g=Cp(t.g),this.b=Cp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ta){return Sn.fromWorkingColorSpace($r.copy(this),t),Math.round(Ke($r.r*255,0,255))*65536+Math.round(Ke($r.g*255,0,255))*256+Math.round(Ke($r.b*255,0,255))}getHexString(t=ta){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Sn.workingColorSpace){Sn.fromWorkingColorSpace($r.copy(this),e);const i=$r.r,r=$r.g,a=$r.b,o=Math.max(i,r,a),l=Math.min(i,r,a);let c,h;const m=(l+o)/2;if(l===o)c=0,h=0;else{const v=o-l;switch(h=m<=.5?v/(o+l):v/(2-o-l),o){case i:c=(r-a)/v+(r<a?6:0);break;case r:c=(a-i)/v+2;break;case a:c=(i-r)/v+4;break}c/=6}return t.h=c,t.s=h,t.l=m,t}getRGB(t,e=Sn.workingColorSpace){return Sn.fromWorkingColorSpace($r.copy(this),e),t.r=$r.r,t.g=$r.g,t.b=$r.b,t}getStyle(t=ta){Sn.fromWorkingColorSpace($r.copy(this),t);const e=$r.r,i=$r.g,r=$r.b;return t!==ta?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(t,e,i){return this.getHSL(Dc),this.setHSL(Dc.h+t,Dc.s+e,Dc.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Dc),t.getHSL(Fb);const i=_g(Dc.h,Fb.h,e),r=_g(Dc.s,Fb.s,e),a=_g(Dc.l,Fb.l,e);return this.setHSL(i,r,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,a=t.elements;return this.r=a[0]*e+a[3]*i+a[6]*r,this.g=a[1]*e+a[4]*i+a[7]*r,this.b=a[2]*e+a[5]*i+a[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const $r=new _e;_e.NAMES=B6;let drt=0;class oa extends Ul{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:drt++}),this.uuid=bs(),this.name="",this.type="Material",this.blending=Th,this.side=wu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=wx,this.blendDst=Ox,this.blendEquation=Bc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new _e(0,0,0),this.blendAlpha=0,this.depthFunc=Ph,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=VO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dh,this.stencilZFail=dh,this.stencilZPass=dh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Th&&(i.blending=this.blending),this.side!==wu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==wx&&(i.blendSrc=this.blendSrc),this.blendDst!==Ox&&(i.blendDst=this.blendDst),this.blendEquation!==Bc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Ph&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==VO&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==dh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==dh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const l in a){const c=a[l];delete c.metadata,o.push(c)}return o}if(e){const a=r(t.textures),o=r(t.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const r=e.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=e[a].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Jc extends oa{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _e(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _s,this.combine=Ly,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const pu=prt();function prt(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const h=c-127;h<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):h<-14?(i[c]=1024>>-h-14,i[c|256]=1024>>-h-14|32768,r[c]=-h-1,r[c|256]=-h-1):h<=15?(i[c]=h+15<<10,i[c|256]=h+15<<10|32768,r[c]=13,r[c|256]=13):h<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let h=c<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,a[c]=h|m}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:l}}function qa(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ke(n,-65504,65504),pu.floatView[0]=n;const t=pu.uint32View[0],e=t>>23&511;return pu.baseTable[e]+((t&8388607)>>pu.shiftTable[e])}function sg(n){const t=n>>10;return pu.uint32View[0]=pu.mantissaTable[pu.offsetTable[t]+(n&1023)]+pu.exponentTable[t],pu.floatView[0]}class mrt{static toHalfFloat(t){return qa(t)}static fromHalfFloat(t){return sg(t)}}const Ki=new Q,jb=new Xt;let vrt=0;class ni{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:vrt++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=dy,this.updateRanges=[],this.gpuType=Wa,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)jb.fromBufferAttribute(this,e),jb.applyMatrix3(t),this.setXY(e,jb.x,jb.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Ki.fromBufferAttribute(this,e),Ki.applyMatrix3(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Ki.fromBufferAttribute(this,e),Ki.applyMatrix4(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Ki.fromBufferAttribute(this,e),Ki.applyNormalMatrix(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Ki.fromBufferAttribute(this,e),Ki.transformDirection(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Ta(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=nn(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ta(e,this.array)),e}setX(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ta(e,this.array)),e}setY(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ta(e,this.array)),e}setZ(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ta(e,this.array)),e}setW(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,a){return t*=this.itemSize,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==dy&&(t.usage=this.usage),t}}class grt extends ni{constructor(t,e,i){super(new Int8Array(t),e,i)}}class yrt extends ni{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class brt extends ni{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class _rt extends ni{constructor(t,e,i){super(new Int16Array(t),e,i)}}class ER extends ni{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class xrt extends ni{constructor(t,e,i){super(new Int32Array(t),e,i)}}class AR extends ni{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class Srt extends ni{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=sg(this.array[t*this.itemSize]);return this.normalized&&(e=Ta(e,this.array)),e}setX(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize]=qa(e),this}getY(t){let e=sg(this.array[t*this.itemSize+1]);return this.normalized&&(e=Ta(e,this.array)),e}setY(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize+1]=qa(e),this}getZ(t){let e=sg(this.array[t*this.itemSize+2]);return this.normalized&&(e=Ta(e,this.array)),e}setZ(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize+2]=qa(e),this}getW(t){let e=sg(this.array[t*this.itemSize+3]);return this.normalized&&(e=Ta(e,this.array)),e}setW(t,e){return this.normalized&&(e=nn(e,this.array)),this.array[t*this.itemSize+3]=qa(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array)),this.array[t+0]=qa(e),this.array[t+1]=qa(i),this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[t+0]=qa(e),this.array[t+1]=qa(i),this.array[t+2]=qa(r),this}setXYZW(t,e,i,r,a){return t*=this.itemSize,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.array[t+0]=qa(e),this.array[t+1]=qa(i),this.array[t+2]=qa(r),this.array[t+3]=qa(a),this}}class Te extends ni{constructor(t,e,i){super(new Float32Array(t),e,i)}}let Mrt=0;const qs=new ke,Uw=new wn,sp=new Q,ms=new Oa,Wv=new Oa,Sr=new Q;class on extends Ul{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Mrt++}),this.uuid=bs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(U6(t)?AR:ER)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Je().getNormalMatrix(t);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return qs.makeRotationFromQuaternion(t),this.applyMatrix4(qs),this}rotateX(t){return qs.makeRotationX(t),this.applyMatrix4(qs),this}rotateY(t){return qs.makeRotationY(t),this.applyMatrix4(qs),this}rotateZ(t){return qs.makeRotationZ(t),this.applyMatrix4(qs),this}translate(t,e,i){return qs.makeTranslation(t,e,i),this.applyMatrix4(qs),this}scale(t,e,i){return qs.makeScale(t,e,i),this.applyMatrix4(qs),this}lookAt(t){return Uw.lookAt(t),Uw.updateMatrix(),this.applyMatrix4(Uw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sp).negate(),this.translate(sp.x,sp.y,sp.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let r=0,a=t.length;r<a;r++){const o=t[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Te(i,3))}else{const i=Math.min(t.length,e.count);for(let r=0;r<i;r++){const a=t[r];e.setXYZ(r,a.x,a.y,a.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Oa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++){const a=e[i];ms.setFromBufferAttribute(a),this.morphTargetsRelative?(Sr.addVectors(this.boundingBox.min,ms.min),this.boundingBox.expandByPoint(Sr),Sr.addVectors(this.boundingBox.max,ms.max),this.boundingBox.expandByPoint(Sr)):(this.boundingBox.expandByPoint(ms.min),this.boundingBox.expandByPoint(ms.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(t){const i=this.boundingSphere.center;if(ms.setFromBufferAttribute(t),e)for(let a=0,o=e.length;a<o;a++){const l=e[a];Wv.setFromBufferAttribute(l),this.morphTargetsRelative?(Sr.addVectors(ms.min,Wv.min),ms.expandByPoint(Sr),Sr.addVectors(ms.max,Wv.max),ms.expandByPoint(Sr)):(ms.expandByPoint(Wv.min),ms.expandByPoint(Wv.max))}ms.getCenter(i);let r=0;for(let a=0,o=t.count;a<o;a++)Sr.fromBufferAttribute(t,a),r=Math.max(r,i.distanceToSquared(Sr));if(e)for(let a=0,o=e.length;a<o;a++){const l=e[a],c=this.morphTargetsRelative;for(let h=0,m=l.count;h<m;h++)Sr.fromBufferAttribute(l,h),c&&(sp.fromBufferAttribute(t,h),Sr.add(sp)),r=Math.max(r,i.distanceToSquared(Sr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,r=e.normal,a=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ni(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let z=0;z<i.count;z++)l[z]=new Q,c[z]=new Q;const h=new Q,m=new Q,v=new Q,y=new Xt,_=new Xt,S=new Xt,E=new Q,x=new Q;function M(z,I,B){h.fromBufferAttribute(i,z),m.fromBufferAttribute(i,I),v.fromBufferAttribute(i,B),y.fromBufferAttribute(a,z),_.fromBufferAttribute(a,I),S.fromBufferAttribute(a,B),m.sub(h),v.sub(h),_.sub(y),S.sub(y);const F=1/(_.x*S.y-S.x*_.y);isFinite(F)&&(E.copy(m).multiplyScalar(S.y).addScaledVector(v,-_.y).multiplyScalar(F),x.copy(v).multiplyScalar(_.x).addScaledVector(m,-S.x).multiplyScalar(F),l[z].add(E),l[I].add(E),l[B].add(E),c[z].add(x),c[I].add(x),c[B].add(x))}let w=this.groups;w.length===0&&(w=[{start:0,count:t.count}]);for(let z=0,I=w.length;z<I;++z){const B=w[z],F=B.start,K=B.count;for(let W=F,tt=F+K;W<tt;W+=3)M(t.getX(W+0),t.getX(W+1),t.getX(W+2))}const O=new Q,R=new Q,N=new Q,P=new Q;function U(z){N.fromBufferAttribute(r,z),P.copy(N);const I=l[z];O.copy(I),O.sub(N.multiplyScalar(N.dot(I))).normalize(),R.crossVectors(P,I);const F=R.dot(c[z])<0?-1:1;o.setXYZW(z,O.x,O.y,O.z,F)}for(let z=0,I=w.length;z<I;++z){const B=w[z],F=B.start,K=B.count;for(let W=F,tt=F+K;W<tt;W+=3)U(t.getX(W+0)),U(t.getX(W+1)),U(t.getX(W+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ni(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let y=0,_=i.count;y<_;y++)i.setXYZ(y,0,0,0);const r=new Q,a=new Q,o=new Q,l=new Q,c=new Q,h=new Q,m=new Q,v=new Q;if(t)for(let y=0,_=t.count;y<_;y+=3){const S=t.getX(y+0),E=t.getX(y+1),x=t.getX(y+2);r.fromBufferAttribute(e,S),a.fromBufferAttribute(e,E),o.fromBufferAttribute(e,x),m.subVectors(o,a),v.subVectors(r,a),m.cross(v),l.fromBufferAttribute(i,S),c.fromBufferAttribute(i,E),h.fromBufferAttribute(i,x),l.add(m),c.add(m),h.add(m),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(E,c.x,c.y,c.z),i.setXYZ(x,h.x,h.y,h.z)}else for(let y=0,_=e.count;y<_;y+=3)r.fromBufferAttribute(e,y+0),a.fromBufferAttribute(e,y+1),o.fromBufferAttribute(e,y+2),m.subVectors(o,a),v.subVectors(r,a),m.cross(v),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Sr.fromBufferAttribute(t,e),Sr.normalize(),t.setXYZ(e,Sr.x,Sr.y,Sr.z)}toNonIndexed(){function t(l,c){const h=l.array,m=l.itemSize,v=l.normalized,y=new h.constructor(c.length*m);let _=0,S=0;for(let E=0,x=c.length;E<x;E++){l.isInterleavedBufferAttribute?_=c[E]*l.data.stride+l.offset:_=c[E]*m;for(let M=0;M<m;M++)y[S++]=h[_++]}return new ni(y,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new on,i=this.index.array,r=this.attributes;for(const l in r){const c=r[l],h=t(c,i);e.setAttribute(l,h)}const a=this.morphAttributes;for(const l in a){const c=[],h=a[l];for(let m=0,v=h.length;m<v;m++){const y=h[m],_=t(y,i);c.push(_)}e.morphAttributes[l]=c}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const h=o[l];e.addGroup(h.start,h.count,h.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const h in c)c[h]!==void 0&&(t[h]=c[h]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const c in i){const h=i[c];t.data.attributes[c]=h.toJSON(t.data)}const r={};let a=!1;for(const c in this.morphAttributes){const h=this.morphAttributes[c],m=[];for(let v=0,y=h.length;v<y;v++){const _=h[v];m.push(_.toJSON(t.data))}m.length>0&&(r[c]=m,a=!0)}a&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const r=t.attributes;for(const h in r){const m=r[h];this.setAttribute(h,m.clone(e))}const a=t.morphAttributes;for(const h in a){const m=[],v=a[h];for(let y=0,_=v.length;y<_;y++)m.push(v[y].clone(e));this.morphAttributes[h]=m}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let h=0,m=o.length;h<m;h++){const v=o[h];this.addGroup(v.start,v.count,v.materialIndex)}const l=t.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=t.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const XB=new ke,Qf=new Vh,Vb=new sa,YB=new Q,Gb=new Q,qb=new Q,kb=new Q,Lw=new Q,Xb=new Q,WB=new Q,Yb=new Q;class Qi extends wn{constructor(t=new on,e=new Jc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(t,e){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(r,t);const l=this.morphTargetInfluences;if(a&&l){Xb.set(0,0,0);for(let c=0,h=a.length;c<h;c++){const m=l[c],v=a[c];m!==0&&(Lw.fromBufferAttribute(v,t),o?Xb.addScaledVector(Lw,m):Xb.addScaledVector(Lw.sub(e),m))}e.add(Xb)}return e}raycast(t,e){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Vb.copy(i.boundingSphere),Vb.applyMatrix4(a),Qf.copy(t.ray).recast(t.near),!(Vb.containsPoint(Qf.origin)===!1&&(Qf.intersectSphere(Vb,YB)===null||Qf.origin.distanceToSquared(YB)>(t.far-t.near)**2))&&(XB.copy(a).invert(),Qf.copy(t.ray).applyMatrix4(XB),!(i.boundingBox!==null&&Qf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Qf)))}_computeIntersections(t,e,i){let r;const a=this.geometry,o=this.material,l=a.index,c=a.attributes.position,h=a.attributes.uv,m=a.attributes.uv1,v=a.attributes.normal,y=a.groups,_=a.drawRange;if(l!==null)if(Array.isArray(o))for(let S=0,E=y.length;S<E;S++){const x=y[S],M=o[x.materialIndex],w=Math.max(x.start,_.start),O=Math.min(l.count,Math.min(x.start+x.count,_.start+_.count));for(let R=w,N=O;R<N;R+=3){const P=l.getX(R),U=l.getX(R+1),z=l.getX(R+2);r=Wb(this,M,t,i,h,m,v,P,U,z),r&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=x.materialIndex,e.push(r))}}else{const S=Math.max(0,_.start),E=Math.min(l.count,_.start+_.count);for(let x=S,M=E;x<M;x+=3){const w=l.getX(x),O=l.getX(x+1),R=l.getX(x+2);r=Wb(this,o,t,i,h,m,v,w,O,R),r&&(r.faceIndex=Math.floor(x/3),e.push(r))}}else if(c!==void 0)if(Array.isArray(o))for(let S=0,E=y.length;S<E;S++){const x=y[S],M=o[x.materialIndex],w=Math.max(x.start,_.start),O=Math.min(c.count,Math.min(x.start+x.count,_.start+_.count));for(let R=w,N=O;R<N;R+=3){const P=R,U=R+1,z=R+2;r=Wb(this,M,t,i,h,m,v,P,U,z),r&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=x.materialIndex,e.push(r))}}else{const S=Math.max(0,_.start),E=Math.min(c.count,_.start+_.count);for(let x=S,M=E;x<M;x+=3){const w=x,O=x+1,R=x+2;r=Wb(this,o,t,i,h,m,v,w,O,R),r&&(r.faceIndex=Math.floor(x/3),e.push(r))}}}}function Ert(n,t,e,i,r,a,o,l){let c;if(t.side===ra?c=i.intersectTriangle(o,a,r,!0,l):c=i.intersectTriangle(r,a,o,t.side===wu,l),c===null)return null;Yb.copy(l),Yb.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(Yb);return h<e.near||h>e.far?null:{distance:h,point:Yb.clone(),object:n}}function Wb(n,t,e,i,r,a,o,l,c,h){n.getVertexPosition(l,Gb),n.getVertexPosition(c,qb),n.getVertexPosition(h,kb);const m=Ert(n,t,e,i,Gb,qb,kb,WB);if(m){const v=new Q;Xa.getBarycoord(WB,Gb,qb,kb,v),r&&(m.uv=Xa.getInterpolatedAttribute(r,l,c,h,v,new Xt)),a&&(m.uv1=Xa.getInterpolatedAttribute(a,l,c,h,v,new Xt)),o&&(m.normal=Xa.getInterpolatedAttribute(o,l,c,h,v,new Q),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:l,b:c,c:h,normal:new Q,materialIndex:0};Xa.getNormal(Gb,qb,kb,y.normal),m.face=y,m.barycoord=v}return m}class Gh extends on{constructor(t=1,e=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const l=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const c=[],h=[],m=[],v=[];let y=0,_=0;S("z","y","x",-1,-1,i,e,t,o,a,0),S("z","y","x",1,-1,i,e,-t,o,a,1),S("x","z","y",1,1,t,i,e,r,o,2),S("x","z","y",1,-1,t,i,-e,r,o,3),S("x","y","z",1,-1,t,e,i,r,a,4),S("x","y","z",-1,-1,t,e,-i,r,a,5),this.setIndex(c),this.setAttribute("position",new Te(h,3)),this.setAttribute("normal",new Te(m,3)),this.setAttribute("uv",new Te(v,2));function S(E,x,M,w,O,R,N,P,U,z,I){const B=R/U,F=N/z,K=R/2,W=N/2,tt=P/2,J=U+1,H=z+1;let q=0,k=0;const it=new Q;for(let G=0;G<H;G++){const et=G*F-W;for(let ot=0;ot<J;ot++){const mt=ot*B-K;it[E]=mt*w,it[x]=et*O,it[M]=tt,h.push(it.x,it.y,it.z),it[E]=0,it[x]=0,it[M]=P>0?1:-1,m.push(it.x,it.y,it.z),v.push(ot/U),v.push(1-G/z),q+=1}}for(let G=0;G<z;G++)for(let et=0;et<U;et++){const ot=y+et+J*G,mt=y+et+J*(G+1),rt=y+(et+1)+J*(G+1),_t=y+(et+1)+J*G;c.push(ot,mt,_t),c.push(mt,rt,_t),k+=6}l.addGroup(_,k,I),_+=k,y+=q}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Gh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function im(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():Array.isArray(r)?t[e][i]=r.slice():t[e][i]=r}}return t}function Aa(n){const t={};for(let e=0;e<n.length;e++){const i=im(n[e]);for(const r in i)t[r]=i[r]}return t}function Art(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function z6(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Sn.workingColorSpace}const TR={clone:im,merge:Aa};var Trt=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wrt=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zs extends oa{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Trt,this.fragmentShader=wrt,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=im(t.uniforms),this.uniformsGroups=Art(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?e.uniforms[r]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[r]={type:"m4",value:o.toArray()}:e.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class o1 extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ke,this.projectionMatrix=new ke,this.projectionMatrixInverse=new ke,this.coordinateSystem=Uo}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Nc=new Q,ZB=new Xt,KB=new Xt;class Vi extends o1{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=em*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(wh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return em*2*Math.atan(Math.tan(wh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Nc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Nc.x,Nc.y).multiplyScalar(-t/Nc.z),Nc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Nc.x,Nc.y).multiplyScalar(-t/Nc.z)}getViewSize(t,e){return this.getViewBounds(t,ZB,KB),e.subVectors(KB,ZB)}setViewOffset(t,e,i,r,a,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(wh*.5*this.fov)/this.zoom,i=2*e,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,h=o.fullHeight;a+=o.offsetX*r/c,e-=o.offsetY*i/h,r*=o.width/c,i*=o.height/h}const l=this.filmOffset;l!==0&&(a+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const op=-90,lp=1;class H6 extends wn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Vi(op,lp,t,e);r.layers=this.layers,this.add(r);const a=new Vi(op,lp,t,e);a.layers=this.layers,this.add(a);const o=new Vi(op,lp,t,e);o.layers=this.layers,this.add(o);const l=new Vi(op,lp,t,e);l.layers=this.layers,this.add(l);const c=new Vi(op,lp,t,e);c.layers=this.layers,this.add(c);const h=new Vi(op,lp,t,e);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,a,o,l,c]=e;for(const h of e)this.remove(h);if(t===Uo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(t===py)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const h of e)this.add(h),h.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,c,h,m]=this.children,v=t.getRenderTarget(),y=t.getActiveCubeFace(),_=t.getActiveMipmapLevel(),S=t.xr.enabled;t.xr.enabled=!1;const E=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,r),t.render(e,a),t.setRenderTarget(i,1,r),t.render(e,o),t.setRenderTarget(i,2,r),t.render(e,l),t.setRenderTarget(i,3,r),t.render(e,c),t.setRenderTarget(i,4,r),t.render(e,h),i.texture.generateMipmaps=E,t.setRenderTarget(i,5,r),t.render(e,m),t.setRenderTarget(v,y,_),t.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class zy extends Li{constructor(t=[],e=Ou,i,r,a,o,l,c,h,m){super(t,e,i,r,a,o,l,c,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class F6 extends Nl{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];this.texture=new zy(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:hr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Gh(5,5,5),a=new Zs({name:"CubemapFromEquirect",uniforms:im(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ra,blending:Su});a.uniforms.tEquirect.value=e;const o=new Qi(r,a),l=e.minFilter;return e.minFilter===El&&(e.minFilter=hr),new H6(1,10,this).update(t,o),e.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(t,e=!0,i=!0,r=!0){const a=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,r);t.setRenderTarget(a)}}class Mp extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ort={type:"move"};class C_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let r=null,a=null,o=null;const l=this._targetRay,c=this._grip,h=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(h&&t.hand){o=!0;for(const E of t.hand.values()){const x=e.getJointPose(E,i),M=this._getHandJoint(h,E);x!==null&&(M.matrix.fromArray(x.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=x.radius),M.visible=x!==null}const m=h.joints["index-finger-tip"],v=h.joints["thumb-tip"],y=m.position.distanceTo(v.position),_=.02,S=.005;h.inputState.pinching&&y>_+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!h.inputState.pinching&&y<=_-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else c!==null&&t.gripSpace&&(a=e.getPose(t.gripSpace,i),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(r=e.getPose(t.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Ort)))}return l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Mp;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class l1{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new _e(t),this.density=e}clone(){return new l1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class u1{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new _e(t),this.near=e,this.far=i}clone(){return new u1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class wR extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new _s,this.environmentIntensity=1,this.environmentRotation=new _s,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class c1{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=dy,this.updateRanges=[],this.version=0,this.uuid=bs()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,a=this.stride;r<a;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bs()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bs()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ea=new Q;class Uh{constructor(t,e,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Ea.fromBufferAttribute(this,e),Ea.applyMatrix4(t),this.setXYZ(e,Ea.x,Ea.y,Ea.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Ea.fromBufferAttribute(this,e),Ea.applyNormalMatrix(t),this.setXYZ(e,Ea.x,Ea.y,Ea.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Ea.fromBufferAttribute(this,e),Ea.transformDirection(t),this.setXYZ(e,Ea.x,Ea.y,Ea.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Ta(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=nn(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=nn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=nn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=nn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=nn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ta(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ta(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ta(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ta(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=nn(e,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=a,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return new ni(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Uh(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class OR extends oa{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new _e(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let up;const Zv=new Q,cp=new Q,fp=new Q,hp=new Xt,Kv=new Xt,j6=new ke,Zb=new Q,$v=new Q,Kb=new Q,$B=new Xt,Iw=new Xt,QB=new Xt;class V6 extends wn{constructor(t=new OR){if(super(),this.isSprite=!0,this.type="Sprite",up===void 0){up=new on;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new c1(e,5);up.setIndex([0,1,2,0,2,3]),up.setAttribute("position",new Uh(i,3,0,!1)),up.setAttribute("uv",new Uh(i,2,3,!1))}this.geometry=up,this.material=t,this.center=new Xt(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cp.setFromMatrixScale(this.matrixWorld),j6.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),fp.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cp.multiplyScalar(-fp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;$b(Zb.set(-.5,-.5,0),fp,o,cp,r,a),$b($v.set(.5,-.5,0),fp,o,cp,r,a),$b(Kb.set(.5,.5,0),fp,o,cp,r,a),$B.set(0,0),Iw.set(1,0),QB.set(1,1);let l=t.ray.intersectTriangle(Zb,$v,Kb,!1,Zv);if(l===null&&($b($v.set(-.5,.5,0),fp,o,cp,r,a),Iw.set(0,1),l=t.ray.intersectTriangle(Zb,Kb,$v,!1,Zv),l===null))return;const c=t.ray.origin.distanceTo(Zv);c<t.near||c>t.far||e.push({distance:c,point:Zv.clone(),uv:Xa.getInterpolation(Zv,Zb,$v,Kb,$B,Iw,QB,new Xt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function $b(n,t,e,i,r,a){hp.subVectors(n,e).addScalar(.5).multiply(i),r!==void 0?(Kv.x=a*hp.x-r*hp.y,Kv.y=r*hp.x+a*hp.y):Kv.copy(hp),n.copy(t),n.x+=Kv.x,n.y+=Kv.y,n.applyMatrix4(j6)}const Qb=new Q,JB=new Q;class G6 extends wn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,r=e.length;i<r;i++){const a=e[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const r=this.levels;let a;for(a=0;a<r.length&&!(e<r[a].distance);a++);return r.splice(a,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const r=e.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,r;for(i=1,r=e.length;i<r;i++){let a=e[i].distance;if(e[i].object.visible&&(a-=a*e[i].hysteresis),t<a)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){Qb.setFromMatrixPosition(this.matrixWorld);const r=t.ray.origin.distanceTo(Qb);this.getObjectForDistance(r).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Qb.setFromMatrixPosition(t.matrixWorld),JB.setFromMatrixPosition(this.matrixWorld);const i=Qb.distanceTo(JB)/t.zoom;e[0].object.visible=!0;let r,a;for(r=1,a=e.length;r<a;r++){let o=e[r].distance;if(e[r].object.visible&&(o-=o*e[r].hysteresis),i>=o)e[r-1].object.visible=!1,e[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)e[r].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const tz=new Q,ez=new Tn,nz=new Tn,Crt=new Q,iz=new ke,Jb=new Q,Bw=new sa,rz=new ke,zw=new Vh;class q6 extends Qi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=jO,this.bindMatrix=new ke,this.bindMatrixInverse=new ke,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Oa),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Jb),this.boundingBox.expandByPoint(Jb)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new sa),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Jb),this.boundingSphere.expandByPoint(Jb)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Bw.copy(this.boundingSphere),Bw.applyMatrix4(r),t.ray.intersectsSphere(Bw)!==!1&&(rz.copy(r).invert(),zw.copy(t.ray).applyMatrix4(rz),!(this.boundingBox!==null&&zw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,zw)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Tn,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===jO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===b6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,r=this.geometry;ez.fromBufferAttribute(r.attributes.skinIndex,t),nz.fromBufferAttribute(r.attributes.skinWeight,t),tz.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let a=0;a<4;a++){const o=nz.getComponent(a);if(o!==0){const l=ez.getComponent(a);iz.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),e.addScaledVector(Crt.copy(tz).applyMatrix4(iz),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class CR extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ol extends Li{constructor(t=null,e=1,i=1,r,a,o,l,c,h=Hr,m=Hr,v,y){super(null,o,l,c,h,m,r,a,v,y),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const az=new ke,Rrt=new ke;class f1{constructor(t=[],e=[]){this.uuid=bs(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ke)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new ke;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=t.length;a<o;a++){const l=t[a]?t[a].matrixWorld:Rrt;az.multiplyMatrices(l,e[a]),az.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new f1(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Ol(e,t,t,ia,Wa);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,r=t.bones.length;i<r;i++){const a=t.bones[i];let o=e[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new CR),this.bones.push(o),this.boneInverses.push(new ke().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let r=0,a=e.length;r<a;r++){const o=e[r];t.bones.push(o.uuid);const l=i[r];t.boneInverses.push(l.toArray())}return t}}class rm extends ni{constructor(t,e,i,r=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const dp=new ke,sz=new ke,t_=[],oz=new Oa,Drt=new ke,Qv=new Qi,Jv=new sa;class k6 extends Qi{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new rm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Drt)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Oa),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,dp),oz.copy(t.boundingBox).applyMatrix4(dp),this.boundingBox.union(oz)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new sa),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,dp),Jv.copy(t.boundingSphere).applyMatrix4(dp),this.boundingSphere.union(Jv)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=t*a+1;for(let l=0;l<i.length;l++)i[l]=r[o+l]}raycast(t,e){const i=this.matrixWorld,r=this.count;if(Qv.geometry=this.geometry,Qv.material=this.material,Qv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jv.copy(this.boundingSphere),Jv.applyMatrix4(i),t.ray.intersectsSphere(Jv)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,dp),sz.multiplyMatrices(i,dp),Qv.matrixWorld=sz,Qv.raycast(t,t_);for(let o=0,l=t_.length;o<l;o++){const c=t_[o];c.instanceId=a,c.object=this,e.push(c)}t_.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new rm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ol(new Float32Array(r*this.count),r,this.count,e1,Wa));const a=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const l=this.geometry.morphTargetsRelative?1:1-o,c=r*t;a[c]=l,a.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Hw=new Q,Nrt=new Q,Prt=new Je;class xl{constructor(t=new Q(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=Hw.subVectors(i,e).cross(Nrt.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Hw),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const a=-(t.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:e.copy(t.start).addScaledVector(i,a)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||Prt.getNormalMatrix(t),r=this.coplanarPoint(Hw).applyMatrix4(t),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Jf=new sa,e_=new Q;class Hy{constructor(t=new xl,e=new xl,i=new xl,r=new xl,a=new xl,o=new xl){this.planes=[t,e,i,r,a,o]}set(t,e,i,r,a,o){const l=this.planes;return l[0].copy(t),l[1].copy(e),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Uo){const i=this.planes,r=t.elements,a=r[0],o=r[1],l=r[2],c=r[3],h=r[4],m=r[5],v=r[6],y=r[7],_=r[8],S=r[9],E=r[10],x=r[11],M=r[12],w=r[13],O=r[14],R=r[15];if(i[0].setComponents(c-a,y-h,x-_,R-M).normalize(),i[1].setComponents(c+a,y+h,x+_,R+M).normalize(),i[2].setComponents(c+o,y+m,x+S,R+w).normalize(),i[3].setComponents(c-o,y-m,x-S,R-w).normalize(),i[4].setComponents(c-l,y-v,x-E,R-O).normalize(),e===Uo)i[5].setComponents(c+l,y+v,x+E,R+O).normalize();else if(e===py)i[5].setComponents(l,v,E,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Jf.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Jf.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Jf)}intersectsSprite(t){return Jf.center.set(0,0,0),Jf.radius=.7071067811865476,Jf.applyMatrix4(t.matrixWorld),this.intersectsSphere(Jf)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let a=0;a<6;a++)if(e[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(e_.x=r.normal.x>0?t.max.x:t.min.x,e_.y=r.normal.y>0?t.max.y:t.min.y,e_.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(e_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Fw(n,t){return n-t}function Urt(n,t){return n.z-t.z}function Lrt(n,t){return t.z-n.z}class Irt{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];o.push(l),this.index++,l.start=t,l.count=e,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Ga=new ke,Brt=new _e(1,1,1),jw=new Hy,n_=new Oa,th=new sa,tg=new Q,lz=new Q,zrt=new Q,Vw=new Irt,Qr=new Qi,i_=[];function Hrt(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)t.setComponent(a+e,o,n.getComponent(a,o))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function eh(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class X6 extends Qi{constructor(t,e,i=e*2,r){super(new on,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new Ol(e,t,t,ia,Wa);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new Ol(e,t,t,Iy,Cu);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new Ol(e,t,t,ia,Wa);i.colorSpace=Sn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in t.attributes){const o=t.getAttribute(a),{array:l,itemSize:c,normalized:h}=o,m=new l.constructor(i*c),v=new ni(m,c,h);e.setAttribute(a,v)}if(t.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);e.setIndex(new ni(a,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=t.getAttribute(i),a=e.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Oa);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Ga),this.getBoundingBoxAt(a,n_).applyMatrix4(Ga),t.union(n_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sa);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Ga),this.getBoundingSphereAt(a,th).applyMatrix4(Ga),t.union(th)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Fw),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Ga.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(Brt.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Fw),c=this._availableGeometryIds.shift(),a[c]=r):(c=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(c,t),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=e.getIndex(),l=this._geometryInfo[t];if(r&&o.count>l.reservedIndexCount||e.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const v=e.getAttribute(m),y=i.getAttribute(m);Hrt(v,y,c);const _=v.itemSize;for(let S=v.count,E=h;S<E;S++){const x=c+S;for(let M=0;M<_;M++)y.setComponent(x,M,0)}y.needsUpdate=!0,y.addUpdateRange(c*_,h*_)}if(r){const m=l.indexStart,v=l.reservedIndexCount;l.indexCount=e.getIndex().count;for(let y=0;y<o.count;y++)a.setX(m+y,c+o.getX(y));for(let y=o.count,_=v;y<_;y++)a.setX(m+y,c);a.needsUpdate=!0,a.addUpdateRange(m,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,e.boundingBox!==null&&(l.boundingBox=e.boundingBox.clone()),l.boundingSphere=null,e.boundingSphere!==null&&(l.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===t&&this.deleteInstance(r);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,r=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),a=this.geometry;for(let o=0,l=i.length;o<l;o++){const c=r[o],h=i[c];if(h.active!==!1){if(a.index!==null){if(h.indexStart!==e){const{indexStart:m,vertexStart:v,reservedIndexCount:y}=h,_=a.index,S=_.array,E=t-v;for(let x=m;x<m+y;x++)S[x]=S[x]+E;_.array.copyWithin(e,m,m+y),_.addUpdateRange(e,y),h.indexStart=e}e+=h.reservedIndexCount}if(h.vertexStart!==t){const{vertexStart:m,reservedVertexCount:v}=h,y=a.attributes;for(const _ in y){const S=y[_],{array:E,itemSize:x}=S;E.copyWithin(t*x,m*x,(m+v)*x),S.addUpdateRange(t*x,v*x)}h.vertexStart=t}t+=h.reservedVertexCount,h.start=a.index?h.indexStart:h.vertexStart,this._nextIndexStart=a.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(r.boundingBox===null){const a=new Oa,o=i.index,l=i.attributes.position;for(let c=r.start,h=r.start+r.count;c<h;c++){let m=c;o&&(m=o.getX(m)),a.expandByPoint(tg.fromBufferAttribute(l,m))}r.boundingBox=a}return e.copy(r.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(r.boundingSphere===null){const a=new sa;this.getBoundingBoxAt(t,n_),n_.getCenter(a.center);const o=i.index,l=i.attributes.position;let c=0;for(let h=r.start,m=r.start+r.count;h<m;h++){let v=h;o&&(v=o.getX(v)),tg.fromBufferAttribute(l,v),c=Math.max(c,a.center.distanceToSquared(tg))}a.radius=Math.sqrt(c),r.boundingSphere=a}return e.copy(r.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,r=this._matricesTexture.image.data;return e.toArray(r,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(Fw);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const r=new Int32Array(t),a=new Int32Array(t);eh(this._multiDrawCounts,r),eh(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=t;const o=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;o.dispose(),this._initIndirectTexture(),eh(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),eh(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),eh(c.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new on,this._initializeGeometry(a));const o=this.geometry;a.index&&eh(a.index.array,o.index.array);for(const l in a.attributes)eh(a.attributes[l].array,o.attributes[l].array)}raycast(t,e){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Qr.material=this.material,Qr.geometry.index=o.index,Qr.geometry.attributes=o.attributes,Qr.geometry.boundingBox===null&&(Qr.geometry.boundingBox=new Oa),Qr.geometry.boundingSphere===null&&(Qr.geometry.boundingSphere=new sa);for(let l=0,c=i.length;l<c;l++){if(!i[l].visible||!i[l].active)continue;const h=i[l].geometryIndex,m=r[h];Qr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Qr.matrixWorld).premultiply(a),this.getBoundingBoxAt(h,Qr.geometry.boundingBox),this.getBoundingSphereAt(h,Qr.geometry.boundingSphere),Qr.raycast(t,i_);for(let v=0,y=i_.length;v<y;v++){const _=i_[v];_.object=this,_.batchId=l,e.push(_)}i_.length=0}Qr.material=null,Qr.geometry.index=null,Qr.geometry.attributes={},Qr.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,y=this.perObjectFrustumCulled,_=this._indirectTexture,S=_.image.data;y&&(Ga.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),jw.setFromProjectionMatrix(Ga,t.coordinateSystem));let E=0;if(this.sortObjects){Ga.copy(this.matrixWorld).invert(),tg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ga),lz.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ga);for(let w=0,O=c.length;w<O;w++)if(c[w].visible&&c[w].active){const R=c[w].geometryIndex;this.getMatrixAt(w,Ga),this.getBoundingSphereAt(R,th).applyMatrix4(Ga);let N=!1;if(y&&(N=!jw.intersectsSphere(th)),!N){const P=v[R],U=zrt.subVectors(th.center,tg).dot(lz);Vw.push(P.start,P.count,U,w)}}const x=Vw.list,M=this.customSort;M===null?x.sort(a.transparent?Lrt:Urt):M.call(this,x,i);for(let w=0,O=x.length;w<O;w++){const R=x[w];h[E]=R.start*l,m[E]=R.count,S[E]=R.index,E++}Vw.reset()}else for(let x=0,M=c.length;x<M;x++)if(c[x].visible&&c[x].active){const w=c[x].geometryIndex;let O=!1;if(y&&(this.getMatrixAt(x,Ga),this.getBoundingSphereAt(w,th).applyMatrix4(Ga),O=!jw.intersectsSphere(th)),!O){const R=v[w];h[E]=R.start*l,m[E]=R.count,S[E]=x,E++}}_.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(t,e,i,r,a,o){this.onBeforeRender(t,null,r,a,o)}}class Ca extends oa{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _e(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const uS=new Q,cS=new Q,uz=new ke,eg=new Vh,r_=new sa,Gw=new Q,cz=new Q;class Xc extends wn{constructor(t=new on,e=new Ca){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let r=1,a=e.count;r<a;r++)uS.fromBufferAttribute(e,r-1),cS.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=uS.distanceTo(cS);t.setAttribute("lineDistance",new Te(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,a=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),r_.copy(i.boundingSphere),r_.applyMatrix4(r),r_.radius+=a,t.ray.intersectsSphere(r_)===!1)return;uz.copy(r).invert(),eg.copy(t.ray).applyMatrix4(uz);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const _=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let E=_,x=S-1;E<x;E+=h){const M=m.getX(E),w=m.getX(E+1),O=a_(this,t,eg,c,M,w,E);O&&e.push(O)}if(this.isLineLoop){const E=m.getX(S-1),x=m.getX(_),M=a_(this,t,eg,c,E,x,S-1);M&&e.push(M)}}else{const _=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let E=_,x=S-1;E<x;E+=h){const M=a_(this,t,eg,c,E,E+1,E);M&&e.push(M)}if(this.isLineLoop){const E=a_(this,t,eg,c,S-1,_,S-1);E&&e.push(E)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function a_(n,t,e,i,r,a,o){const l=n.geometry.attributes.position;if(uS.fromBufferAttribute(l,r),cS.fromBufferAttribute(l,a),e.distanceSqToSegment(uS,cS,Gw,cz)>i)return;Gw.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(Gw);if(!(h<t.near||h>t.far))return{distance:h,point:cz.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const fz=new Q,hz=new Q;class Ll extends Xc{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let r=0,a=e.count;r<a;r+=2)fz.fromBufferAttribute(e,r),hz.fromBufferAttribute(e,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+fz.distanceTo(hz);t.setAttribute("lineDistance",new Te(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Y6 extends Xc{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class RR extends oa{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new _e(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const dz=new ke,qO=new Vh,s_=new sa,o_=new Q;class W6 extends wn{constructor(t=new on,e=new RR){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,a=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),s_.copy(i.boundingSphere),s_.applyMatrix4(r),s_.radius+=a,t.ray.intersectsSphere(s_)===!1)return;dz.copy(r).invert(),qO.copy(t.ray).applyMatrix4(dz);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=i.index,v=i.attributes.position;if(h!==null){const y=Math.max(0,o.start),_=Math.min(h.count,o.start+o.count);for(let S=y,E=_;S<E;S++){const x=h.getX(S);o_.fromBufferAttribute(v,x),pz(o_,x,c,r,t,e,this)}}else{const y=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let S=y,E=_;S<E;S++)o_.fromBufferAttribute(v,S),pz(o_,S,c,r,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function pz(n,t,e,i,r,a,o){const l=qO.distanceSqToPoint(n);if(l<e){const c=new Q;qO.closestPointToPoint(n,c),c.applyMatrix4(i);const h=r.ray.origin.distanceTo(c);if(h<r.near||h>r.far)return;a.push({distance:h,distanceToRay:Math.sqrt(l),point:c,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class Z6 extends Li{constructor(t,e,i,r,a=hr,o=hr,l,c,h){super(t,e,i,r,a,o,l,c,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Frt extends Z6{constructor(t,e,i,r,a,o,l,c){super({},t,e,i,r,a,o,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class jrt extends Li{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Hr,this.minFilter=Hr,this.generateMipmaps=!1,this.needsUpdate=!0}}class h1 extends Li{constructor(t,e,i,r,a,o,l,c,h,m,v,y){super(null,o,l,c,h,m,r,a,v,y),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class Vrt extends h1{constructor(t,e,i,r,a,o){super(t,e,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Xs,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Grt extends h1{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Ou),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class qrt extends Li{constructor(t,e,i,r,a,o,l,c,h){super(t,e,i,r,a,o,l,c,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DR extends Li{constructor(t,e,i=Cu,r,a,o,l=Hr,c=Hr,h,m=Jp){if(m!==Jp&&m!==tm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,a,o,l,c,m,i,h),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Fc(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class zo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),a=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),a+=i.distanceTo(r),e.push(a),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let r=0;const a=i.length;let o;e?o=e:o=t*i[a-1];let l=0,c=a-1,h;for(;l<=c;)if(r=Math.floor(l+(c-l)/2),h=i[r]-o,h<0)l=r+1;else if(h>0)c=r-1;else{c=r;break}if(r=c,i[r]===o)return r/(a-1);const m=i[r],y=i[r+1]-m,_=(o-m)/y;return(r+_)/(a-1)}getTangent(t,e){let r=t-1e-4,a=t+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),l=this.getPoint(a),c=e||(o.isVector2?new Xt:new Q);return c.copy(l).sub(o).normalize(),c}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new Q,r=[],a=[],o=[],l=new Q,c=new ke;for(let _=0;_<=t;_++){const S=_/t;r[_]=this.getTangentAt(S,new Q)}a[0]=new Q,o[0]=new Q;let h=Number.MAX_VALUE;const m=Math.abs(r[0].x),v=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=h&&(h=m,i.set(1,0,0)),v<=h&&(h=v,i.set(0,1,0)),y<=h&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),o[0].crossVectors(r[0],a[0]);for(let _=1;_<=t;_++){if(a[_]=a[_-1].clone(),o[_]=o[_-1].clone(),l.crossVectors(r[_-1],r[_]),l.length()>Number.EPSILON){l.normalize();const S=Math.acos(Ke(r[_-1].dot(r[_]),-1,1));a[_].applyMatrix4(c.makeRotationAxis(l,S))}o[_].crossVectors(r[_],a[_])}if(e===!0){let _=Math.acos(Ke(a[0].dot(a[t]),-1,1));_/=t,r[0].dot(l.crossVectors(a[0],a[t]))>0&&(_=-_);for(let S=1;S<=t;S++)a[S].applyMatrix4(c.makeRotationAxis(r[S],_*S)),o[S].crossVectors(r[S],a[S])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class d1 extends zo{constructor(t=0,e=0,i=1,r=1,a=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(t,e=new Xt){const i=e,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+t*a;let c=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),y=c-this.aX,_=h-this.aY;c=y*m-_*v+this.aX,h=y*v+_*m+this.aY}return i.set(c,h)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class K6 extends d1{constructor(t,e,i,r,a,o){super(t,e,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function NR(){let n=0,t=0,e=0,i=0;function r(a,o,l,c){n=a,t=l,e=-3*a+3*o-2*l-c,i=2*a-2*o+l+c}return{initCatmullRom:function(a,o,l,c,h){r(o,l,h*(l-a),h*(c-o))},initNonuniformCatmullRom:function(a,o,l,c,h,m,v){let y=(o-a)/h-(l-a)/(h+m)+(l-o)/m,_=(l-o)/m-(c-o)/(m+v)+(c-l)/v;y*=m,_*=m,r(o,l,y,_)},calc:function(a){const o=a*a,l=o*a;return n+t*a+e*o+i*l}}}const l_=new Q,qw=new NR,kw=new NR,Xw=new NR;class $6 extends zo{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new Q){const i=e,r=this.points,a=r.length,o=(a-(this.closed?0:1))*t;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:c===0&&l===a-1&&(l=a-2,c=1);let h,m;this.closed||l>0?h=r[(l-1)%a]:(l_.subVectors(r[0],r[1]).add(r[0]),h=l_);const v=r[l%a],y=r[(l+1)%a];if(this.closed||l+2<a?m=r[(l+2)%a]:(l_.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=l_),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let S=Math.pow(h.distanceToSquared(v),_),E=Math.pow(v.distanceToSquared(y),_),x=Math.pow(y.distanceToSquared(m),_);E<1e-4&&(E=1),S<1e-4&&(S=E),x<1e-4&&(x=E),qw.initNonuniformCatmullRom(h.x,v.x,y.x,m.x,S,E,x),kw.initNonuniformCatmullRom(h.y,v.y,y.y,m.y,S,E,x),Xw.initNonuniformCatmullRom(h.z,v.z,y.z,m.z,S,E,x)}else this.curveType==="catmullrom"&&(qw.initCatmullRom(h.x,v.x,y.x,m.x,this.tension),kw.initCatmullRom(h.y,v.y,y.y,m.y,this.tension),Xw.initCatmullRom(h.z,v.z,y.z,m.z,this.tension));return i.set(qw.calc(c),kw.calc(c),Xw.calc(c)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new Q().fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function mz(n,t,e,i,r){const a=(i-t)*.5,o=(r-e)*.5,l=n*n,c=n*l;return(2*e-2*i+a+o)*c+(-3*e+3*i-2*a-o)*l+a*n+e}function krt(n,t){const e=1-n;return e*e*t}function Xrt(n,t){return 2*(1-n)*n*t}function Yrt(n,t){return n*n*t}function xg(n,t,e,i){return krt(n,t)+Xrt(n,e)+Yrt(n,i)}function Wrt(n,t){const e=1-n;return e*e*e*t}function Zrt(n,t){const e=1-n;return 3*e*e*n*t}function Krt(n,t){return 3*(1-n)*n*n*t}function $rt(n,t){return n*n*n*t}function Sg(n,t,e,i,r){return Wrt(n,t)+Zrt(n,e)+Krt(n,i)+$rt(n,r)}class PR extends zo{constructor(t=new Xt,e=new Xt,i=new Xt,r=new Xt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new Xt){const i=e,r=this.v0,a=this.v1,o=this.v2,l=this.v3;return i.set(Sg(t,r.x,a.x,o.x,l.x),Sg(t,r.y,a.y,o.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Q6 extends zo{constructor(t=new Q,e=new Q,i=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new Q){const i=e,r=this.v0,a=this.v1,o=this.v2,l=this.v3;return i.set(Sg(t,r.x,a.x,o.x,l.x),Sg(t,r.y,a.y,o.y,l.y),Sg(t,r.z,a.z,o.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class UR extends zo{constructor(t=new Xt,e=new Xt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Xt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Xt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class J6 extends zo{constructor(t=new Q,e=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new Q){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Q){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class LR extends zo{constructor(t=new Xt,e=new Xt,i=new Xt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Xt){const i=e,r=this.v0,a=this.v1,o=this.v2;return i.set(xg(t,r.x,a.x,o.x),xg(t,r.y,a.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class IR extends zo{constructor(t=new Q,e=new Q,i=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Q){const i=e,r=this.v0,a=this.v1,o=this.v2;return i.set(xg(t,r.x,a.x,o.x),xg(t,r.y,a.y,o.y),xg(t,r.z,a.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class BR extends zo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Xt){const i=e,r=this.points,a=(r.length-1)*t,o=Math.floor(a),l=a-o,c=r[o===0?o:o-1],h=r[o],m=r[o>r.length-2?r.length-1:o+1],v=r[o>r.length-3?r.length-1:o+2];return i.set(mz(l,c.x,h.x,m.x,v.x),mz(l,c.y,h.y,m.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new Xt().fromArray(r))}return this}}var fS=Object.freeze({__proto__:null,ArcCurve:K6,CatmullRomCurve3:$6,CubicBezierCurve:PR,CubicBezierCurve3:Q6,EllipseCurve:d1,LineCurve:UR,LineCurve3:J6,QuadraticBezierCurve:LR,QuadraticBezierCurve3:IR,SplineCurve:BR});class tj extends zo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new fS[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,l=this.curves[a],c=l.getLength(),h=c===0?0:1-o/c;return l.getPointAt(h,e)}a++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],l=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,c=o.getPoints(l);for(let h=0;h<c.length;h++){const m=c[h];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(new fS[r.type]().fromJSON(r))}return this}}class vy extends tj{constructor(t){super(),this.type="Path",this.currentPoint=new Xt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new UR(this.currentPoint.clone(),new Xt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const a=new LR(this.currentPoint.clone(),new Xt(t,e),new Xt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,a,o){const l=new PR(this.currentPoint.clone(),new Xt(t,e),new Xt(i,r),new Xt(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new BR(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(t+l,e+c,i,r,a,o),this}absarc(t,e,i,r,a,o){return this.absellipse(t,e,i,i,r,a,o),this}ellipse(t,e,i,r,a,o,l,c){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+h,e+m,i,r,a,o,l,c),this}absellipse(t,e,i,r,a,o,l,c){const h=new d1(t,e,i,r,a,o,l,c);if(this.curves.length>0){const v=h.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Fy extends on{constructor(t=[new Xt(0,-.5),new Xt(.5,0),new Xt(0,.5)],e=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e),r=Ke(r,0,Math.PI*2);const a=[],o=[],l=[],c=[],h=[],m=1/e,v=new Q,y=new Xt,_=new Q,S=new Q,E=new Q;let x=0,M=0;for(let w=0;w<=t.length-1;w++)switch(w){case 0:x=t[w+1].x-t[w].x,M=t[w+1].y-t[w].y,_.x=M*1,_.y=-x,_.z=M*0,E.copy(_),_.normalize(),c.push(_.x,_.y,_.z);break;case t.length-1:c.push(E.x,E.y,E.z);break;default:x=t[w+1].x-t[w].x,M=t[w+1].y-t[w].y,_.x=M*1,_.y=-x,_.z=M*0,S.copy(_),_.x+=E.x,_.y+=E.y,_.z+=E.z,_.normalize(),c.push(_.x,_.y,_.z),E.copy(S)}for(let w=0;w<=e;w++){const O=i+w*m*r,R=Math.sin(O),N=Math.cos(O);for(let P=0;P<=t.length-1;P++){v.x=t[P].x*R,v.y=t[P].y,v.z=t[P].x*N,o.push(v.x,v.y,v.z),y.x=w/e,y.y=P/(t.length-1),l.push(y.x,y.y);const U=c[3*P+0]*R,z=c[3*P+1],I=c[3*P+0]*N;h.push(U,z,I)}}for(let w=0;w<e;w++)for(let O=0;O<t.length-1;O++){const R=O+w*t.length,N=R,P=R+t.length,U=R+t.length+1,z=R+1;a.push(N,P,z),a.push(U,z,P)}this.setIndex(a),this.setAttribute("position",new Te(o,3)),this.setAttribute("uv",new Te(l,2)),this.setAttribute("normal",new Te(h,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Fy(t.points,t.segments,t.phiStart,t.phiLength)}}class p1 extends Fy{constructor(t=1,e=1,i=4,r=8){const a=new vy;a.absarc(0,-e/2,t,Math.PI*1.5,0),a.absarc(0,e/2,t,0,Math.PI*.5),super(a.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:r}}static fromJSON(t){return new p1(t.radius,t.length,t.capSegments,t.radialSegments)}}class m1 extends on{constructor(t=1,e=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},e=Math.max(3,e);const a=[],o=[],l=[],c=[],h=new Q,m=new Xt;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let v=0,y=3;v<=e;v++,y+=3){const _=i+v/e*r;h.x=t*Math.cos(_),h.y=t*Math.sin(_),o.push(h.x,h.y,h.z),l.push(0,0,1),m.x=(o[y]/t+1)/2,m.y=(o[y+1]/t+1)/2,c.push(m.x,m.y)}for(let v=1;v<=e;v++)a.push(v,v+1,0);this.setIndex(a),this.setAttribute("position",new Te(o,3)),this.setAttribute("normal",new Te(l,3)),this.setAttribute("uv",new Te(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new m1(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class gm extends on{constructor(t=1,e=1,i=1,r=32,a=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:c};const h=this;r=Math.floor(r),a=Math.floor(a);const m=[],v=[],y=[],_=[];let S=0;const E=[],x=i/2;let M=0;w(),o===!1&&(t>0&&O(!0),e>0&&O(!1)),this.setIndex(m),this.setAttribute("position",new Te(v,3)),this.setAttribute("normal",new Te(y,3)),this.setAttribute("uv",new Te(_,2));function w(){const R=new Q,N=new Q;let P=0;const U=(e-t)/i;for(let z=0;z<=a;z++){const I=[],B=z/a,F=B*(e-t)+t;for(let K=0;K<=r;K++){const W=K/r,tt=W*c+l,J=Math.sin(tt),H=Math.cos(tt);N.x=F*J,N.y=-B*i+x,N.z=F*H,v.push(N.x,N.y,N.z),R.set(J,U,H).normalize(),y.push(R.x,R.y,R.z),_.push(W,1-B),I.push(S++)}E.push(I)}for(let z=0;z<r;z++)for(let I=0;I<a;I++){const B=E[I][z],F=E[I+1][z],K=E[I+1][z+1],W=E[I][z+1];(t>0||I!==0)&&(m.push(B,F,W),P+=3),(e>0||I!==a-1)&&(m.push(F,K,W),P+=3)}h.addGroup(M,P,0),M+=P}function O(R){const N=S,P=new Xt,U=new Q;let z=0;const I=R===!0?t:e,B=R===!0?1:-1;for(let K=1;K<=r;K++)v.push(0,x*B,0),y.push(0,B,0),_.push(.5,.5),S++;const F=S;for(let K=0;K<=r;K++){const tt=K/r*c+l,J=Math.cos(tt),H=Math.sin(tt);U.x=I*H,U.y=x*B,U.z=I*J,v.push(U.x,U.y,U.z),y.push(0,B,0),P.x=J*.5+.5,P.y=H*.5*B+.5,_.push(P.x,P.y),S++}for(let K=0;K<r;K++){const W=N+K,tt=F+K;R===!0?m.push(tt,tt+1,W):m.push(tt+1,tt,W),z+=3}h.addGroup(M,z,R===!0?1:2),M+=z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new gm(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class v1 extends gm{constructor(t=1,e=1,i=32,r=1,a=!1,o=0,l=Math.PI*2){super(0,t,e,i,r,a,o,l),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(t){return new v1(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class tf extends on{constructor(t=[],e=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r};const a=[],o=[];l(r),h(i),m(),this.setAttribute("position",new Te(a,3)),this.setAttribute("normal",new Te(a.slice(),3)),this.setAttribute("uv",new Te(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const O=new Q,R=new Q,N=new Q;for(let P=0;P<e.length;P+=3)_(e[P+0],O),_(e[P+1],R),_(e[P+2],N),c(O,R,N,w)}function c(w,O,R,N){const P=N+1,U=[];for(let z=0;z<=P;z++){U[z]=[];const I=w.clone().lerp(R,z/P),B=O.clone().lerp(R,z/P),F=P-z;for(let K=0;K<=F;K++)K===0&&z===P?U[z][K]=I:U[z][K]=I.clone().lerp(B,K/F)}for(let z=0;z<P;z++)for(let I=0;I<2*(P-z)-1;I++){const B=Math.floor(I/2);I%2===0?(y(U[z][B+1]),y(U[z+1][B]),y(U[z][B])):(y(U[z][B+1]),y(U[z+1][B+1]),y(U[z+1][B]))}}function h(w){const O=new Q;for(let R=0;R<a.length;R+=3)O.x=a[R+0],O.y=a[R+1],O.z=a[R+2],O.normalize().multiplyScalar(w),a[R+0]=O.x,a[R+1]=O.y,a[R+2]=O.z}function m(){const w=new Q;for(let O=0;O<a.length;O+=3){w.x=a[O+0],w.y=a[O+1],w.z=a[O+2];const R=x(w)/2/Math.PI+.5,N=M(w)/Math.PI+.5;o.push(R,1-N)}S(),v()}function v(){for(let w=0;w<o.length;w+=6){const O=o[w+0],R=o[w+2],N=o[w+4],P=Math.max(O,R,N),U=Math.min(O,R,N);P>.9&&U<.1&&(O<.2&&(o[w+0]+=1),R<.2&&(o[w+2]+=1),N<.2&&(o[w+4]+=1))}}function y(w){a.push(w.x,w.y,w.z)}function _(w,O){const R=w*3;O.x=t[R+0],O.y=t[R+1],O.z=t[R+2]}function S(){const w=new Q,O=new Q,R=new Q,N=new Q,P=new Xt,U=new Xt,z=new Xt;for(let I=0,B=0;I<a.length;I+=9,B+=6){w.set(a[I+0],a[I+1],a[I+2]),O.set(a[I+3],a[I+4],a[I+5]),R.set(a[I+6],a[I+7],a[I+8]),P.set(o[B+0],o[B+1]),U.set(o[B+2],o[B+3]),z.set(o[B+4],o[B+5]),N.copy(w).add(O).add(R).divideScalar(3);const F=x(N);E(P,B+0,w,F),E(U,B+2,O,F),E(z,B+4,R,F)}}function E(w,O,R,N){N<0&&w.x===1&&(o[O]=w.x-1),R.x===0&&R.z===0&&(o[O]=N/2/Math.PI+.5)}function x(w){return Math.atan2(w.z,-w.x)}function M(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new tf(t.vertices,t.indices,t.radius,t.details)}}class g1 extends tf{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new g1(t.radius,t.detail)}}const u_=new Q,c_=new Q,Yw=new Q,f_=new Xa;class ej extends on{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const r=Math.pow(10,4),a=Math.cos(wh*e),o=t.getIndex(),l=t.getAttribute("position"),c=o?o.count:l.count,h=[0,0,0],m=["a","b","c"],v=new Array(3),y={},_=[];for(let S=0;S<c;S+=3){o?(h[0]=o.getX(S),h[1]=o.getX(S+1),h[2]=o.getX(S+2)):(h[0]=S,h[1]=S+1,h[2]=S+2);const{a:E,b:x,c:M}=f_;if(E.fromBufferAttribute(l,h[0]),x.fromBufferAttribute(l,h[1]),M.fromBufferAttribute(l,h[2]),f_.getNormal(Yw),v[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,v[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,v[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let w=0;w<3;w++){const O=(w+1)%3,R=v[w],N=v[O],P=f_[m[w]],U=f_[m[O]],z=`${R}_${N}`,I=`${N}_${R}`;I in y&&y[I]?(Yw.dot(y[I].normal)<=a&&(_.push(P.x,P.y,P.z),_.push(U.x,U.y,U.z)),y[I]=null):z in y||(y[z]={index0:h[w],index1:h[O],normal:Yw.clone()})}}for(const S in y)if(y[S]){const{index0:E,index1:x}=y[S];u_.fromBufferAttribute(l,E),c_.fromBufferAttribute(l,x),_.push(u_.x,u_.y,u_.z),_.push(c_.x,c_.y,c_.z)}this.setAttribute("position",new Te(_,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Oh extends vy{constructor(t){super(t),this.uuid=bs(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(new vy().fromJSON(r))}return this}}function Qrt(n,t,e=2){const i=t&&t.length,r=i?t[0]*e:n.length;let a=nj(n,0,r,e,!0);const o=[];if(!a||a.next===a.prev)return o;let l,c,h;if(i&&(a=iat(n,t,a,e)),n.length>80*e){l=1/0,c=1/0;let m=-1/0,v=-1/0;for(let y=e;y<r;y+=e){const _=n[y],S=n[y+1];_<l&&(l=_),S<c&&(c=S),_>m&&(m=_),S>v&&(v=S)}h=Math.max(m-l,v-c),h=h!==0?32767/h:0}return gy(a,o,e,l,c,h,0),o}function nj(n,t,e,i,r){let a;if(r===pat(n,t,e,i)>0)for(let o=t;o<e;o+=i)a=vz(o/i|0,n[o],n[o+1],a);else for(let o=e-i;o>=t;o-=i)a=vz(o/i|0,n[o],n[o+1],a);return a&&am(a,a.next)&&(by(a),a=a.next),a}function Lh(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(am(e,e.next)||Ai(e.prev,e,e.next)===0)){if(by(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function gy(n,t,e,i,r,a,o){if(!n)return;!o&&a&&lat(n,i,r,a);let l=n;for(;n.prev!==n.next;){const c=n.prev,h=n.next;if(a?tat(n,i,r,a):Jrt(n)){t.push(c.i,n.i,h.i),by(n),n=h.next,l=h.next;continue}if(n=h,n===l){o?o===1?(n=eat(Lh(n),t),gy(n,t,e,i,r,a,2)):o===2&&nat(n,t,e,i,r,a):gy(Lh(n),t,e,i,r,a,1);break}}}function Jrt(n){const t=n.prev,e=n,i=n.next;if(Ai(t,e,i)>=0)return!1;const r=t.x,a=e.x,o=i.x,l=t.y,c=e.y,h=i.y,m=Math.min(r,a,o),v=Math.min(l,c,h),y=Math.max(r,a,o),_=Math.max(l,c,h);let S=i.next;for(;S!==t;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=_&&og(r,l,a,c,o,h,S.x,S.y)&&Ai(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function tat(n,t,e,i){const r=n.prev,a=n,o=n.next;if(Ai(r,a,o)>=0)return!1;const l=r.x,c=a.x,h=o.x,m=r.y,v=a.y,y=o.y,_=Math.min(l,c,h),S=Math.min(m,v,y),E=Math.max(l,c,h),x=Math.max(m,v,y),M=kO(_,S,t,e,i),w=kO(E,x,t,e,i);let O=n.prevZ,R=n.nextZ;for(;O&&O.z>=M&&R&&R.z<=w;){if(O.x>=_&&O.x<=E&&O.y>=S&&O.y<=x&&O!==r&&O!==o&&og(l,m,c,v,h,y,O.x,O.y)&&Ai(O.prev,O,O.next)>=0||(O=O.prevZ,R.x>=_&&R.x<=E&&R.y>=S&&R.y<=x&&R!==r&&R!==o&&og(l,m,c,v,h,y,R.x,R.y)&&Ai(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;O&&O.z>=M;){if(O.x>=_&&O.x<=E&&O.y>=S&&O.y<=x&&O!==r&&O!==o&&og(l,m,c,v,h,y,O.x,O.y)&&Ai(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;R&&R.z<=w;){if(R.x>=_&&R.x<=E&&R.y>=S&&R.y<=x&&R!==r&&R!==o&&og(l,m,c,v,h,y,R.x,R.y)&&Ai(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function eat(n,t){let e=n;do{const i=e.prev,r=e.next.next;!am(i,r)&&rj(i,e,e.next,r)&&yy(i,r)&&yy(r,i)&&(t.push(i.i,e.i,r.i),by(e),by(e.next),e=n=r),e=e.next}while(e!==n);return Lh(e)}function nat(n,t,e,i,r,a){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&fat(o,l)){let c=aj(o,l);o=Lh(o,o.next),c=Lh(c,c.next),gy(o,t,e,i,r,a,0),gy(c,t,e,i,r,a,0);return}l=l.next}o=o.next}while(o!==n)}function iat(n,t,e,i){const r=[];for(let a=0,o=t.length;a<o;a++){const l=t[a]*i,c=a<o-1?t[a+1]*i:n.length,h=nj(n,l,c,i,!1);h===h.next&&(h.steiner=!0),r.push(cat(h))}r.sort(rat);for(let a=0;a<r.length;a++)e=aat(r[a],e);return e}function rat(n,t){let e=n.x-t.x;if(e===0&&(e=n.y-t.y,e===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=i-r}return e}function aat(n,t){const e=sat(n,t);if(!e)return t;const i=aj(e,n);return Lh(i,i.next),Lh(e,e.next)}function sat(n,t){let e=t;const i=n.x,r=n.y;let a=-1/0,o;if(am(n,e))return e;do{if(am(n,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const v=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v<=i&&v>a&&(a=v,o=e.x<e.next.x?e:e.next,v===i))return o}e=e.next}while(e!==t);if(!o)return null;const l=o,c=o.x,h=o.y;let m=1/0;e=o;do{if(i>=e.x&&e.x>=c&&i!==e.x&&ij(r<h?i:a,r,c,h,r<h?a:i,r,e.x,e.y)){const v=Math.abs(r-e.y)/(i-e.x);yy(e,n)&&(v<m||v===m&&(e.x>o.x||e.x===o.x&&oat(o,e)))&&(o=e,m=v)}e=e.next}while(e!==l);return o}function oat(n,t){return Ai(n.prev,n,t.prev)<0&&Ai(t.next,n,n.next)<0}function lat(n,t,e,i){let r=n;do r.z===0&&(r.z=kO(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,uat(r)}function uat(n){let t,e=1;do{let i=n,r;n=null;let a=null;for(t=0;i;){t++;let o=i,l=0;for(let h=0;h<e&&(l++,o=o.nextZ,!!o);h++);let c=e;for(;l>0||c>0&&o;)l!==0&&(c===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,l--):(r=o,o=o.nextZ,c--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,e*=2}while(t>1);return n}function kO(n,t,e,i,r){return n=(n-e)*r|0,t=(t-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function cat(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function ij(n,t,e,i,r,a,o,l){return(r-o)*(t-l)>=(n-o)*(a-l)&&(n-o)*(i-l)>=(e-o)*(t-l)&&(e-o)*(a-l)>=(r-o)*(i-l)}function og(n,t,e,i,r,a,o,l){return!(n===o&&t===l)&&ij(n,t,e,i,r,a,o,l)}function fat(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!hat(n,t)&&(yy(n,t)&&yy(t,n)&&dat(n,t)&&(Ai(n.prev,n,t.prev)||Ai(n,t.prev,t))||am(n,t)&&Ai(n.prev,n,n.next)>0&&Ai(t.prev,t,t.next)>0)}function Ai(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function am(n,t){return n.x===t.x&&n.y===t.y}function rj(n,t,e,i){const r=d_(Ai(n,t,e)),a=d_(Ai(n,t,i)),o=d_(Ai(e,i,n)),l=d_(Ai(e,i,t));return!!(r!==a&&o!==l||r===0&&h_(n,e,t)||a===0&&h_(n,i,t)||o===0&&h_(e,n,i)||l===0&&h_(e,t,i))}function h_(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function d_(n){return n>0?1:n<0?-1:0}function hat(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&rj(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function yy(n,t){return Ai(n.prev,n,n.next)<0?Ai(n,t,n.next)>=0&&Ai(n,n.prev,t)>=0:Ai(n,t,n.prev)<0||Ai(n,n.next,t)<0}function dat(n,t){let e=n,i=!1;const r=(n.x+t.x)/2,a=(n.y+t.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&r<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function aj(n,t){const e=XO(n.i,n.x,n.y),i=XO(t.i,t.x,t.y),r=n.next,a=t.prev;return n.next=t,t.prev=n,e.next=r,r.prev=e,i.next=e,e.prev=i,a.next=i,i.prev=a,i}function vz(n,t,e,i){const r=XO(n,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function by(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function XO(n,t,e){return{i:n,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function pat(n,t,e,i){let r=0;for(let a=t,o=e-i;a<e;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class mat{static triangulate(t,e,i=2){return Qrt(t,e,i)}}class Cl{static area(t){const e=t.length;let i=0;for(let r=e-1,a=0;a<e;r=a++)i+=t[r].x*t[a].y-t[a].x*t[r].y;return i*.5}static isClockWise(t){return Cl.area(t)<0}static triangulateShape(t,e){const i=[],r=[],a=[];gz(t),yz(i,t);let o=t.length;e.forEach(gz);for(let c=0;c<e.length;c++)r.push(o),o+=e[c].length,yz(i,e[c]);const l=mat.triangulate(i,r);for(let c=0;c<l.length;c+=3)a.push(l.slice(c,c+3));return a}}function gz(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function yz(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class y1 extends on{constructor(t=new Oh([new Xt(.5,.5),new Xt(-.5,.5),new Xt(-.5,-.5),new Xt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],a=[];for(let l=0,c=t.length;l<c;l++){const h=t[l];o(h)}this.setAttribute("position",new Te(r,3)),this.setAttribute("uv",new Te(a,2)),this.computeVertexNormals();function o(l){const c=[],h=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let y=e.bevelEnabled!==void 0?e.bevelEnabled:!0,_=e.bevelThickness!==void 0?e.bevelThickness:.2,S=e.bevelSize!==void 0?e.bevelSize:_-.1,E=e.bevelOffset!==void 0?e.bevelOffset:0,x=e.bevelSegments!==void 0?e.bevelSegments:3;const M=e.extrudePath,w=e.UVGenerator!==void 0?e.UVGenerator:vat;let O,R=!1,N,P,U,z;M&&(O=M.getSpacedPoints(m),R=!0,y=!1,N=M.computeFrenetFrames(m,!1),P=new Q,U=new Q,z=new Q),y||(x=0,_=0,S=0,E=0);const I=l.extractPoints(h);let B=I.shape;const F=I.holes;if(!Cl.isClockWise(B)){B=B.reverse();for(let It=0,Pt=F.length;It<Pt;It++){const Ht=F[It];Cl.isClockWise(Ht)&&(F[It]=Ht.reverse())}}function W(It){const Ht=10000000000000001e-36;let ne=It[0];for(let Bt=1;Bt<=It.length;Bt++){const $=Bt%It.length,V=It[$],pt=V.x-ne.x,Nt=V.y-ne.y,jt=pt*pt+Nt*Nt,zt=Math.max(Math.abs(V.x),Math.abs(V.y),Math.abs(ne.x),Math.abs(ne.y)),le=Ht*zt*zt;if(jt<=le){It.splice($,1),Bt--;continue}ne=V}}W(B),F.forEach(W);const tt=F.length,J=B;for(let It=0;It<tt;It++){const Pt=F[It];B=B.concat(Pt)}function H(It,Pt,Ht){return Pt||console.error("THREE.ExtrudeGeometry: vec does not exist"),It.clone().addScaledVector(Pt,Ht)}const q=B.length;function k(It,Pt,Ht){let ne,Bt,$;const V=It.x-Pt.x,pt=It.y-Pt.y,Nt=Ht.x-It.x,jt=Ht.y-It.y,zt=V*V+pt*pt,le=V*jt-pt*Nt;if(Math.abs(le)>Number.EPSILON){const te=Math.sqrt(zt),ae=Math.sqrt(Nt*Nt+jt*jt),tn=Pt.x-pt/te,Jt=Pt.y+V/te,ge=Ht.x-jt/ae,Me=Ht.y+Nt/ae,Ee=((ge-tn)*jt-(Me-Jt)*Nt)/(V*jt-pt*Nt);ne=tn+V*Ee-It.x,Bt=Jt+pt*Ee-It.y;const oe=ne*ne+Bt*Bt;if(oe<=2)return new Xt(ne,Bt);$=Math.sqrt(oe/2)}else{let te=!1;V>Number.EPSILON?Nt>Number.EPSILON&&(te=!0):V<-Number.EPSILON?Nt<-Number.EPSILON&&(te=!0):Math.sign(pt)===Math.sign(jt)&&(te=!0),te?(ne=-pt,Bt=V,$=Math.sqrt(zt)):(ne=V,Bt=pt,$=Math.sqrt(zt/2))}return new Xt(ne/$,Bt/$)}const it=[];for(let It=0,Pt=J.length,Ht=Pt-1,ne=It+1;It<Pt;It++,Ht++,ne++)Ht===Pt&&(Ht=0),ne===Pt&&(ne=0),it[It]=k(J[It],J[Ht],J[ne]);const G=[];let et,ot=it.concat();for(let It=0,Pt=tt;It<Pt;It++){const Ht=F[It];et=[];for(let ne=0,Bt=Ht.length,$=Bt-1,V=ne+1;ne<Bt;ne++,$++,V++)$===Bt&&($=0),V===Bt&&(V=0),et[ne]=k(Ht[ne],Ht[$],Ht[V]);G.push(et),ot=ot.concat(et)}const mt=[],rt=[];for(let It=0;It<x;It++){const Pt=It/x,Ht=_*Math.cos(Pt*Math.PI/2),ne=S*Math.sin(Pt*Math.PI/2)+E;for(let Bt=0,$=J.length;Bt<$;Bt++){const V=H(J[Bt],it[Bt],ne);se(V.x,V.y,-Ht),Pt==0&&mt.push(V)}for(let Bt=0,$=tt;Bt<$;Bt++){const V=F[Bt];et=G[Bt];const pt=[];for(let Nt=0,jt=V.length;Nt<jt;Nt++){const zt=H(V[Nt],et[Nt],ne);se(zt.x,zt.y,-Ht),Pt==0&&pt.push(zt)}Pt==0&&rt.push(pt)}}const _t=Cl.triangulateShape(mt,rt),Ut=_t.length,Zt=S+E;for(let It=0;It<q;It++){const Pt=y?H(B[It],ot[It],Zt):B[It];R?(U.copy(N.normals[0]).multiplyScalar(Pt.x),P.copy(N.binormals[0]).multiplyScalar(Pt.y),z.copy(O[0]).add(U).add(P),se(z.x,z.y,z.z)):se(Pt.x,Pt.y,0)}for(let It=1;It<=m;It++)for(let Pt=0;Pt<q;Pt++){const Ht=y?H(B[Pt],ot[Pt],Zt):B[Pt];R?(U.copy(N.normals[It]).multiplyScalar(Ht.x),P.copy(N.binormals[It]).multiplyScalar(Ht.y),z.copy(O[It]).add(U).add(P),se(z.x,z.y,z.z)):se(Ht.x,Ht.y,v/m*It)}for(let It=x-1;It>=0;It--){const Pt=It/x,Ht=_*Math.cos(Pt*Math.PI/2),ne=S*Math.sin(Pt*Math.PI/2)+E;for(let Bt=0,$=J.length;Bt<$;Bt++){const V=H(J[Bt],it[Bt],ne);se(V.x,V.y,v+Ht)}for(let Bt=0,$=F.length;Bt<$;Bt++){const V=F[Bt];et=G[Bt];for(let pt=0,Nt=V.length;pt<Nt;pt++){const jt=H(V[pt],et[pt],ne);R?se(jt.x,jt.y+O[m-1].y,O[m-1].x+Ht):se(jt.x,jt.y,v+Ht)}}}$t(),wt();function $t(){const It=r.length/3;if(y){let Pt=0,Ht=q*Pt;for(let ne=0;ne<Ut;ne++){const Bt=_t[ne];Lt(Bt[2]+Ht,Bt[1]+Ht,Bt[0]+Ht)}Pt=m+x*2,Ht=q*Pt;for(let ne=0;ne<Ut;ne++){const Bt=_t[ne];Lt(Bt[0]+Ht,Bt[1]+Ht,Bt[2]+Ht)}}else{for(let Pt=0;Pt<Ut;Pt++){const Ht=_t[Pt];Lt(Ht[2],Ht[1],Ht[0])}for(let Pt=0;Pt<Ut;Pt++){const Ht=_t[Pt];Lt(Ht[0]+q*m,Ht[1]+q*m,Ht[2]+q*m)}}i.addGroup(It,r.length/3-It,0)}function wt(){const It=r.length/3;let Pt=0;Qt(J,Pt),Pt+=J.length;for(let Ht=0,ne=F.length;Ht<ne;Ht++){const Bt=F[Ht];Qt(Bt,Pt),Pt+=Bt.length}i.addGroup(It,r.length/3-It,1)}function Qt(It,Pt){let Ht=It.length;for(;--Ht>=0;){const ne=Ht;let Bt=Ht-1;Bt<0&&(Bt=It.length-1);for(let $=0,V=m+x*2;$<V;$++){const pt=q*$,Nt=q*($+1),jt=Pt+ne+pt,zt=Pt+Bt+pt,le=Pt+Bt+Nt,te=Pt+ne+Nt;be(jt,zt,le,te)}}}function se(It,Pt,Ht){c.push(It),c.push(Pt),c.push(Ht)}function Lt(It,Pt,Ht){nt(It),nt(Pt),nt(Ht);const ne=r.length/3,Bt=w.generateTopUV(i,r,ne-3,ne-2,ne-1);Be(Bt[0]),Be(Bt[1]),Be(Bt[2])}function be(It,Pt,Ht,ne){nt(It),nt(Pt),nt(ne),nt(Pt),nt(Ht),nt(ne);const Bt=r.length/3,$=w.generateSideWallUV(i,r,Bt-6,Bt-3,Bt-2,Bt-1);Be($[0]),Be($[1]),Be($[3]),Be($[1]),Be($[2]),Be($[3])}function nt(It){r.push(c[It*3+0]),r.push(c[It*3+1]),r.push(c[It*3+2])}function Be(It){a.push(It.x),a.push(It.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return gat(e,i,t)}static fromJSON(t,e){const i=[];for(let a=0,o=t.shapes.length;a<o;a++){const l=e[t.shapes[a]];i.push(l)}const r=t.options.extrudePath;return r!==void 0&&(t.options.extrudePath=new fS[r.type]().fromJSON(r)),new y1(i,t.options)}}const vat={generateTopUV:function(n,t,e,i,r){const a=t[e*3],o=t[e*3+1],l=t[i*3],c=t[i*3+1],h=t[r*3],m=t[r*3+1];return[new Xt(a,o),new Xt(l,c),new Xt(h,m)]},generateSideWallUV:function(n,t,e,i,r,a){const o=t[e*3],l=t[e*3+1],c=t[e*3+2],h=t[i*3],m=t[i*3+1],v=t[i*3+2],y=t[r*3],_=t[r*3+1],S=t[r*3+2],E=t[a*3],x=t[a*3+1],M=t[a*3+2];return Math.abs(l-m)<Math.abs(o-h)?[new Xt(o,1-c),new Xt(h,1-v),new Xt(y,1-S),new Xt(E,1-M)]:[new Xt(l,1-c),new Xt(m,1-v),new Xt(_,1-S),new Xt(x,1-M)]}};function gat(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class b1 extends tf{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new b1(t.radius,t.detail)}}class jy extends tf{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new jy(t.radius,t.detail)}}class ym extends on{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const a=t/2,o=e/2,l=Math.floor(i),c=Math.floor(r),h=l+1,m=c+1,v=t/l,y=e/c,_=[],S=[],E=[],x=[];for(let M=0;M<m;M++){const w=M*y-o;for(let O=0;O<h;O++){const R=O*v-a;S.push(R,-w,0),E.push(0,0,1),x.push(O/l),x.push(1-M/c)}}for(let M=0;M<c;M++)for(let w=0;w<l;w++){const O=w+h*M,R=w+h*(M+1),N=w+1+h*(M+1),P=w+1+h*M;_.push(O,R,P),_.push(R,N,P)}this.setIndex(_),this.setAttribute("position",new Te(S,3)),this.setAttribute("normal",new Te(E,3)),this.setAttribute("uv",new Te(x,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ym(t.width,t.height,t.widthSegments,t.heightSegments)}}class _1 extends on{constructor(t=.5,e=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const l=[],c=[],h=[],m=[];let v=t;const y=(e-t)/r,_=new Q,S=new Xt;for(let E=0;E<=r;E++){for(let x=0;x<=i;x++){const M=a+x/i*o;_.x=v*Math.cos(M),_.y=v*Math.sin(M),c.push(_.x,_.y,_.z),h.push(0,0,1),S.x=(_.x/e+1)/2,S.y=(_.y/e+1)/2,m.push(S.x,S.y)}v+=y}for(let E=0;E<r;E++){const x=E*(i+1);for(let M=0;M<i;M++){const w=M+x,O=w,R=w+i+1,N=w+i+2,P=w+1;l.push(O,R,P),l.push(R,N,P)}}this.setIndex(l),this.setAttribute("position",new Te(c,3)),this.setAttribute("normal",new Te(h,3)),this.setAttribute("uv",new Te(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _1(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class x1 extends on{constructor(t=new Oh([new Xt(0,.5),new Xt(-.5,-.5),new Xt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],r=[],a=[],o=[];let l=0,c=0;if(Array.isArray(t)===!1)h(t);else for(let m=0;m<t.length;m++)h(t[m]),this.addGroup(l,c,m),l+=c,c=0;this.setIndex(i),this.setAttribute("position",new Te(r,3)),this.setAttribute("normal",new Te(a,3)),this.setAttribute("uv",new Te(o,2));function h(m){const v=r.length/3,y=m.extractPoints(e);let _=y.shape;const S=y.holes;Cl.isClockWise(_)===!1&&(_=_.reverse());for(let x=0,M=S.length;x<M;x++){const w=S[x];Cl.isClockWise(w)===!0&&(S[x]=w.reverse())}const E=Cl.triangulateShape(_,S);for(let x=0,M=S.length;x<M;x++){const w=S[x];_=_.concat(w)}for(let x=0,M=_.length;x<M;x++){const w=_[x];r.push(w.x,w.y,0),a.push(0,0,1),o.push(w.x,w.y)}for(let x=0,M=E.length;x<M;x++){const w=E[x],O=w[0]+v,R=w[1]+v,N=w[2]+v;i.push(O,R,N),c+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return yat(e,t)}static fromJSON(t,e){const i=[];for(let r=0,a=t.shapes.length;r<a;r++){const o=e[t.shapes[r]];i.push(o)}return new x1(i,t.curveSegments)}}function yat(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const r=n[e];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t}class Vy extends on{constructor(t=1,e=32,i=16,r=0,a=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:l},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const c=Math.min(o+l,Math.PI);let h=0;const m=[],v=new Q,y=new Q,_=[],S=[],E=[],x=[];for(let M=0;M<=i;M++){const w=[],O=M/i;let R=0;M===0&&o===0?R=.5/e:M===i&&c===Math.PI&&(R=-.5/e);for(let N=0;N<=e;N++){const P=N/e;v.x=-t*Math.cos(r+P*a)*Math.sin(o+O*l),v.y=t*Math.cos(o+O*l),v.z=t*Math.sin(r+P*a)*Math.sin(o+O*l),S.push(v.x,v.y,v.z),y.copy(v).normalize(),E.push(y.x,y.y,y.z),x.push(P+R,1-O),w.push(h++)}m.push(w)}for(let M=0;M<i;M++)for(let w=0;w<e;w++){const O=m[M][w+1],R=m[M][w],N=m[M+1][w],P=m[M+1][w+1];(M!==0||o>0)&&_.push(O,R,P),(M!==i-1||c<Math.PI)&&_.push(R,N,P)}this.setIndex(_),this.setAttribute("position",new Te(S,3)),this.setAttribute("normal",new Te(E,3)),this.setAttribute("uv",new Te(x,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Vy(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class S1 extends tf{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new S1(t.radius,t.detail)}}class M1 extends on{constructor(t=1,e=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],h=[],m=new Q,v=new Q,y=new Q;for(let _=0;_<=i;_++)for(let S=0;S<=r;S++){const E=S/r*a,x=_/i*Math.PI*2;v.x=(t+e*Math.cos(x))*Math.cos(E),v.y=(t+e*Math.cos(x))*Math.sin(E),v.z=e*Math.sin(x),l.push(v.x,v.y,v.z),m.x=t*Math.cos(E),m.y=t*Math.sin(E),y.subVectors(v,m).normalize(),c.push(y.x,y.y,y.z),h.push(S/r),h.push(_/i)}for(let _=1;_<=i;_++)for(let S=1;S<=r;S++){const E=(r+1)*_+S-1,x=(r+1)*(_-1)+S-1,M=(r+1)*(_-1)+S,w=(r+1)*_+S;o.push(E,x,w),o.push(x,M,w)}this.setIndex(o),this.setAttribute("position",new Te(l,3)),this.setAttribute("normal",new Te(c,3)),this.setAttribute("uv",new Te(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new M1(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class E1 extends on{constructor(t=1,e=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const l=[],c=[],h=[],m=[],v=new Q,y=new Q,_=new Q,S=new Q,E=new Q,x=new Q,M=new Q;for(let O=0;O<=i;++O){const R=O/i*a*Math.PI*2;w(R,a,o,t,_),w(R+.01,a,o,t,S),x.subVectors(S,_),M.addVectors(S,_),E.crossVectors(x,M),M.crossVectors(E,x),E.normalize(),M.normalize();for(let N=0;N<=r;++N){const P=N/r*Math.PI*2,U=-e*Math.cos(P),z=e*Math.sin(P);v.x=_.x+(U*M.x+z*E.x),v.y=_.y+(U*M.y+z*E.y),v.z=_.z+(U*M.z+z*E.z),c.push(v.x,v.y,v.z),y.subVectors(v,_).normalize(),h.push(y.x,y.y,y.z),m.push(O/i),m.push(N/r)}}for(let O=1;O<=i;O++)for(let R=1;R<=r;R++){const N=(r+1)*(O-1)+(R-1),P=(r+1)*O+(R-1),U=(r+1)*O+R,z=(r+1)*(O-1)+R;l.push(N,P,z),l.push(P,U,z)}this.setIndex(l),this.setAttribute("position",new Te(c,3)),this.setAttribute("normal",new Te(h,3)),this.setAttribute("uv",new Te(m,2));function w(O,R,N,P,U){const z=Math.cos(O),I=Math.sin(O),B=N/R*O,F=Math.cos(B);U.x=P*(2+F)*.5*z,U.y=P*(2+F)*I*.5,U.z=P*Math.sin(B)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new E1(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class A1 extends on{constructor(t=new IR(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),e=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:a};const o=t.computeFrenetFrames(e,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new Q,c=new Q,h=new Xt;let m=new Q;const v=[],y=[],_=[],S=[];E(),this.setIndex(S),this.setAttribute("position",new Te(v,3)),this.setAttribute("normal",new Te(y,3)),this.setAttribute("uv",new Te(_,2));function E(){for(let O=0;O<e;O++)x(O);x(a===!1?e:0),w(),M()}function x(O){m=t.getPointAt(O/e,m);const R=o.normals[O],N=o.binormals[O];for(let P=0;P<=r;P++){const U=P/r*Math.PI*2,z=Math.sin(U),I=-Math.cos(U);c.x=I*R.x+z*N.x,c.y=I*R.y+z*N.y,c.z=I*R.z+z*N.z,c.normalize(),y.push(c.x,c.y,c.z),l.x=m.x+i*c.x,l.y=m.y+i*c.y,l.z=m.z+i*c.z,v.push(l.x,l.y,l.z)}}function M(){for(let O=1;O<=e;O++)for(let R=1;R<=r;R++){const N=(r+1)*(O-1)+(R-1),P=(r+1)*O+(R-1),U=(r+1)*O+R,z=(r+1)*(O-1)+R;S.push(N,P,z),S.push(P,U,z)}}function w(){for(let O=0;O<=e;O++)for(let R=0;R<=r;R++)h.x=O/e,h.y=R/r,_.push(h.x,h.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new A1(new fS[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class sj extends on{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,r=new Q,a=new Q;if(t.index!==null){const o=t.attributes.position,l=t.index;let c=t.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,m=c.length;h<m;++h){const v=c[h],y=v.start,_=v.count;for(let S=y,E=y+_;S<E;S+=3)for(let x=0;x<3;x++){const M=l.getX(S+x),w=l.getX(S+(x+1)%3);r.fromBufferAttribute(o,M),a.fromBufferAttribute(o,w),bz(r,a,i)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}}else{const o=t.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let h=0;h<3;h++){const m=3*l+h,v=3*l+(h+1)%3;r.fromBufferAttribute(o,m),a.fromBufferAttribute(o,v),bz(r,a,i)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}this.setAttribute("position",new Te(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function bz(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(r)===!0?!1:(e.add(i),e.add(r),!0)}var _z=Object.freeze({__proto__:null,BoxGeometry:Gh,CapsuleGeometry:p1,CircleGeometry:m1,ConeGeometry:v1,CylinderGeometry:gm,DodecahedronGeometry:g1,EdgesGeometry:ej,ExtrudeGeometry:y1,IcosahedronGeometry:b1,LatheGeometry:Fy,OctahedronGeometry:jy,PlaneGeometry:ym,PolyhedronGeometry:tf,RingGeometry:_1,ShapeGeometry:x1,SphereGeometry:Vy,TetrahedronGeometry:S1,TorusGeometry:M1,TorusKnotGeometry:E1,TubeGeometry:A1,WireframeGeometry:sj});class oj extends oa{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new _e(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class lj extends Zs{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zR extends oa{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new _e(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qc,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _s,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class uj extends zR{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ke(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new _e(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new _e(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _e(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class cj extends oa{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new _e(16777215),this.specular=new _e(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qc,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _s,this.combine=Ly,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class fj extends oa{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _e(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qc,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class hj extends oa{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qc,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class dj extends oa{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new _e(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qc,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _s,this.combine=Ly,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class HR extends oa{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=M6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class FR extends oa{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class pj extends oa{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _e(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qc,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class mj extends Ca{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Sh(n,t){return!n||n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function vj(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gj(n){function t(r,a){return n[r]-n[a]}const e=n.length,i=new Array(e);for(let r=0;r!==e;++r)i[r]=r;return i.sort(t),i}function YO(n,t,e){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const l=e[a]*t;for(let c=0;c!==t;++c)r[o++]=n[l+c]}return r}function jR(n,t,e,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(t.push(a.time),e.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(t.push(a.time),o.toArray(e,e.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(t.push(a.time),e.push(o)),a=n[r++];while(a!==void 0)}function bat(n,t,e,i,r=30){const a=n.clone();a.name=t;const o=[];for(let c=0;c<a.tracks.length;++c){const h=a.tracks[c],m=h.getValueSize(),v=[],y=[];for(let _=0;_<h.times.length;++_){const S=h.times[_]*r;if(!(S<e||S>=i)){v.push(h.times[_]);for(let E=0;E<m;++E)y.push(h.values[_*m+E])}}v.length!==0&&(h.times=Sh(v,h.times.constructor),h.values=Sh(y,h.values.constructor),o.push(h))}a.tracks=o;let l=1/0;for(let c=0;c<a.tracks.length;++c)l>a.tracks[c].times[0]&&(l=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*l);return a.resetDuration(),a}function _at(n,t=0,e=n,i=30){i<=0&&(i=30);const r=e.tracks.length,a=t/i;for(let o=0;o<r;++o){const l=e.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const h=n.tracks.find(function(M){return M.name===l.name&&M.ValueTypeName===c});if(h===void 0)continue;let m=0;const v=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let y=0;const _=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=_/3);const S=l.times.length-1;let E;if(a<=l.times[0]){const M=m,w=v-m;E=l.values.slice(M,w)}else if(a>=l.times[S]){const M=S*v+m,w=M+v-m;E=l.values.slice(M,w)}else{const M=l.createInterpolant(),w=m,O=v-m;M.evaluate(a),E=M.resultBuffer.slice(w,O)}c==="quaternion"&&new aa().fromArray(E).normalize().conjugate().toArray(E);const x=h.times.length;for(let M=0;M<x;++M){const w=M*_+y;if(c==="quaternion")aa.multiplyQuaternionsFlat(h.values,w,E,0,h.values,w);else{const O=_-y*2;for(let R=0;R<O;++R)h.values[w+R]-=E[R]}}}return n.blendMode=xR,n}class xat{static convertArray(t,e){return Sh(t,e)}static isTypedArray(t){return vj(t)}static getKeyframeOrder(t){return gj(t)}static sortedArray(t,e,i){return YO(t,e,i)}static flattenJSON(t,e,i,r){jR(t,e,i,r)}static subclip(t,e,i,r,a=30){return bat(t,e,i,r,a)}static makeClipAdditive(t,e=0,i=t,r=30){return _at(t,e,i,r)}}class Gy{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],a=e[i-1];t:{e:{let o;n:{i:if(!(t<r)){for(let l=i+2;;){if(r===void 0){if(t<a)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=e[++i],t<r)break e}o=e.length;break n}if(!(t>=a)){const l=e[1];t<l&&(i=2,a=l);for(let c=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=a,a=e[--i-1],t>=a)break e}o=i,i=0;break n}break t}for(;i<o;){const l=i+o>>>1;t<e[l]?o=l:i=l+1}if(r=e[i],a=e[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=t*r;for(let o=0;o!==r;++o)e[o]=i[a+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yj extends Gy{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_h,endingEnd:_h}}intervalChanged_(t,e,i){const r=this.parameterPositions;let a=t-2,o=t+1,l=r[a],c=r[o];if(l===void 0)switch(this.getSettings_().endingStart){case xh:a=t,l=2*e-i;break;case fy:a=r.length-2,l=e+r[a]-r[a+1];break;default:a=t,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case xh:o=t,c=2*i-e;break;case fy:o=1,c=i+r[1]-r[0];break;default:o=t-1,c=e}const h=(i-e)*.5,m=this.valueSize;this._weightPrev=h/(e-l),this._weightNext=h/(c-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(t,e,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=t*l,h=c-l,m=this._offsetPrev,v=this._offsetNext,y=this._weightPrev,_=this._weightNext,S=(i-e)/(r-e),E=S*S,x=E*S,M=-y*x+2*y*E-y*S,w=(1+y)*x+(-1.5-2*y)*E+(-.5+y)*S+1,O=(-1-_)*x+(1.5+_)*E+.5*S,R=_*x-_*E;for(let N=0;N!==l;++N)a[N]=M*o[m+N]+w*o[h+N]+O*o[c+N]+R*o[v+N];return a}}class VR extends Gy{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=t*l,h=c-l,m=(i-e)/(r-e),v=1-m;for(let y=0;y!==l;++y)a[y]=o[h+y]*v+o[c+y]*m;return a}}class bj extends Gy{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class $s{constructor(t,e,i,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Sh(e,this.TimeBufferType),this.values=Sh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Sh(t.times,Array),values:Sh(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new bj(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new VR(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new yj(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case cy:e=this.InterpolantFactoryMethodDiscrete;break;case lS:e=this.InterpolantFactoryMethodLinear;break;case w_:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return cy;case this.InterpolantFactoryMethodLinear:return lS;case this.InterpolantFactoryMethodSmooth:return w_}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<t;)++a;for(;o!==-1&&i[o]>e;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let l=0;l!==a;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),t=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),t=!1;break}o=c}if(r!==void 0&&vj(r))for(let l=0,c=r.length;l!==c;++l){const h=r[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===w_,a=t.length-1;let o=1;for(let l=1;l<a;++l){let c=!1;const h=t[l],m=t[l+1];if(h!==m&&(l!==1||h!==t[0]))if(r)c=!0;else{const v=l*i,y=v-i,_=v+i;for(let S=0;S!==i;++S){const E=e[v+S];if(E!==e[y+S]||E!==e[_+S]){c=!0;break}}}if(c){if(l!==o){t[o]=t[l];const v=l*i,y=o*i;for(let _=0;_!==i;++_)e[y+_]=e[v+_]}++o}}if(a>0){t[o]=t[a];for(let l=a*i,c=o*i,h=0;h!==i;++h)e[c+h]=e[l+h];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,r=new i(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}$s.prototype.ValueTypeName="";$s.prototype.TimeBufferType=Float32Array;$s.prototype.ValueBufferType=Float32Array;$s.prototype.DefaultInterpolation=lS;class qh extends $s{constructor(t,e,i){super(t,e,i)}}qh.prototype.ValueTypeName="bool";qh.prototype.ValueBufferType=Array;qh.prototype.DefaultInterpolation=cy;qh.prototype.InterpolantFactoryMethodLinear=void 0;qh.prototype.InterpolantFactoryMethodSmooth=void 0;class GR extends $s{constructor(t,e,i,r){super(t,e,i,r)}}GR.prototype.ValueTypeName="color";class _y extends $s{constructor(t,e,i,r){super(t,e,i,r)}}_y.prototype.ValueTypeName="number";class _j extends Gy{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(i-e)/(r-e);let h=t*l;for(let m=h+l;h!==m;h+=4)aa.slerpFlat(a,0,o,h-l,o,h,c);return a}}class qy extends $s{constructor(t,e,i,r){super(t,e,i,r)}InterpolantFactoryMethodLinear(t){return new _j(this.times,this.values,this.getValueSize(),t)}}qy.prototype.ValueTypeName="quaternion";qy.prototype.InterpolantFactoryMethodSmooth=void 0;class kh extends $s{constructor(t,e,i){super(t,e,i)}}kh.prototype.ValueTypeName="string";kh.prototype.ValueBufferType=Array;kh.prototype.DefaultInterpolation=cy;kh.prototype.InterpolantFactoryMethodLinear=void 0;kh.prototype.InterpolantFactoryMethodSmooth=void 0;class xy extends $s{constructor(t,e,i,r){super(t,e,i,r)}}xy.prototype.ValueTypeName="vector";class Sy{constructor(t="",e=-1,i=[],r=r1){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=bs(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let o=0,l=i.length;o!==l;++o)e.push(Mat(i[o]).scale(r));const a=new this(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let a=0,o=i.length;a!==o;++a)e.push($s.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const a=e.length,o=[];for(let l=0;l<a;l++){let c=[],h=[];c.push((l+a-1)%a,l,(l+1)%a),h.push(0,1,0);const m=gj(c);c=YO(c,1,m),h=YO(h,1,m),!r&&c[0]===0&&(c.push(a),h.push(h[0])),o.push(new _y(".morphTargetInfluences["+e[l].name+"]",c,h).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const r=t;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,c=t.length;l<c;l++){const h=t[l],m=h.name.match(a);if(m&&m.length>1){const v=m[1];let y=r[v];y||(r[v]=y=[]),y.push(h)}}const o=[];for(const l in r)o.push(this.CreateFromMorphTargetSequence(l,r[l],e,i));return o}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,y,_,S,E){if(_.length!==0){const x=[],M=[];jR(_,x,M,S),x.length!==0&&E.push(new v(y,x,M))}},r=[],a=t.name||"default",o=t.fps||30,l=t.blendMode;let c=t.length||-1;const h=t.hierarchy||[];for(let v=0;v<h.length;v++){const y=h[v].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const _={};let S;for(S=0;S<y.length;S++)if(y[S].morphTargets)for(let E=0;E<y[S].morphTargets.length;E++)_[y[S].morphTargets[E]]=-1;for(const E in _){const x=[],M=[];for(let w=0;w!==y[S].morphTargets.length;++w){const O=y[S];x.push(O.time),M.push(O.morphTarget===E?1:0)}r.push(new _y(".morphTargetInfluence["+E+"]",x,M))}c=_.length*o}else{const _=".bones["+e[v].name+"]";i(xy,_+".position",y,"pos",r),i(qy,_+".quaternion",y,"rot",r),i(xy,_+".scale",y,"scl",r)}}return r.length===0?null:new this(a,c,r,l)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,r=t.length;i!==r;++i){const a=this.tracks[i];e=Math.max(e,a.times[a.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Sat(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _y;case"vector":case"vector2":case"vector3":case"vector4":return xy;case"color":return GR;case"quaternion":return qy;case"bool":case"boolean":return qh;case"string":return kh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Mat(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=Sat(n.type);if(n.times===void 0){const e=[],i=[];jR(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const yu={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class qR{constructor(t,e,i){const r=this;let a=!1,o=0,l=0,c;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){l++,a===!1&&r.onStart!==void 0&&r.onStart(m,o,l),a=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,l),o===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return c?c(m):m},this.setURLModifier=function(m){return c=m,this},this.addHandler=function(m,v){return h.push(m,v),this},this.removeHandler=function(m){const v=h.indexOf(m);return v!==-1&&h.splice(v,2),this},this.getHandler=function(m){for(let v=0,y=h.length;v<y;v+=2){const _=h[v],S=h[v+1];if(_.global&&(_.lastIndex=0),_.test(m))return S}return null}}}const xj=new qR;class Ka{constructor(t){this.manager=t!==void 0?t:xj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(r,a){i.load(t,r,e,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}Ka.DEFAULT_MATERIAL_NAME="__DEFAULT";const fu={};class Eat extends Error{constructor(t,e){super(t),this.response=e}}class Ru extends Ka{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=yu.get(t);if(a!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(a),this.manager.itemEnd(t)},0),a;if(fu[t]!==void 0){fu[t].push({onLoad:e,onProgress:i,onError:r});return}fu[t]=[],fu[t].push({onLoad:e,onProgress:i,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=fu[t],v=h.body.getReader(),y=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),_=y?parseInt(y):0,S=_!==0;let E=0;const x=new ReadableStream({start(M){w();function w(){v.read().then(({done:O,value:R})=>{if(O)M.close();else{E+=R.byteLength;const N=new ProgressEvent("progress",{lengthComputable:S,loaded:E,total:_});for(let P=0,U=m.length;P<U;P++){const z=m[P];z.onProgress&&z.onProgress(N)}M.enqueue(R),w()}},O=>{M.error(O)})}}});return new Response(x)}else throw new Eat(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(c){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return h.json();default:if(l==="")return h.text();{const v=/charset="?([^;"\s]*)"?/i.exec(l),y=v&&v[1]?v[1].toLowerCase():void 0,_=new TextDecoder(y);return h.arrayBuffer().then(S=>_.decode(S))}}}).then(h=>{yu.add(t,h);const m=fu[t];delete fu[t];for(let v=0,y=m.length;v<y;v++){const _=m[v];_.onLoad&&_.onLoad(h)}}).catch(h=>{const m=fu[t];if(m===void 0)throw this.manager.itemError(t),h;delete fu[t];for(let v=0,y=m.length;v<y;v++){const _=m[v];_.onError&&_.onError(h)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Aat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new Ru(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(l){try{e(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(t)}},i,r)}parse(t){const e=[];for(let i=0;i<t.length;i++){const r=Sy.parse(t[i]);e.push(r)}return e}}class Tat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=this,o=[],l=new h1,c=new Ru(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let h=0;function m(v){c.load(t[v],function(y){const _=a.parse(y,!0);o[v]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},h+=1,h===6&&(_.mipmapCount===1&&(l.minFilter=hr),l.image=o,l.format=_.format,l.needsUpdate=!0,e&&e(l))},i,r)}if(Array.isArray(t))for(let v=0,y=t.length;v<y;++v)m(v);else c.load(t,function(v){const y=a.parse(v,!0);if(y.isCubemap){const _=y.mipmaps.length/y.mipmapCount;for(let S=0;S<_;S++){o[S]={mipmaps:[]};for(let E=0;E<y.mipmapCount;E++)o[S].mipmaps.push(y.mipmaps[S*y.mipmapCount+E]),o[S].format=y.format,o[S].width=y.width,o[S].height=y.height}l.image=o}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=hr),l.format=y.format,l.needsUpdate=!0,e&&e(l)},i,r);return l}}class My extends Ka{constructor(t){super(t)}load(t,e,i,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=yu.get(t);if(o!==void 0)return a.manager.itemStart(t),setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o;const l=my("img");function c(){m(),yu.add(t,this),e&&e(this),a.manager.itemEnd(t)}function h(v){m(),r&&r(v),a.manager.itemError(t),a.manager.itemEnd(t)}function m(){l.removeEventListener("load",c,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",h,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(t),l.src=t,l}}class wat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=new zy;a.colorSpace=ta;const o=new My(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(h){o.load(t[h],function(m){a.images[h]=m,l++,l===6&&(a.needsUpdate=!0,e&&e(a))},void 0,r)}for(let h=0;h<t.length;++h)c(h);return a}}class Oat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new Ol,l=new Ru(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(t,function(c){let h;try{h=a.parse(c)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:Xs,o.wrapT=h.wrapT!==void 0?h.wrapT:Xs,o.magFilter=h.magFilter!==void 0?h.magFilter:hr,o.minFilter=h.minFilter!==void 0?h.minFilter:hr,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=El),h.mipmapCount===1&&(o.minFilter=hr),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,e&&e(o,h)},i,r),o}}class Cat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=new Li,o=new My(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(l){a.image=l,a.needsUpdate=!0,e!==void 0&&e(a)},i,r),a}}class ef extends wn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new _e(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class Sj extends ef{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _e(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const Ww=new ke,xz=new Q,Sz=new Q;class kR{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xt(512,512),this.map=null,this.mapPass=null,this.matrix=new ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Hy,this._frameExtents=new Xt(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;xz.setFromMatrixPosition(t.matrixWorld),e.position.copy(xz),Sz.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Sz),e.updateMatrixWorld(),Ww.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ww),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ww)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Rat extends kR{constructor(){super(new Vi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=em*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=t.distance||e.far;(i!==e.fov||r!==e.aspect||a!==e.far)&&(e.fov=i,e.aspect=r,e.far=a,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Mj extends ef{constructor(t,e,i=0,r=Math.PI/3,a=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Rat}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Mz=new ke,ng=new Q,Zw=new Q;class Dat extends kR{constructor(){super(new Vi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Xt(4,2),this._viewportCount=6,this._viewports=[new Tn(2,1,1,1),new Tn(0,1,1,1),new Tn(3,1,1,1),new Tn(1,1,1,1),new Tn(3,0,1,1),new Tn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,a=t.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),ng.setFromMatrixPosition(t.matrixWorld),i.position.copy(ng),Zw.copy(i.position),Zw.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(Zw),i.updateMatrixWorld(),r.makeTranslation(-ng.x,-ng.y,-ng.z),Mz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Mz)}}class Ej extends ef{constructor(t,e,i=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Dat}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Vc extends o1{constructor(t=-1,e=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-t,o=i+t,l=r+e,c=r-e;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=h*this.view.offsetX,o=a+h*this.view.width,l-=m*this.view.offsetY,c=l-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class Nat extends kR{constructor(){super(new Vc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Aj extends ef{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new Nat}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Tj extends ef{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class wj extends ef{constructor(t,e,i=10,r=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class Oj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Q)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,r=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*a),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*r)),e.addScaledVector(o[5],1.092548*(r*a)),e.addScaledVector(o[6],.315392*(3*a*a-1)),e.addScaledVector(o[7],1.092548*(i*a)),e.addScaledVector(o[8],.546274*(i*i-r*r)),e}getIrradianceAt(t,e){const i=t.x,r=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*r),e.addScaledVector(o[2],2*.511664*a),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*r),e.addScaledVector(o[5],2*.429043*r*a),e.addScaledVector(o[6],.743125*a*a-.247708),e.addScaledVector(o[7],2*.429043*i*a),e.addScaledVector(o[8],.429043*(i*i-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,e+r*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,e+r*3);return t}static getBasisAt(t,e){const i=t.x,r=t.y,a=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*a,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*a,e[6]=.315392*(3*a*a-1),e[7]=1.092548*i*a,e[8]=.546274*(i*i-r*r)}}class Cj extends ef{constructor(t=new Oj,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class T1 extends Ka{constructor(t){super(t),this.textures={}}load(t,e,i,r){const a=this,o=new Ru(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(l){try{e(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(t)}},i,r)}parse(t){const e=this.textures;function i(a){return e[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),e[a]}const r=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(r.uuid=t.uuid),t.name!==void 0&&(r.name=t.name),t.color!==void 0&&r.color!==void 0&&r.color.setHex(t.color),t.roughness!==void 0&&(r.roughness=t.roughness),t.metalness!==void 0&&(r.metalness=t.metalness),t.sheen!==void 0&&(r.sheen=t.sheen),t.sheenColor!==void 0&&(r.sheenColor=new _e().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(r.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(t.emissive),t.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(t.specular),t.specularIntensity!==void 0&&(r.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(r.shininess=t.shininess),t.clearcoat!==void 0&&(r.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(r.dispersion=t.dispersion),t.iridescence!==void 0&&(r.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(r.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(r.transmission=t.transmission),t.thickness!==void 0&&(r.thickness=t.thickness),t.attenuationDistance!==void 0&&(r.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(r.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(r.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(r.fog=t.fog),t.flatShading!==void 0&&(r.flatShading=t.flatShading),t.blending!==void 0&&(r.blending=t.blending),t.combine!==void 0&&(r.combine=t.combine),t.side!==void 0&&(r.side=t.side),t.shadowSide!==void 0&&(r.shadowSide=t.shadowSide),t.opacity!==void 0&&(r.opacity=t.opacity),t.transparent!==void 0&&(r.transparent=t.transparent),t.alphaTest!==void 0&&(r.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(r.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(r.depthFunc=t.depthFunc),t.depthTest!==void 0&&(r.depthTest=t.depthTest),t.depthWrite!==void 0&&(r.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(r.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(r.blendSrc=t.blendSrc),t.blendDst!==void 0&&(r.blendDst=t.blendDst),t.blendEquation!==void 0&&(r.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(r.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(r.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(r.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(r.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(r.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(r.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(r.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(r.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(r.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(r.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(r.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(r.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(r.rotation=t.rotation),t.linewidth!==void 0&&(r.linewidth=t.linewidth),t.dashSize!==void 0&&(r.dashSize=t.dashSize),t.gapSize!==void 0&&(r.gapSize=t.gapSize),t.scale!==void 0&&(r.scale=t.scale),t.polygonOffset!==void 0&&(r.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(r.dithering=t.dithering),t.alphaToCoverage!==void 0&&(r.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(r.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(r.visible=t.visible),t.toneMapped!==void 0&&(r.toneMapped=t.toneMapped),t.userData!==void 0&&(r.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const a in t.uniforms){const o=t.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new _e().setHex(o.value);break;case"v2":r.uniforms[a].value=new Xt().fromArray(o.value);break;case"v3":r.uniforms[a].value=new Q().fromArray(o.value);break;case"v4":r.uniforms[a].value=new Tn().fromArray(o.value);break;case"m3":r.uniforms[a].value=new Je().fromArray(o.value);break;case"m4":r.uniforms[a].value=new ke().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(t.defines!==void 0&&(r.defines=t.defines),t.vertexShader!==void 0&&(r.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(r.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(r.glslVersion=t.glslVersion),t.extensions!==void 0)for(const a in t.extensions)r.extensions[a]=t.extensions[a];if(t.lights!==void 0&&(r.lights=t.lights),t.clipping!==void 0&&(r.clipping=t.clipping),t.size!==void 0&&(r.size=t.size),t.sizeAttenuation!==void 0&&(r.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(r.map=i(t.map)),t.matcap!==void 0&&(r.matcap=i(t.matcap)),t.alphaMap!==void 0&&(r.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(r.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(r.bumpScale=t.bumpScale),t.normalMap!==void 0&&(r.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(r.normalMapType=t.normalMapType),t.normalScale!==void 0){let a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Xt().fromArray(a)}return t.displacementMap!==void 0&&(r.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(r.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(r.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(r.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(r.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(r.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(r.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(r.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(r.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(r.envMap=i(t.envMap)),t.envMapRotation!==void 0&&r.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(r.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(r.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(r.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(r.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(r.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(r.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(r.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(r.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(r.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Xt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(r.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(r.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(r.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(r.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(r.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(t.sheenRoughnessMap)),r}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return T1.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:oj,SpriteMaterial:OR,RawShaderMaterial:lj,ShaderMaterial:Zs,PointsMaterial:RR,MeshPhysicalMaterial:uj,MeshStandardMaterial:zR,MeshPhongMaterial:cj,MeshToonMaterial:fj,MeshNormalMaterial:hj,MeshLambertMaterial:dj,MeshDepthMaterial:HR,MeshDistanceMaterial:FR,MeshBasicMaterial:Jc,MeshMatcapMaterial:pj,LineDashedMaterial:mj,LineBasicMaterial:Ca,Material:oa};return new e[t]}}class WO{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Rj extends on{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class Dj extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new Ru(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(l){try{e(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(t)}},i,r)}parse(t){const e={},i={};function r(_,S){if(e[S]!==void 0)return e[S];const x=_.interleavedBuffers[S],M=a(_,x.buffer),w=Sp(x.type,M),O=new c1(w,x.stride);return O.uuid=x.uuid,e[S]=O,O}function a(_,S){if(i[S]!==void 0)return i[S];const x=_.arrayBuffers[S],M=new Uint32Array(x).buffer;return i[S]=M,M}const o=t.isInstancedBufferGeometry?new Rj:new on,l=t.data.index;if(l!==void 0){const _=Sp(l.type,l.array);o.setIndex(new ni(_,1))}const c=t.data.attributes;for(const _ in c){const S=c[_];let E;if(S.isInterleavedBufferAttribute){const x=r(t.data,S.data);E=new Uh(x,S.itemSize,S.offset,S.normalized)}else{const x=Sp(S.type,S.array),M=S.isInstancedBufferAttribute?rm:ni;E=new M(x,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),S.usage!==void 0&&E.setUsage(S.usage),o.setAttribute(_,E)}const h=t.data.morphAttributes;if(h)for(const _ in h){const S=h[_],E=[];for(let x=0,M=S.length;x<M;x++){const w=S[x];let O;if(w.isInterleavedBufferAttribute){const R=r(t.data,w.data);O=new Uh(R,w.itemSize,w.offset,w.normalized)}else{const R=Sp(w.type,w.array);O=new ni(R,w.itemSize,w.normalized)}w.name!==void 0&&(O.name=w.name),E.push(O)}o.morphAttributes[_]=E}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let _=0,S=v.length;_!==S;++_){const E=v[_];o.addGroup(E.start,E.count,E.materialIndex)}const y=t.data.boundingSphere;if(y!==void 0){const _=new Q;y.center!==void 0&&_.fromArray(y.center),o.boundingSphere=new sa(_,y.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class Pat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=this,o=this.path===""?WO.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const l=new Ru(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(c){let h=null;try{h=JSON.parse(c)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}a.parse(h,e)},i,r)}async loadAsync(t,e){const i=this,r=this.path===""?WO.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||r;const a=new Ru(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(t,e),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(l)}parse(t,e){const i=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,r),o=this.parseImages(t.images,function(){e!==void 0&&e(h)}),l=this.parseTextures(t.textures,o),c=this.parseMaterials(t.materials,l),h=this.parseObject(t.object,a,c,l,i),m=this.parseSkeletons(t.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),e!==void 0){let v=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(h)}return h}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),a=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,a),l=this.parseMaterials(t.materials,o),c=this.parseObject(t.object,r,l,o,e),h=this.parseSkeletons(t.skeletons,c);return this.bindSkeletons(c,h),this.bindLightTargets(c),c}parseShapes(t){const e={};if(t!==void 0)for(let i=0,r=t.length;i<r;i++){const a=new Oh().fromJSON(t[i]);e[a.uuid]=a}return e}parseSkeletons(t,e){const i={},r={};if(e.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),t!==void 0)for(let a=0,o=t.length;a<o;a++){const l=new f1().fromJSON(t[a],r);i[l.uuid]=l}return i}parseGeometries(t,e){const i={};if(t!==void 0){const r=new Dj;for(let a=0,o=t.length;a<o;a++){let l;const c=t[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;default:c.type in _z?l=_z[c.type].fromJSON(c,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),i[c.uuid]=l}}return i}parseMaterials(t,e){const i={},r={};if(t!==void 0){const a=new T1;a.setTextures(e);for(let o=0,l=t.length;o<l;o++){const c=t[o];i[c.uuid]===void 0&&(i[c.uuid]=a.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const r=t[i],a=Sy.parse(r);e[a.uuid]=a}return e}parseImages(t,e){const i=this,r={};let a;function o(c){return i.manager.itemStart(c),a.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const h=c,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(m)}else return c.data?{data:Sp(c.type,c.data),width:c.width,height:c.height}:null}if(t!==void 0&&t.length>0){const c=new qR(e);a=new My(c),a.setCrossOrigin(this.crossOrigin);for(let h=0,m=t.length;h<m;h++){const v=t[h],y=v.url;if(Array.isArray(y)){const _=[];for(let S=0,E=y.length;S<E;S++){const x=y[S],M=l(x);M!==null&&(M instanceof HTMLImageElement?_.push(M):_.push(new Ol(M.data,M.width,M.height)))}r[v.uuid]=new Fc(_)}else{const _=l(v.url);r[v.uuid]=new Fc(_)}}}return r}async parseImagesAsync(t){const e=this,i={};let r;async function a(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:e.resourcePath+l;return await r.loadAsync(c)}else return o.data?{data:Sp(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){r=new My(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,l=t.length;o<l;o++){const c=t[o],h=c.url;if(Array.isArray(h)){const m=[];for(let v=0,y=h.length;v<y;v++){const _=h[v],S=await a(_);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new Ol(S.data,S.width,S.height)))}i[c.uuid]=new Fc(m)}else{const m=await a(c.url);i[c.uuid]=new Fc(m)}}}return i}parseTextures(t,e){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(t!==void 0)for(let a=0,o=t.length;a<o;a++){const l=t[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),e[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=e[l.image],h=c.data;let m;Array.isArray(h)?(m=new zy,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new Ol:m=new Li,h&&(m.needsUpdate=!0)),m.source=c,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,Uat)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],Ez),m.wrapT=i(l.wrap[1],Ez)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,Az)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,Az)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),r[l.uuid]=m}return r}parseObject(t,e,i,r,a){let o;function l(y){return e[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),e[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const _=[];for(let S=0,E=y.length;S<E;S++){const x=y[S];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),_.push(i[x])}return _}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function h(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let m,v;switch(t.type){case"Scene":o=new wR,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new _e(t.background):o.background=h(t.background)),t.environment!==void 0&&(o.environment=h(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new u1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new l1(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Vi(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Vc(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new Tj(t.color,t.intensity);break;case"DirectionalLight":o=new Aj(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new Ej(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new wj(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Mj(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new Sj(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new Cj().fromJSON(t);break;case"SkinnedMesh":m=l(t.geometry),v=c(t.material),o=new q6(m,v),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":m=l(t.geometry),v=c(t.material),o=new Qi(m,v);break;case"InstancedMesh":m=l(t.geometry),v=c(t.material);const y=t.count,_=t.instanceMatrix,S=t.instanceColor;o=new k6(m,v,y),o.instanceMatrix=new rm(new Float32Array(_.array),16),S!==void 0&&(o.instanceColor=new rm(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=l(t.geometry),v=c(t.material),o=new X6(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),o.geometry=m,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._visibility=t.visibility,o._active=t.active,o._bounds=t.bounds.map(E=>{const x=new Oa;x.min.fromArray(E.boxMin),x.max.fromArray(E.boxMax);const M=new sa;return M.radius=E.sphereRadius,M.center.fromArray(E.sphereCenter),{boxInitialized:E.boxInitialized,box:x,sphereInitialized:E.sphereInitialized,sphere:M}}),o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._geometryCount=t.geometryCount,o._matricesTexture=h(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=h(t.colorsTexture.uuid));break;case"LOD":o=new G6;break;case"Line":o=new Xc(l(t.geometry),c(t.material));break;case"LineLoop":o=new Y6(l(t.geometry),c(t.material));break;case"LineSegments":o=new Ll(l(t.geometry),c(t.material));break;case"PointCloud":case"Points":o=new W6(l(t.geometry),c(t.material));break;case"Sprite":o=new V6(c(t.material));break;case"Group":o=new Mp;break;case"Bone":o=new CR;break;default:o=new wn}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const y=t.children;for(let _=0;_<y.length;_++)o.add(this.parseObject(y[_],e,i,r,a))}if(t.animations!==void 0){const y=t.animations;for(let _=0;_<y.length;_++){const S=y[_];o.animations.push(a[S])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const y=t.levels;for(let _=0;_<y.length;_++){const S=y[_],E=o.getObjectByProperty("uuid",S.object);E!==void 0&&o.addLevel(E,S.distance,S.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=e[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,r=t.getObjectByProperty("uuid",i);r!==void 0?e.target=r:e.target=new wn}})}}const Uat={UVMapping:$S,CubeReflectionMapping:Ou,CubeRefractionMapping:qc,EquirectangularReflectionMapping:sy,EquirectangularRefractionMapping:oy,CubeUVReflectionMapping:mm},Ez={RepeatWrapping:ly,ClampToEdgeWrapping:Xs,MirroredRepeatWrapping:uy},Az={NearestFilter:Hr,NearestMipmapNearestFilter:fR,NearestMipmapLinearFilter:xp,LinearFilter:hr,LinearMipmapNearestFilter:pg,LinearMipmapLinearFilter:El};class Lat extends Ka{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=yu.get(t);if(o!==void 0){if(a.manager.itemStart(t),o.then){o.then(h=>{e&&e(h),a.manager.itemEnd(t)}).catch(h=>{r&&r(h)});return}return setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(t,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(h){return yu.add(t,h),e&&e(h),a.manager.itemEnd(t),h}).catch(function(h){r&&r(h),yu.remove(t),a.manager.itemError(t),a.manager.itemEnd(t)});yu.add(t,c),a.manager.itemStart(t)}}let p_;class XR{static getContext(){return p_===void 0&&(p_=new(window.AudioContext||window.webkitAudioContext)),p_}static setContext(t){p_=t}}class Iat extends Ka{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new Ru(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(c){try{const h=c.slice(0);XR.getContext().decodeAudioData(h,function(v){e(v)}).catch(l)}catch(h){l(h)}},i,r);function l(c){r?r(c):console.error(c),a.manager.itemError(t)}}}const Tz=new ke,wz=new ke,nh=new ke;class Bat{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,nh.copy(t.projectionMatrix);const r=e.eyeSep/2,a=r*e.near/e.focus,o=e.near*Math.tan(wh*e.fov*.5)/e.zoom;let l,c;wz.elements[12]=-r,Tz.elements[12]=r,l=-o*e.aspect+a,c=o*e.aspect+a,nh.elements[0]=2*e.near/(c-l),nh.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(nh),l=-o*e.aspect-a,c=o*e.aspect-a,nh.elements[0]=2*e.near/(c-l),nh.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(nh)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(wz),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Tz)}}class Nj extends Vi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class YR{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Oz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Oz();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Oz(){return performance.now()}const ih=new Q,Cz=new aa,zat=new Q,rh=new Q;class Hat extends wn{constructor(){super(),this.type="AudioListener",this.context=XR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ih,Cz,zat),rh.set(0,0,-1).applyQuaternion(Cz),e.positionX){const r=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(ih.x,r),e.positionY.linearRampToValueAtTime(ih.y,r),e.positionZ.linearRampToValueAtTime(ih.z,r),e.forwardX.linearRampToValueAtTime(rh.x,r),e.forwardY.linearRampToValueAtTime(rh.y,r),e.forwardZ.linearRampToValueAtTime(rh.z,r),e.upX.linearRampToValueAtTime(i.x,r),e.upY.linearRampToValueAtTime(i.y,r),e.upZ.linearRampToValueAtTime(i.z,r)}else e.setPosition(ih.x,ih.y,ih.z),e.setOrientation(rh.x,rh.y,rh.z,i.x,i.y,i.z)}}class Pj extends wn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const ah=new Q,Rz=new aa,Fat=new Q,sh=new Q;class jat extends Pj{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ah,Rz,Fat),sh.set(0,0,1).applyQuaternion(Rz);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(ah.x,i),e.positionY.linearRampToValueAtTime(ah.y,i),e.positionZ.linearRampToValueAtTime(ah.z,i),e.orientationX.linearRampToValueAtTime(sh.x,i),e.orientationY.linearRampToValueAtTime(sh.y,i),e.orientationZ.linearRampToValueAtTime(sh.z,i)}else e.setPosition(ah.x,ah.y,ah.z),e.setOrientation(sh.x,sh.y,sh.z)}}class Vat{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class Uj{constructor(t,e,i){this.binding=t,this.valueSize=i;let r,a,o;switch(e){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,r=this.valueSize,a=t*r+r;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==r;++l)i[a+l]=i[l];o=e}else{o+=e;const l=e/o;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,r=t*e+e,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=e*this._origIndex;this._mixBufferRegion(i,r,c,1-a,e)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(let c=e,h=e+e;c!==h;++c)if(i[c]!==i[c+e]){l.setValue(i,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(let a=i,o=r;a!==o;++a)e[a]=e[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)t[e+o]=t[i+o]}_slerp(t,e,i,r){aa.slerpFlat(t,e,t,e,t,i,r)}_slerpAdditive(t,e,i,r,a){const o=this._workIndex*a;aa.multiplyQuaternionsFlat(t,o,t,e,t,i),aa.slerpFlat(t,e,t,e,t,o,r)}_lerp(t,e,i,r,a){const o=1-r;for(let l=0;l!==a;++l){const c=e+l;t[c]=t[c]*o+t[i+l]*r}}_lerpAdditive(t,e,i,r,a){for(let o=0;o!==a;++o){const l=e+o;t[l]=t[l]+t[i+o]*r}}}const WR="\\[\\]\\.:\\/",Gat=new RegExp("["+WR+"]","g"),ZR="[^"+WR+"]",qat="[^"+WR.replace("\\.","")+"]",kat=/((?:WC+[\/:])*)/.source.replace("WC",ZR),Xat=/(WCOD+)?/.source.replace("WCOD",qat),Yat=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ZR),Wat=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ZR),Zat=new RegExp("^"+kat+Xat+Yat+Wat+"$"),Kat=["material","materials","bones","map"];class $at{constructor(t,e,i){const r=i||An.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class An{constructor(t,e,i){this.path=e,this.parsedPath=i||An.parseTrackName(e),this.node=An.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new An.Composite(t,e,i):new An(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Gat,"")}static parseTrackName(t){const e=Zat.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);Kat.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===e||l.uuid===e)return l;const c=i(l.children);if(c)return c}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)t[e++]=i[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,r=e.propertyName;let a=e.propertyIndex;if(t||(t=An.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===h){h=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(h!==void 0){if(t[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[h]}}const o=t[r];if(o===void 0){const h=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",t);return}let l=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?l=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[a]!==void 0&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}An.Composite=$at;An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray];An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Qat{constructor(){this.isAnimationObjectGroup=!0,this.uuid=bs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,r=arguments.length;i!==r;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let l,c=t.length,h=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const y=arguments[m],_=y.uuid;let S=e[_];if(S===void 0){S=c++,e[_]=S,t.push(y);for(let E=0,x=o;E!==x;++E)a[E].push(new An(y,i[E],r[E]))}else if(S<h){l=t[S];const E=--h,x=t[E];e[x.uuid]=S,t[S]=x,e[_]=E,t[E]=y;for(let M=0,w=o;M!==w;++M){const O=a[M],R=O[E];let N=O[S];O[S]=R,N===void 0&&(N=new An(y,i[M],r[M])),O[E]=N}}else t[S]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],h=c.uuid,m=e[h];if(m!==void 0&&m>=a){const v=a++,y=t[v];e[y.uuid]=m,t[m]=y,e[h]=v,t[v]=c;for(let _=0,S=r;_!==S;++_){const E=i[_],x=E[v],M=E[m];E[m]=x,E[v]=M}}}this.nCachedObjects_=a}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=t.length;for(let l=0,c=arguments.length;l!==c;++l){const h=arguments[l],m=h.uuid,v=e[m];if(v!==void 0)if(delete e[m],v<a){const y=--a,_=t[y],S=--o,E=t[S];e[_.uuid]=v,t[v]=_,e[E.uuid]=y,t[y]=E,t.pop();for(let x=0,M=r;x!==M;++x){const w=i[x],O=w[y],R=w[S];w[v]=O,w[y]=R,w.pop()}}else{const y=--o,_=t[y];y>0&&(e[_.uuid]=v),t[v]=_,t.pop();for(let S=0,E=r;S!==E;++S){const x=i[S];x[v]=x[y],x.pop()}}}this.nCachedObjects_=a}subscribe_(t,e){const i=this._bindingsIndicesByPath;let r=i[t];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,l=this._parsedPaths,c=this._objects,h=c.length,m=this.nCachedObjects_,v=new Array(h);r=a.length,i[t]=r,o.push(t),l.push(e),a.push(v);for(let y=m,_=c.length;y!==_;++y){const S=c[y];v[y]=new An(S,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],h=t[l];e[h]=i,o[i]=c,o.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class Lj{constructor(t,e,i=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=r;const a=e.tracks,o=a.length,l=new Array(o),c={endingStart:_h,endingEnd:_h};for(let h=0;h!==o;++h){const m=a[h].createInterpolant(null);l[h]=m,m.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=x6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const r=this._clip.duration,a=t._clip.duration,o=a/r,l=r/a;t.warp(1,o,e),this.warp(l,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const r=this._mixer,a=r.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,h=l.sampleValues;return c[0]=a,c[1]=a+i,h[0]=t/o,h[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,r){if(!this.enabled){this._updateWeight(t);return}const a=this._startTime;if(a!==null){const c=(t-a)*i;c<0||i===0?e=0:(this._startTime=null,e=i*c)}e*=this._updateTimeScale(t);const o=this._updateTime(e),l=this._updateWeight(t);if(l>0){const c=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case xR:for(let m=0,v=c.length;m!==v;++m)c[m].evaluate(o),h[m].accumulateAdditive(l);break;case r1:default:for(let m=0,v=c.length;m!==v;++m)c[m].evaluate(o),h[m].accumulate(r,l)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let r=this.time+t,a=this._loopCount;const o=i===S6;if(t===0)return a===-1?r:o&&(a&1)===1?e-r:r;if(i===_6){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else if(r<0)r=0;else{this.time=r;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(a===-1&&(t>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=e||r<0){const l=Math.floor(r/e);r-=e*l,a+=Math.abs(l);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(c===1){const h=t<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(o&&(a&1)===1)return e-r}return r}_setEndings(t,e,i){const r=this._interpolantSettings;i?(r.endingStart=xh,r.endingEnd=xh):(t?r.endingStart=this.zeroSlopeAtStart?xh:_h:r.endingStart=fy,e?r.endingEnd=this.zeroSlopeAtEnd?xh:_h:r.endingEnd=fy)}_scheduleFading(t,e,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,c[0]=e,l[1]=a+t,c[1]=i,this}}const Jat=new Float32Array(1);class tst extends Ul{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,r=t._clip.tracks,a=r.length,o=t._propertyBindings,l=t._interpolants,c=i.uuid,h=this._bindingsByRootAndName;let m=h[c];m===void 0&&(m={},h[c]=m);for(let v=0;v!==a;++v){const y=r[v],_=y.name;let S=m[_];if(S!==void 0)++S.referenceCount,o[v]=S;else{if(S=o[v],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,c,_));continue}const E=e&&e._propertyBindings[v].binding.parsedPath;S=new Uj(An.create(i,_,E),y.ValueTypeName,y.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,c,_),o[v]=S}l[v].resultBuffer=S.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,r=t._clip.uuid,a=this._actionsByClip[r];this._bindAction(t,a&&a.knownActions[0]),this._addInactiveAction(t,r,i)}const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const r=this._actions,a=this._actionsByClip;let o=a[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,a[e]=o;else{const l=o.knownActions;t._byClipCacheIndex=l.length,l.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;const a=t._clip.uuid,o=this._actionsByClip,l=o[a],c=l.knownActions,h=c[c.length-1],m=t._byClipCacheIndex;h._byClipCacheIndex=m,c[m]=h,c.pop(),t._byClipCacheIndex=null;const v=l.actionByRoot,y=(t._localRoot||this._root).uuid;delete v[y],c.length===0&&delete o[a],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_addInactiveBinding(t,e,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[e];o===void 0&&(o={},r[e]=o),o[i]=t,t._cacheIndex=a.length,a.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,l=o[r],c=e[e.length-1],h=t._cacheIndex;c._cacheIndex=h,e[h]=c,e.pop(),delete l[a],Object.keys(l).length===0&&delete o[r]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new VR(new Float32Array(2),new Float32Array(2),1,Jat),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,a=e[r];t.__cacheIndex=r,e[r]=t,a.__cacheIndex=i,e[i]=a}clipAction(t,e,i){const r=e||this._root,a=r.uuid;let o=typeof t=="string"?Sy.findByName(r,t):t;const l=o!==null?o.uuid:t,c=this._actionsByClip[l];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=r1),c!==void 0){const v=c.actionByRoot[a];if(v!==void 0&&v.blendMode===i)return v;h=c.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const m=new Lj(this,o,e,i);return this._bindAction(m,h),this._addInactiveAction(m,l,a),m}existingAction(t,e){const i=e||this._root,r=i.uuid,a=typeof t=="string"?Sy.findByName(i,t):t,o=a?a.uuid:t,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,r=this.time+=t,a=Math.sign(t),o=this._accuIndex^=1;for(let h=0;h!==i;++h)e[h]._update(r,t,a,o);const l=this._bindings,c=this._nActiveBindings;for(let h=0;h!==c;++h)l[h].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let l=0,c=o.length;l!==c;++l){const h=o[l];this._deactivateAction(h);const m=h._cacheIndex,v=e[e.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,v._cacheIndex=m,e[m]=v,e.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,c=l[e];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,a=r[e];if(a!==void 0)for(const o in a){const l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class est extends a1{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new s1(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class nst extends a1{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new By(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class w1{constructor(t){this.value=t}clone(){return new w1(this.value.clone===void 0?this.value:this.value.clone())}}let ist=0;class rst extends Ul{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ist++}),this.name="",this.usage=dy,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,r=e.length;i<r;i++){const a=Array.isArray(e[i])?e[i]:[e[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class ast extends c1{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class sst{constructor(t,e,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const Dz=new ke;class Ij{constructor(t,e,i=0,r=1/0){this.ray=new Vh(t,e),this.near=i,this.far=r,this.camera=null,this.layers=new nm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return Dz.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Dz),this}intersectObject(t,e=!0,i=[]){return ZO(t,this,i,e),i.sort(Nz),i}intersectObjects(t,e=!0,i=[]){for(let r=0,a=t.length;r<a;r++)ZO(t[r],this,i,e);return i.sort(Nz),i}}function Nz(n,t){return n.distance-t.distance}function ZO(n,t,e,i){let r=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,l=a.length;o<l;o++)ZO(a[o],t,e,!0)}}class KO{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Ke(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Ke(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ost{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class KR{constructor(t,e,i,r){KR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,r){const a=this.elements;return a[0]=t,a[2]=e,a[1]=i,a[3]=r,this}}const Pz=new Xt;class lst{constructor(t=new Xt(1/0,1/0),e=new Xt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Pz.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Pz).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Uz=new Q,m_=new Q;class ust{constructor(t=new Q,e=new Q){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Uz.subVectors(t,this.start),m_.subVectors(this.end,this.start);const i=m_.dot(m_);let a=m_.dot(Uz)/i;return e&&(a=Ke(a,0,1)),a}closestPointToPoint(t,e,i){const r=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Lz=new Q;class cst extends wn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new on,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const h=o/c*Math.PI*2,m=l/c*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Te(r,3));const a=new Ca({fog:!1,toneMapped:!1});this.cone=new Ll(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Lz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Lz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Pc=new Q,v_=new ke,Kw=new ke;class fst extends Ll{constructor(t){const e=Bj(t),i=new on,r=[],a=[],o=new _e(0,0,1),l=new _e(0,1,0);for(let h=0;h<e.length;h++){const m=e[h];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(o.r,o.g,o.b),a.push(l.r,l.g,l.b))}i.setAttribute("position",new Te(r,3)),i.setAttribute("color",new Te(a,3));const c=new Ca({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,r=i.getAttribute("position");Kw.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<e.length;a++){const l=e[a];l.parent&&l.parent.isBone&&(v_.multiplyMatrices(Kw,l.matrixWorld),Pc.setFromMatrixPosition(v_),r.setXYZ(o,Pc.x,Pc.y,Pc.z),v_.multiplyMatrices(Kw,l.parent.matrixWorld),Pc.setFromMatrixPosition(v_),r.setXYZ(o+1,Pc.x,Pc.y,Pc.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Bj(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push(...Bj(n.children[e]));return t}class hst extends Qi{constructor(t,e,i){const r=new Vy(e,4,2),a=new Jc({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const dst=new Q,Iz=new _e,Bz=new _e;class pst extends wn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new jy(e);r.rotateY(Math.PI*.5),this.material=new Jc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new ni(o,3)),this.add(new Qi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");Iz.copy(this.light.color),Bz.copy(this.light.groundColor);for(let i=0,r=e.count;i<r;i++){const a=i<r/2?Iz:Bz;e.setXYZ(i,a.r,a.g,a.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(dst.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mst extends Ll{constructor(t=10,e=10,i=4473924,r=8947848){i=new _e(i),r=new _e(r);const a=e/2,o=t/e,l=t/2,c=[],h=[];for(let y=0,_=0,S=-l;y<=e;y++,S+=o){c.push(-l,0,S,l,0,S),c.push(S,0,-l,S,0,l);const E=y===a?i:r;E.toArray(h,_),_+=3,E.toArray(h,_),_+=3,E.toArray(h,_),_+=3,E.toArray(h,_),_+=3}const m=new on;m.setAttribute("position",new Te(c,3)),m.setAttribute("color",new Te(h,3));const v=new Ca({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vst extends Ll{constructor(t=10,e=16,i=8,r=64,a=4473924,o=8947848){a=new _e(a),o=new _e(o);const l=[],c=[];if(e>1)for(let v=0;v<e;v++){const y=v/e*(Math.PI*2),_=Math.sin(y)*t,S=Math.cos(y)*t;l.push(0,0,0),l.push(_,0,S);const E=v&1?a:o;c.push(E.r,E.g,E.b),c.push(E.r,E.g,E.b)}for(let v=0;v<i;v++){const y=v&1?a:o,_=t-t/i*v;for(let S=0;S<r;S++){let E=S/r*(Math.PI*2),x=Math.sin(E)*_,M=Math.cos(E)*_;l.push(x,0,M),c.push(y.r,y.g,y.b),E=(S+1)/r*(Math.PI*2),x=Math.sin(E)*_,M=Math.cos(E)*_,l.push(x,0,M),c.push(y.r,y.g,y.b)}}const h=new on;h.setAttribute("position",new Te(l,3)),h.setAttribute("color",new Te(c,3));const m=new Ca({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const zz=new Q,g_=new Q,Hz=new Q;class gst extends wn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let r=new on;r.setAttribute("position",new Te([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const a=new Ca({fog:!1,toneMapped:!1});this.lightPlane=new Xc(r,a),this.add(this.lightPlane),r=new on,r.setAttribute("position",new Te([0,0,0,0,0,1],3)),this.targetLine=new Xc(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zz.setFromMatrixPosition(this.light.matrixWorld),g_.setFromMatrixPosition(this.light.target.matrixWorld),Hz.subVectors(g_,zz),this.lightPlane.lookAt(g_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(g_),this.targetLine.scale.z=Hz.length()}}const y_=new Q,Pi=new o1;class yst extends Ll{constructor(t){const e=new on,i=new Ca({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(S,E){c(S),c(E)}function c(S){r.push(0,0,0),a.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(r.length/3-1)}e.setAttribute("position",new Te(r,3)),e.setAttribute("color",new Te(a,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new _e(16755200),m=new _e(16711680),v=new _e(43775),y=new _e(16777215),_=new _e(3355443);this.setColors(h,m,v,y,_)}setColors(t,e,i,r,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,t.r,t.g,t.b),l.setXYZ(1,t.r,t.g,t.b),l.setXYZ(2,t.r,t.g,t.b),l.setXYZ(3,t.r,t.g,t.b),l.setXYZ(4,t.r,t.g,t.b),l.setXYZ(5,t.r,t.g,t.b),l.setXYZ(6,t.r,t.g,t.b),l.setXYZ(7,t.r,t.g,t.b),l.setXYZ(8,t.r,t.g,t.b),l.setXYZ(9,t.r,t.g,t.b),l.setXYZ(10,t.r,t.g,t.b),l.setXYZ(11,t.r,t.g,t.b),l.setXYZ(12,t.r,t.g,t.b),l.setXYZ(13,t.r,t.g,t.b),l.setXYZ(14,t.r,t.g,t.b),l.setXYZ(15,t.r,t.g,t.b),l.setXYZ(16,t.r,t.g,t.b),l.setXYZ(17,t.r,t.g,t.b),l.setXYZ(18,t.r,t.g,t.b),l.setXYZ(19,t.r,t.g,t.b),l.setXYZ(20,t.r,t.g,t.b),l.setXYZ(21,t.r,t.g,t.b),l.setXYZ(22,t.r,t.g,t.b),l.setXYZ(23,t.r,t.g,t.b),l.setXYZ(24,e.r,e.g,e.b),l.setXYZ(25,e.r,e.g,e.b),l.setXYZ(26,e.r,e.g,e.b),l.setXYZ(27,e.r,e.g,e.b),l.setXYZ(28,e.r,e.g,e.b),l.setXYZ(29,e.r,e.g,e.b),l.setXYZ(30,e.r,e.g,e.b),l.setXYZ(31,e.r,e.g,e.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,r=1;Pi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Uo?-1:0;ji("c",e,t,Pi,0,0,a),ji("t",e,t,Pi,0,0,1),ji("n1",e,t,Pi,-1,-1,a),ji("n2",e,t,Pi,i,-1,a),ji("n3",e,t,Pi,-1,r,a),ji("n4",e,t,Pi,i,r,a),ji("f1",e,t,Pi,-1,-1,1),ji("f2",e,t,Pi,i,-1,1),ji("f3",e,t,Pi,-1,r,1),ji("f4",e,t,Pi,i,r,1),ji("u1",e,t,Pi,i*.7,r*1.1,a),ji("u2",e,t,Pi,-1*.7,r*1.1,a),ji("u3",e,t,Pi,0,r*2,a),ji("cf1",e,t,Pi,-1,0,1),ji("cf2",e,t,Pi,i,0,1),ji("cf3",e,t,Pi,0,-1,1),ji("cf4",e,t,Pi,0,r,1),ji("cn1",e,t,Pi,-1,0,a),ji("cn2",e,t,Pi,i,0,a),ji("cn3",e,t,Pi,0,-1,a),ji("cn4",e,t,Pi,0,r,a),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ji(n,t,e,i,r,a,o){y_.set(r,a,o).unproject(i);const l=t[n];if(l!==void 0){const c=e.getAttribute("position");for(let h=0,m=l.length;h<m;h++)c.setXYZ(l[h],y_.x,y_.y,y_.z)}}const b_=new Oa;class bst extends Ll{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new on;a.setIndex(new ni(i,1)),a.setAttribute("position",new ni(r,3)),super(a,new Ca({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&b_.setFromObject(this.object),b_.isEmpty())return;const t=b_.min,e=b_.max,i=this.geometry.attributes.position,r=i.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _st extends Ll{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new on;a.setIndex(new ni(i,1)),a.setAttribute("position",new Te(r,3)),super(a,new Ca({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class xst extends Xc{constructor(t,e=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new on;o.setAttribute("position",new Te(a,3)),o.computeBoundingSphere(),super(o,new Ca({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new on;c.setAttribute("position",new Te(l,3)),c.computeBoundingSphere(),this.add(new Qi(c,new Jc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Fz=new Q;let __,$w;class Sst extends wn{constructor(t=new Q(0,0,1),e=new Q(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",__===void 0&&(__=new on,__.setAttribute("position",new Te([0,0,0,0,1,0],3)),$w=new gm(0,.5,1,5,1),$w.translate(0,-.5,0)),this.position.copy(e),this.line=new Xc(__,new Ca({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qi($w,new Jc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,a,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Fz.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Fz,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Mst extends Ll{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new on;r.setAttribute("position",new Te(e,3)),r.setAttribute("color",new Te(i,3));const a=new Ca({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(t,e,i){const r=new _e,a=this.geometry.attributes.color.array;return r.set(t),r.toArray(a,0),r.toArray(a,3),r.set(e),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Est{constructor(){this.type="ShapePath",this.color=new _e,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new vy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,r){return this.currentPath.quadraticCurveTo(t,e,i,r),this}bezierCurveTo(t,e,i,r,a,o){return this.currentPath.bezierCurveTo(t,e,i,r,a,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(M){const w=[];for(let O=0,R=M.length;O<R;O++){const N=M[O],P=new Oh;P.curves=N.curves,w.push(P)}return w}function i(M,w){const O=w.length;let R=!1;for(let N=O-1,P=0;P<O;N=P++){let U=w[N],z=w[P],I=z.x-U.x,B=z.y-U.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(U=w[P],I=-I,z=w[N],B=-B),M.y<U.y||M.y>z.y)continue;if(M.y===U.y){if(M.x===U.x)return!0}else{const F=B*(M.x-U.x)-I*(M.y-U.y);if(F===0)return!0;if(F<0)continue;R=!R}}else{if(M.y!==U.y)continue;if(z.x<=M.x&&M.x<=U.x||U.x<=M.x&&M.x<=z.x)return!0}}return R}const r=Cl.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,l,c;const h=[];if(a.length===1)return l=a[0],c=new Oh,c.curves=l.curves,h.push(c),h;let m=!r(a[0].getPoints());m=t?!m:m;const v=[],y=[];let _=[],S=0,E;y[S]=void 0,_[S]=[];for(let M=0,w=a.length;M<w;M++)l=a[M],E=l.getPoints(),o=r(E),o=t?!o:o,o?(!m&&y[S]&&S++,y[S]={s:new Oh,p:E},y[S].s.curves=l.curves,m&&S++,_[S]=[]):_[S].push({h:l,p:E[0]});if(!y[0])return e(a);if(y.length>1){let M=!1,w=0;for(let O=0,R=y.length;O<R;O++)v[O]=[];for(let O=0,R=y.length;O<R;O++){const N=_[O];for(let P=0;P<N.length;P++){const U=N[P];let z=!0;for(let I=0;I<y.length;I++)i(U.p,y[I].p)&&(O!==I&&w++,z?(z=!1,v[I].push(U)):M=!0);z&&v[O].push(U)}}w>0&&M===!1&&(_=v)}let x;for(let M=0,w=y.length;M<w;M++){c=y[M].s,h.push(c),x=_[M];for(let O=0,R=x.length;O<R;O++)c.holes.push(x[O].h)}return h}}class Ast extends Ul{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function Tst(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function wst(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Ost(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function $O(n,t,e,i){const r=Cst(i);switch(e){case mR:return n*t;case gR:return n*t;case yR:return n*t*2;case e1:return n*t/r.components*r.byteLength;case Iy:return n*t/r.components*r.byteLength;case bR:return n*t*2/r.components*r.byteLength;case n1:return n*t*2/r.components*r.byteLength;case vR:return n*t*3/r.components*r.byteLength;case ia:return n*t*4/r.components*r.byteLength;case i1:return n*t*4/r.components*r.byteLength;case mg:case vg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case gg:case yg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Bx:case Hx:return Math.max(n,16)*Math.max(t,8)/4;case Ix:case zx:return Math.max(n,8)*Math.max(t,8)/2;case Fx:case jx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Vx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Gx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case qx:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case kx:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case Xx:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case Yx:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case Wx:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case Zx:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case Kx:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case $x:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case Qx:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case Jx:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case tS:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case eS:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case nS:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case bg:case iS:case rS:return Math.ceil(n/4)*Math.ceil(t/4)*16;case _R:case aS:return Math.ceil(n/4)*Math.ceil(t/4)*8;case sS:case oS:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function Cst(n){switch(n){case Io:case hR:return{byteLength:1,components:1};case $p:case dR:case vm:return{byteLength:2,components:1};case JS:case t1:return{byteLength:2,components:4};case Cu:case QS:case Wa:return{byteLength:4,components:1};case pR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Rst{static contain(t,e){return Tst(t,e)}static cover(t,e){return wst(t,e)}static fill(t){return Ost(t)}static getByteLength(t,e,i,r){return $O(t,e,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Uy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Uy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function zj(){let n=null,t=!1,e=null,i=null;function r(a,o){e(a,o),i=n.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(a){e=a},setContext:function(a){n=a}}}function Dst(n){const t=new WeakMap;function e(l,c){const h=l.array,m=l.usage,v=h.byteLength,y=n.createBuffer();n.bindBuffer(c,y),n.bufferData(c,h,m),l.onUploadCallback();let _;if(h instanceof Float32Array)_=n.FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=n.SHORT;else if(h instanceof Uint32Array)_=n.UNSIGNED_INT;else if(h instanceof Int32Array)_=n.INT;else if(h instanceof Int8Array)_=n.BYTE;else if(h instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:v}}function i(l,c,h){const m=c.array,v=c.updateRanges;if(n.bindBuffer(h,l),v.length===0)n.bufferSubData(h,0,m);else{v.sort((_,S)=>_.start-S.start);let y=0;for(let _=1;_<v.length;_++){const S=v[y],E=v[_];E.start<=S.start+S.count+1?S.count=Math.max(S.count,E.start+E.count-S.start):(++y,v[y]=E)}v.length=y+1;for(let _=0,S=v.length;_<S;_++){const E=v[_];n.bufferSubData(h,E.start*m.BYTES_PER_ELEMENT,m,E.start,E.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),t.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=t.get(l);c&&(n.deleteBuffer(c.buffer),t.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=t.get(l);(!m||m.version<l.version)&&t.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=t.get(l);if(h===void 0)t.set(l,e(l,c));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,l,c),h.version=l.version}}return{get:r,remove:a,update:o}}var Nst=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Pst=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ust=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lst=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ist=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Bst=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,zst=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Hst=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Fst=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jst=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Vst=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Gst=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qst=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kst=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Xst=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Yst=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Wst=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Zst=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Kst=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$st=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Qst=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Jst=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,tot=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,eot=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,not=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,iot=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rot=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aot=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,sot=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,oot=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,lot="gl_FragColor = linearToOutputTexel( gl_FragColor );",uot=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,cot=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,fot=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,hot=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,dot=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,pot=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mot=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vot=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,got=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,yot=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,bot=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,_ot=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xot=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Sot=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Mot=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Eot=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Aot=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Tot=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,wot=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Oot=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Cot=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Rot=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Dot=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Not=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Pot=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Uot=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Lot=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Iot=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Bot=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,zot=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Hot=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Fot=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jot=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vot=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Got=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qot=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kot=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Xot=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Yot=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Wot=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Zot=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Kot=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$ot=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Qot=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jot=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tlt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,elt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,nlt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ilt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rlt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,alt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,slt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,olt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,llt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ult=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,clt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,flt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hlt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,dlt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,plt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mlt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,vlt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,glt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ylt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,blt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,_lt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xlt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Slt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Mlt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Elt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Alt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Tlt=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,wlt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Olt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Clt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Rlt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Dlt=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Nlt=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Plt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ult=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Llt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ilt=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Blt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,zlt=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Hlt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Flt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jlt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Vlt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Glt=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qlt=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,klt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Xlt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ylt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wlt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zlt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Klt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$lt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Qlt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Jlt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tut=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eut=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nut=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iut=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rut=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aut=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sut=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,out=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lut=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,uut=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cut=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:Nst,alphahash_pars_fragment:Pst,alphamap_fragment:Ust,alphamap_pars_fragment:Lst,alphatest_fragment:Ist,alphatest_pars_fragment:Bst,aomap_fragment:zst,aomap_pars_fragment:Hst,batching_pars_vertex:Fst,batching_vertex:jst,begin_vertex:Vst,beginnormal_vertex:Gst,bsdfs:qst,iridescence_fragment:kst,bumpmap_pars_fragment:Xst,clipping_planes_fragment:Yst,clipping_planes_pars_fragment:Wst,clipping_planes_pars_vertex:Zst,clipping_planes_vertex:Kst,color_fragment:$st,color_pars_fragment:Qst,color_pars_vertex:Jst,color_vertex:tot,common:eot,cube_uv_reflection_fragment:not,defaultnormal_vertex:iot,displacementmap_pars_vertex:rot,displacementmap_vertex:aot,emissivemap_fragment:sot,emissivemap_pars_fragment:oot,colorspace_fragment:lot,colorspace_pars_fragment:uot,envmap_fragment:cot,envmap_common_pars_fragment:fot,envmap_pars_fragment:hot,envmap_pars_vertex:dot,envmap_physical_pars_fragment:Eot,envmap_vertex:pot,fog_vertex:mot,fog_pars_vertex:vot,fog_fragment:got,fog_pars_fragment:yot,gradientmap_pars_fragment:bot,lightmap_pars_fragment:_ot,lights_lambert_fragment:xot,lights_lambert_pars_fragment:Sot,lights_pars_begin:Mot,lights_toon_fragment:Aot,lights_toon_pars_fragment:Tot,lights_phong_fragment:wot,lights_phong_pars_fragment:Oot,lights_physical_fragment:Cot,lights_physical_pars_fragment:Rot,lights_fragment_begin:Dot,lights_fragment_maps:Not,lights_fragment_end:Pot,logdepthbuf_fragment:Uot,logdepthbuf_pars_fragment:Lot,logdepthbuf_pars_vertex:Iot,logdepthbuf_vertex:Bot,map_fragment:zot,map_pars_fragment:Hot,map_particle_fragment:Fot,map_particle_pars_fragment:jot,metalnessmap_fragment:Vot,metalnessmap_pars_fragment:Got,morphinstance_vertex:qot,morphcolor_vertex:kot,morphnormal_vertex:Xot,morphtarget_pars_vertex:Yot,morphtarget_vertex:Wot,normal_fragment_begin:Zot,normal_fragment_maps:Kot,normal_pars_fragment:$ot,normal_pars_vertex:Qot,normal_vertex:Jot,normalmap_pars_fragment:tlt,clearcoat_normal_fragment_begin:elt,clearcoat_normal_fragment_maps:nlt,clearcoat_pars_fragment:ilt,iridescence_pars_fragment:rlt,opaque_fragment:alt,packing:slt,premultiplied_alpha_fragment:olt,project_vertex:llt,dithering_fragment:ult,dithering_pars_fragment:clt,roughnessmap_fragment:flt,roughnessmap_pars_fragment:hlt,shadowmap_pars_fragment:dlt,shadowmap_pars_vertex:plt,shadowmap_vertex:mlt,shadowmask_pars_fragment:vlt,skinbase_vertex:glt,skinning_pars_vertex:ylt,skinning_vertex:blt,skinnormal_vertex:_lt,specularmap_fragment:xlt,specularmap_pars_fragment:Slt,tonemapping_fragment:Mlt,tonemapping_pars_fragment:Elt,transmission_fragment:Alt,transmission_pars_fragment:Tlt,uv_pars_fragment:wlt,uv_pars_vertex:Olt,uv_vertex:Clt,worldpos_vertex:Rlt,background_vert:Dlt,background_frag:Nlt,backgroundCube_vert:Plt,backgroundCube_frag:Ult,cube_vert:Llt,cube_frag:Ilt,depth_vert:Blt,depth_frag:zlt,distanceRGBA_vert:Hlt,distanceRGBA_frag:Flt,equirect_vert:jlt,equirect_frag:Vlt,linedashed_vert:Glt,linedashed_frag:qlt,meshbasic_vert:klt,meshbasic_frag:Xlt,meshlambert_vert:Ylt,meshlambert_frag:Wlt,meshmatcap_vert:Zlt,meshmatcap_frag:Klt,meshnormal_vert:$lt,meshnormal_frag:Qlt,meshphong_vert:Jlt,meshphong_frag:tut,meshphysical_vert:eut,meshphysical_frag:nut,meshtoon_vert:iut,meshtoon_frag:rut,points_vert:aut,points_frag:sut,shadow_vert:out,shadow_frag:lut,sprite_vert:uut,sprite_frag:cut},ve={common:{diffuse:{value:new _e(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Je},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Je}},envmap:{envMap:{value:null},envMapRotation:{value:new Je},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Je}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Je}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Je},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Je},normalScale:{value:new Xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Je},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Je}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Je}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Je}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _e(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _e(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0},uvTransform:{value:new Je}},sprite:{diffuse:{value:new _e(16777215)},opacity:{value:1},center:{value:new Xt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Je},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0}}},Do={basic:{uniforms:Aa([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:Aa([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new _e(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:Aa([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new _e(0)},specular:{value:new _e(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:Aa([ve.common,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.roughnessmap,ve.metalnessmap,ve.fog,ve.lights,{emissive:{value:new _e(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:Aa([ve.common,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.gradientmap,ve.fog,ve.lights,{emissive:{value:new _e(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:Aa([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:Aa([ve.points,ve.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:Aa([ve.common,ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:Aa([ve.common,ve.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:Aa([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:Aa([ve.sprite,ve.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Je},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Je}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:Aa([ve.common,ve.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:Aa([ve.lights,ve.fog,{color:{value:new _e(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};Do.physical={uniforms:Aa([Do.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Je},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Je},clearcoatNormalScale:{value:new Xt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Je},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Je},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Je},sheen:{value:0},sheenColor:{value:new _e(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Je},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Je},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Je},transmissionSamplerSize:{value:new Xt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Je},attenuationDistance:{value:0},attenuationColor:{value:new _e(0)},specularColor:{value:new _e(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Je},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Je},anisotropyVector:{value:new Xt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Je}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const x_={r:0,b:0,g:0},oh=new _s,fut=new ke;function hut(n,t,e,i,r,a,o){const l=new _e(0);let c=a===!0?0:1,h,m,v=null,y=0,_=null;function S(O){let R=O.isScene===!0?O.background:null;return R&&R.isTexture&&(R=(O.backgroundBlurriness>0?e:t).get(R)),R}function E(O){let R=!1;const N=S(O);N===null?M(l,c):N&&N.isColor&&(M(N,1),R=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function x(O,R){const N=S(R);N&&(N.isCubeTexture||N.mapping===mm)?(m===void 0&&(m=new Qi(new Gh(1,1,1),new Zs({name:"BackgroundCubeMaterial",uniforms:im(Do.backgroundCube.uniforms),vertexShader:Do.backgroundCube.vertexShader,fragmentShader:Do.backgroundCube.fragmentShader,side:ra,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,U,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),oh.copy(R.backgroundRotation),oh.x*=-1,oh.y*=-1,oh.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(oh.y*=-1,oh.z*=-1),m.material.uniforms.envMap.value=N,m.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(fut.makeRotationFromEuler(oh)),m.material.toneMapped=Sn.getTransfer(N.colorSpace)!==Zn,(v!==N||y!==N.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,v=N,y=N.version,_=n.toneMapping),m.layers.enableAll(),O.unshift(m,m.geometry,m.material,0,0,null)):N&&N.isTexture&&(h===void 0&&(h=new Qi(new ym(2,2),new Zs({name:"BackgroundMaterial",uniforms:im(Do.background.uniforms),vertexShader:Do.background.vertexShader,fragmentShader:Do.background.fragmentShader,side:wu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=N,h.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,h.material.toneMapped=Sn.getTransfer(N.colorSpace)!==Zn,N.matrixAutoUpdate===!0&&N.updateMatrix(),h.material.uniforms.uvTransform.value.copy(N.matrix),(v!==N||y!==N.version||_!==n.toneMapping)&&(h.material.needsUpdate=!0,v=N,y=N.version,_=n.toneMapping),h.layers.enableAll(),O.unshift(h,h.geometry,h.material,0,0,null))}function M(O,R){O.getRGB(x_,z6(n)),i.buffers.color.setClear(x_.r,x_.g,x_.b,R,o)}function w(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return l},setClearColor:function(O,R=1){l.set(O),c=R,M(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(O){c=O,M(l,c)},render:E,addToRenderList:x,dispose:w}}function dut(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,o=!1;function l(B,F,K,W,tt){let J=!1;const H=v(W,K,F);a!==H&&(a=H,h(a.object)),J=_(B,W,K,tt),J&&S(B,W,K,tt),tt!==null&&t.update(tt,n.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,R(B,F,K,W),tt!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(tt).buffer))}function c(){return n.createVertexArray()}function h(B){return n.bindVertexArray(B)}function m(B){return n.deleteVertexArray(B)}function v(B,F,K){const W=K.wireframe===!0;let tt=i[B.id];tt===void 0&&(tt={},i[B.id]=tt);let J=tt[F.id];J===void 0&&(J={},tt[F.id]=J);let H=J[W];return H===void 0&&(H=y(c()),J[W]=H),H}function y(B){const F=[],K=[],W=[];for(let tt=0;tt<e;tt++)F[tt]=0,K[tt]=0,W[tt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:K,attributeDivisors:W,object:B,attributes:{},index:null}}function _(B,F,K,W){const tt=a.attributes,J=F.attributes;let H=0;const q=K.getAttributes();for(const k in q)if(q[k].location>=0){const G=tt[k];let et=J[k];if(et===void 0&&(k==="instanceMatrix"&&B.instanceMatrix&&(et=B.instanceMatrix),k==="instanceColor"&&B.instanceColor&&(et=B.instanceColor)),G===void 0||G.attribute!==et||et&&G.data!==et.data)return!0;H++}return a.attributesNum!==H||a.index!==W}function S(B,F,K,W){const tt={},J=F.attributes;let H=0;const q=K.getAttributes();for(const k in q)if(q[k].location>=0){let G=J[k];G===void 0&&(k==="instanceMatrix"&&B.instanceMatrix&&(G=B.instanceMatrix),k==="instanceColor"&&B.instanceColor&&(G=B.instanceColor));const et={};et.attribute=G,G&&G.data&&(et.data=G.data),tt[k]=et,H++}a.attributes=tt,a.attributesNum=H,a.index=W}function E(){const B=a.newAttributes;for(let F=0,K=B.length;F<K;F++)B[F]=0}function x(B){M(B,0)}function M(B,F){const K=a.newAttributes,W=a.enabledAttributes,tt=a.attributeDivisors;K[B]=1,W[B]===0&&(n.enableVertexAttribArray(B),W[B]=1),tt[B]!==F&&(n.vertexAttribDivisor(B,F),tt[B]=F)}function w(){const B=a.newAttributes,F=a.enabledAttributes;for(let K=0,W=F.length;K<W;K++)F[K]!==B[K]&&(n.disableVertexAttribArray(K),F[K]=0)}function O(B,F,K,W,tt,J,H){H===!0?n.vertexAttribIPointer(B,F,K,tt,J):n.vertexAttribPointer(B,F,K,W,tt,J)}function R(B,F,K,W){E();const tt=W.attributes,J=K.getAttributes(),H=F.defaultAttributeValues;for(const q in J){const k=J[q];if(k.location>=0){let it=tt[q];if(it===void 0&&(q==="instanceMatrix"&&B.instanceMatrix&&(it=B.instanceMatrix),q==="instanceColor"&&B.instanceColor&&(it=B.instanceColor)),it!==void 0){const G=it.normalized,et=it.itemSize,ot=t.get(it);if(ot===void 0)continue;const mt=ot.buffer,rt=ot.type,_t=ot.bytesPerElement,Ut=rt===n.INT||rt===n.UNSIGNED_INT||it.gpuType===QS;if(it.isInterleavedBufferAttribute){const Zt=it.data,$t=Zt.stride,wt=it.offset;if(Zt.isInstancedInterleavedBuffer){for(let Qt=0;Qt<k.locationSize;Qt++)M(k.location+Qt,Zt.meshPerAttribute);B.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Zt.meshPerAttribute*Zt.count)}else for(let Qt=0;Qt<k.locationSize;Qt++)x(k.location+Qt);n.bindBuffer(n.ARRAY_BUFFER,mt);for(let Qt=0;Qt<k.locationSize;Qt++)O(k.location+Qt,et/k.locationSize,rt,G,$t*_t,(wt+et/k.locationSize*Qt)*_t,Ut)}else{if(it.isInstancedBufferAttribute){for(let Zt=0;Zt<k.locationSize;Zt++)M(k.location+Zt,it.meshPerAttribute);B.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=it.meshPerAttribute*it.count)}else for(let Zt=0;Zt<k.locationSize;Zt++)x(k.location+Zt);n.bindBuffer(n.ARRAY_BUFFER,mt);for(let Zt=0;Zt<k.locationSize;Zt++)O(k.location+Zt,et/k.locationSize,rt,G,et*_t,et/k.locationSize*Zt*_t,Ut)}}else if(H!==void 0){const G=H[q];if(G!==void 0)switch(G.length){case 2:n.vertexAttrib2fv(k.location,G);break;case 3:n.vertexAttrib3fv(k.location,G);break;case 4:n.vertexAttrib4fv(k.location,G);break;default:n.vertexAttrib1fv(k.location,G)}}}}w()}function N(){z();for(const B in i){const F=i[B];for(const K in F){const W=F[K];for(const tt in W)m(W[tt].object),delete W[tt];delete F[K]}delete i[B]}}function P(B){if(i[B.id]===void 0)return;const F=i[B.id];for(const K in F){const W=F[K];for(const tt in W)m(W[tt].object),delete W[tt];delete F[K]}delete i[B.id]}function U(B){for(const F in i){const K=i[F];if(K[B.id]===void 0)continue;const W=K[B.id];for(const tt in W)m(W[tt].object),delete W[tt];delete K[B.id]}}function z(){I(),o=!0,a!==r&&(a=r,h(a.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:z,resetDefaultState:I,dispose:N,releaseStatesOfGeometry:P,releaseStatesOfProgram:U,initAttributes:E,enableAttribute:x,disableUnusedAttributes:w}}function put(n,t,e){let i;function r(h){i=h}function a(h,m){n.drawArrays(i,h,m),e.update(m,i,1)}function o(h,m,v){v!==0&&(n.drawArraysInstanced(i,h,m,v),e.update(m,i,v))}function l(h,m,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,v);let _=0;for(let S=0;S<v;S++)_+=m[S];e.update(_,i,1)}function c(h,m,v,y){if(v===0)return;const _=t.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<h.length;S++)o(h[S],m[S],y[S]);else{_.multiDrawArraysInstancedWEBGL(i,h,0,m,0,y,0,v);let S=0;for(let E=0;E<v;E++)S+=m[E]*y[E];e.update(S,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function mut(n,t,e,i){let r;function a(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const U=t.get("EXT_texture_filter_anisotropic");r=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(U){return!(U!==ia&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(U){const z=U===vm&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(U!==Io&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==Wa&&!z)}function c(U){if(U==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=e.precision!==void 0?e.precision:"highp";const m=c(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const v=e.logarithmicDepthBuffer===!0,y=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),O=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),N=S>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:v,reverseDepthBuffer:y,maxTextures:_,maxVertexTextures:S,maxTextureSize:E,maxCubemapSize:x,maxAttributes:M,maxVertexUniforms:w,maxVaryings:O,maxFragmentUniforms:R,vertexTextures:N,maxSamples:P}}function vut(n){const t=this;let e=null,i=0,r=!1,a=!1;const o=new xl,l=new Je,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(v,y){const _=v.length!==0||y||i!==0||r;return r=y,i=v.length,_},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(v,y){e=m(v,y,0)},this.setState=function(v,y,_){const S=v.clippingPlanes,E=v.clipIntersection,x=v.clipShadows,M=n.get(v);if(!r||S===null||S.length===0||a&&!x)a?m(null):h();else{const w=a?0:i,O=w*4;let R=M.clippingState||null;c.value=R,R=m(S,y,O,_);for(let N=0;N!==O;++N)R[N]=e[N];M.clippingState=R,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=w}};function h(){c.value!==e&&(c.value=e,c.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(v,y,_,S){const E=v!==null?v.length:0;let x=null;if(E!==0){if(x=c.value,S!==!0||x===null){const M=_+E*4,w=y.matrixWorldInverse;l.getNormalMatrix(w),(x===null||x.length<M)&&(x=new Float32Array(M));for(let O=0,R=_;O!==E;++O,R+=4)o.copy(v[O]).applyMatrix4(w,l),o.normal.toArray(x,R),x[R+3]=o.constant}c.value=x,c.needsUpdate=!0}return t.numPlanes=E,t.numIntersection=0,x}}function gut(n){let t=new WeakMap;function e(o,l){return l===sy?o.mapping=Ou:l===oy&&(o.mapping=qc),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===sy||l===oy)if(t.has(o)){const c=t.get(o).texture;return e(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const h=new F6(c.height);return h.fromEquirectangularTexture(n,o),t.set(o,h),o.addEventListener("dispose",r),e(h.texture,o.mapping)}else return null}}return o}function r(o){const l=o.target;l.removeEventListener("dispose",r);const c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function a(){t=new WeakMap}return{get:i,dispose:a}}const Ep=4,jz=[.125,.215,.35,.446,.526,.582],mh=20,Qw=new Vc,Vz=new _e;let Jw=null,t2=0,e2=0,n2=!1;const ph=(1+Math.sqrt(5))/2,pp=1/ph,Gz=[new Q(-ph,pp,0),new Q(ph,pp,0),new Q(-pp,0,ph),new Q(pp,0,ph),new Q(0,ph,-pp),new Q(0,ph,pp),new Q(-1,1,-1),new Q(1,1,-1),new Q(-1,1,1),new Q(1,1,1)],yut=new Q;class QO{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100,a={}){const{size:o=256,position:l=yut}=a;Jw=this._renderer.getRenderTarget(),t2=this._renderer.getActiveCubeFace(),e2=this._renderer.getActiveMipmapLevel(),n2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(t,i,r,c,l),e>0&&this._blur(c,0,0,e),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Xz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=kz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Jw,t2,e2),this._renderer.xr.enabled=n2,t.scissorTest=!1,S_(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Ou||t.mapping===qc?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Jw=this._renderer.getRenderTarget(),t2=this._renderer.getActiveCubeFace(),e2=this._renderer.getActiveMipmapLevel(),n2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:hr,minFilter:hr,generateMipmaps:!1,type:vm,format:ia,colorSpace:kc,depthBuffer:!1},r=qz(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=qz(t,e,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=but(a)),this._blurMaterial=_ut(a,t,e)}return r}_compileMaterial(t){const e=new Qi(this._lodPlanes[0],t);this._renderer.compile(e,Qw)}_sceneToCubeUV(t,e,i,r,a){const c=new Vi(90,1,e,i),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,y=v.autoClear,_=v.toneMapping;v.getClearColor(Vz),v.toneMapping=wl,v.autoClear=!1;const S=new Jc({name:"PMREM.Background",side:ra,depthWrite:!1,depthTest:!1}),E=new Qi(new Gh,S);let x=!1;const M=t.background;M?M.isColor&&(S.color.copy(M),t.background=null,x=!0):(S.color.copy(Vz),x=!0);for(let w=0;w<6;w++){const O=w%3;O===0?(c.up.set(0,h[w],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+m[w],a.y,a.z)):O===1?(c.up.set(0,0,h[w]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+m[w],a.z)):(c.up.set(0,h[w],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+m[w]));const R=this._cubeSize;S_(r,O*R,w>2?R:0,R,R),v.setRenderTarget(r),x&&v.render(E,c),v.render(t,c)}E.geometry.dispose(),E.material.dispose(),v.toneMapping=_,v.autoClear=y,t.background=M}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===Ou||t.mapping===qc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Xz()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=kz());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Qi(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=t;const c=this._cubeSize;S_(e,0,0,3*c,2*c),i.setRenderTarget(e),i.render(o,Qw)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=Gz[(r-a-1)%Gz.length];this._blur(t,a-1,a,o,l)}e.autoClear=i}_blur(t,e,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,r,"latitudinal",a),this._halfBlur(o,t,i,i,r,"longitudinal",a)}_halfBlur(t,e,i,r,a,o,l){const c=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Qi(this._lodPlanes[r],h),y=h.uniforms,_=this._sizeLods[i]-1,S=isFinite(a)?Math.PI/(2*_):2*Math.PI/(2*mh-1),E=a/S,x=isFinite(a)?1+Math.floor(m*E):mh;x>mh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${mh}`);const M=[];let w=0;for(let U=0;U<mh;++U){const z=U/E,I=Math.exp(-z*z/2);M.push(I),U===0?w+=I:U<x&&(w+=2*I)}for(let U=0;U<M.length;U++)M[U]=M[U]/w;y.envMap.value=t.texture,y.samples.value=x,y.weights.value=M,y.latitudinal.value=o==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:O}=this;y.dTheta.value=S,y.mipInt.value=O-i;const R=this._sizeLods[r],N=3*R*(r>O-Ep?r-O+Ep:0),P=4*(this._cubeSize-R);S_(e,N,P,3*R,2*R),c.setRenderTarget(e),c.render(v,Qw)}}function but(n){const t=[],e=[],i=[];let r=n;const a=n-Ep+1+jz.length;for(let o=0;o<a;o++){const l=Math.pow(2,r);e.push(l);let c=1/l;o>n-Ep?c=jz[o-n+Ep-1]:o===0&&(c=0),i.push(c);const h=1/(l-2),m=-h,v=1+h,y=[m,m,v,m,v,v,m,m,v,v,m,v],_=6,S=6,E=3,x=2,M=1,w=new Float32Array(E*S*_),O=new Float32Array(x*S*_),R=new Float32Array(M*S*_);for(let P=0;P<_;P++){const U=P%3*2/3-1,z=P>2?0:-1,I=[U,z,0,U+2/3,z,0,U+2/3,z+1,0,U,z,0,U+2/3,z+1,0,U,z+1,0];w.set(I,E*S*P),O.set(y,x*S*P);const B=[P,P,P,P,P,P];R.set(B,M*S*P)}const N=new on;N.setAttribute("position",new ni(w,E)),N.setAttribute("uv",new ni(O,x)),N.setAttribute("faceIndex",new ni(R,M)),t.push(N),r>Ep&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function qz(n,t,e){const i=new Nl(n,t,e);return i.texture.mapping=mm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function S_(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function _ut(n,t,e){const i=new Float32Array(mh),r=new Q(0,1,0);return new Zs({name:"SphericalGaussianBlur",defines:{n:mh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:$R(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Su,depthTest:!1,depthWrite:!1})}function kz(){return new Zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:$R(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Su,depthTest:!1,depthWrite:!1})}function Xz(){return new Zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:$R(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Su,depthTest:!1,depthWrite:!1})}function $R(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function xut(n){let t=new WeakMap,e=null;function i(l){if(l&&l.isTexture){const c=l.mapping,h=c===sy||c===oy,m=c===Ou||c===qc;if(h||m){let v=t.get(l);const y=v!==void 0?v.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return e===null&&(e=new QO(n)),v=h?e.fromEquirectangular(l,v):e.fromCubemap(l,v),v.texture.pmremVersion=l.pmremVersion,t.set(l,v),v.texture;if(v!==void 0)return v.texture;{const _=l.image;return h&&_&&_.height>0||m&&_&&r(_)?(e===null&&(e=new QO(n)),v=h?e.fromEquirectangular(l):e.fromCubemap(l),v.texture.pmremVersion=l.pmremVersion,t.set(l,v),l.addEventListener("dispose",a),v.texture):null}}}return l}function r(l){let c=0;const h=6;for(let m=0;m<h;m++)l[m]!==void 0&&c++;return c===h}function a(l){const c=l.target;c.removeEventListener("dispose",a);const h=t.get(c);h!==void 0&&(t.delete(c),h.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function Sut(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const r=e(i);return r===null&&O_("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Mut(n,t,e,i){const r={},a=new WeakMap;function o(v){const y=v.target;y.index!==null&&t.remove(y.index);for(const S in y.attributes)t.remove(y.attributes[S]);y.removeEventListener("dispose",o),delete r[y.id];const _=a.get(y);_&&(t.remove(_),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,e.memory.geometries--}function l(v,y){return r[y.id]===!0||(y.addEventListener("dispose",o),r[y.id]=!0,e.memory.geometries++),y}function c(v){const y=v.attributes;for(const _ in y)t.update(y[_],n.ARRAY_BUFFER)}function h(v){const y=[],_=v.index,S=v.attributes.position;let E=0;if(_!==null){const w=_.array;E=_.version;for(let O=0,R=w.length;O<R;O+=3){const N=w[O+0],P=w[O+1],U=w[O+2];y.push(N,P,P,U,U,N)}}else if(S!==void 0){const w=S.array;E=S.version;for(let O=0,R=w.length/3-1;O<R;O+=3){const N=O+0,P=O+1,U=O+2;y.push(N,P,P,U,U,N)}}else return;const x=new(U6(y)?AR:ER)(y,1);x.version=E;const M=a.get(v);M&&t.remove(M),a.set(v,x)}function m(v){const y=a.get(v);if(y){const _=v.index;_!==null&&y.version<_.version&&h(v)}else h(v);return a.get(v)}return{get:l,update:c,getWireframeAttribute:m}}function Eut(n,t,e){let i;function r(y){i=y}let a,o;function l(y){a=y.type,o=y.bytesPerElement}function c(y,_){n.drawElements(i,_,a,y*o),e.update(_,i,1)}function h(y,_,S){S!==0&&(n.drawElementsInstanced(i,_,a,y*o,S),e.update(_,i,S))}function m(y,_,S){if(S===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,a,y,0,S);let x=0;for(let M=0;M<S;M++)x+=_[M];e.update(x,i,1)}function v(y,_,S,E){if(S===0)return;const x=t.get("WEBGL_multi_draw");if(x===null)for(let M=0;M<y.length;M++)h(y[M]/o,_[M],E[M]);else{x.multiDrawElementsInstancedWEBGL(i,_,0,a,y,0,E,0,S);let M=0;for(let w=0;w<S;w++)M+=_[w]*E[w];e.update(M,i,1)}}this.setMode=r,this.setIndex=l,this.render=c,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function Aut(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,l){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=l*(a/3);break;case n.LINES:e.lines+=l*(a/2);break;case n.LINE_STRIP:e.lines+=l*(a-1);break;case n.LINE_LOOP:e.lines+=l*a;break;case n.POINTS:e.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:i}}function Tut(n,t,e){const i=new WeakMap,r=new Tn;function a(o,l,c){const h=o.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,v=m!==void 0?m.length:0;let y=i.get(l);if(y===void 0||y.count!==v){let B=function(){z.dispose(),i.delete(l),l.removeEventListener("dispose",B)};var _=B;y!==void 0&&y.texture.dispose();const S=l.morphAttributes.position!==void 0,E=l.morphAttributes.normal!==void 0,x=l.morphAttributes.color!==void 0,M=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],O=l.morphAttributes.color||[];let R=0;S===!0&&(R=1),E===!0&&(R=2),x===!0&&(R=3);let N=l.attributes.position.count*R,P=1;N>t.maxTextureSize&&(P=Math.ceil(N/t.maxTextureSize),N=t.maxTextureSize);const U=new Float32Array(N*P*4*v),z=new By(U,N,P,v);z.type=Wa,z.needsUpdate=!0;const I=R*4;for(let F=0;F<v;F++){const K=M[F],W=w[F],tt=O[F],J=N*P*4*F;for(let H=0;H<K.count;H++){const q=H*I;S===!0&&(r.fromBufferAttribute(K,H),U[J+q+0]=r.x,U[J+q+1]=r.y,U[J+q+2]=r.z,U[J+q+3]=0),E===!0&&(r.fromBufferAttribute(W,H),U[J+q+4]=r.x,U[J+q+5]=r.y,U[J+q+6]=r.z,U[J+q+7]=0),x===!0&&(r.fromBufferAttribute(tt,H),U[J+q+8]=r.x,U[J+q+9]=r.y,U[J+q+10]=r.z,U[J+q+11]=tt.itemSize===4?r.w:1)}}y={count:v,texture:z,size:new Xt(N,P)},i.set(l,y),l.addEventListener("dispose",B)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",o.morphTexture,e);else{let S=0;for(let x=0;x<h.length;x++)S+=h[x];const E=l.morphTargetsRelative?1:1-S;c.getUniforms().setValue(n,"morphTargetBaseInfluence",E),c.getUniforms().setValue(n,"morphTargetInfluences",h)}c.getUniforms().setValue(n,"morphTargetsTexture",y.texture,e),c.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function wut(n,t,e,i){let r=new WeakMap;function a(c){const h=i.render.frame,m=c.geometry,v=t.get(c,m);if(r.get(v)!==h&&(t.update(v),r.set(v,h)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),r.get(c)!==h&&(e.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&e.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,h))),c.isSkinnedMesh){const y=c.skeleton;r.get(y)!==h&&(y.update(),r.set(y,h))}return v}function o(){r=new WeakMap}function l(c){const h=c.target;h.removeEventListener("dispose",l),e.remove(h.instanceMatrix),h.instanceColor!==null&&e.remove(h.instanceColor)}return{update:a,dispose:o}}const Hj=new Li,Yz=new DR(1,1),Fj=new By,jj=new s1,Vj=new zy,Wz=[],Zz=[],Kz=new Float32Array(16),$z=new Float32Array(9),Qz=new Float32Array(4);function bm(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let a=Wz[r];if(a===void 0&&(a=new Float32Array(r),Wz[r]=a),t!==0){i.toArray(a,0);for(let o=1,l=0;o!==t;++o)l+=e,n[o].toArray(a,l)}return a}function dr(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function pr(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function O1(n,t){let e=Zz[t];e===void 0&&(e=new Int32Array(t),Zz[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function Out(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function Cut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(dr(e,t))return;n.uniform2fv(this.addr,t),pr(e,t)}}function Rut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(dr(e,t))return;n.uniform3fv(this.addr,t),pr(e,t)}}function Dut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(dr(e,t))return;n.uniform4fv(this.addr,t),pr(e,t)}}function Nut(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(dr(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),pr(e,t)}else{if(dr(e,i))return;Qz.set(i),n.uniformMatrix2fv(this.addr,!1,Qz),pr(e,i)}}function Put(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(dr(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),pr(e,t)}else{if(dr(e,i))return;$z.set(i),n.uniformMatrix3fv(this.addr,!1,$z),pr(e,i)}}function Uut(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(dr(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),pr(e,t)}else{if(dr(e,i))return;Kz.set(i),n.uniformMatrix4fv(this.addr,!1,Kz),pr(e,i)}}function Lut(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function Iut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(dr(e,t))return;n.uniform2iv(this.addr,t),pr(e,t)}}function But(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(dr(e,t))return;n.uniform3iv(this.addr,t),pr(e,t)}}function zut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(dr(e,t))return;n.uniform4iv(this.addr,t),pr(e,t)}}function Hut(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function Fut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(dr(e,t))return;n.uniform2uiv(this.addr,t),pr(e,t)}}function jut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(dr(e,t))return;n.uniform3uiv(this.addr,t),pr(e,t)}}function Vut(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(dr(e,t))return;n.uniform4uiv(this.addr,t),pr(e,t)}}function Gut(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(Yz.compareFunction=SR,a=Yz):a=Hj,e.setTexture2D(t||a,r)}function qut(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||jj,r)}function kut(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||Vj,r)}function Xut(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||Fj,r)}function Yut(n){switch(n){case 5126:return Out;case 35664:return Cut;case 35665:return Rut;case 35666:return Dut;case 35674:return Nut;case 35675:return Put;case 35676:return Uut;case 5124:case 35670:return Lut;case 35667:case 35671:return Iut;case 35668:case 35672:return But;case 35669:case 35673:return zut;case 5125:return Hut;case 36294:return Fut;case 36295:return jut;case 36296:return Vut;case 35678:case 36198:case 36298:case 36306:case 35682:return Gut;case 35679:case 36299:case 36307:return qut;case 35680:case 36300:case 36308:case 36293:return kut;case 36289:case 36303:case 36311:case 36292:return Xut}}function Wut(n,t){n.uniform1fv(this.addr,t)}function Zut(n,t){const e=bm(t,this.size,2);n.uniform2fv(this.addr,e)}function Kut(n,t){const e=bm(t,this.size,3);n.uniform3fv(this.addr,e)}function $ut(n,t){const e=bm(t,this.size,4);n.uniform4fv(this.addr,e)}function Qut(n,t){const e=bm(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function Jut(n,t){const e=bm(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function tct(n,t){const e=bm(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function ect(n,t){n.uniform1iv(this.addr,t)}function nct(n,t){n.uniform2iv(this.addr,t)}function ict(n,t){n.uniform3iv(this.addr,t)}function rct(n,t){n.uniform4iv(this.addr,t)}function act(n,t){n.uniform1uiv(this.addr,t)}function sct(n,t){n.uniform2uiv(this.addr,t)}function oct(n,t){n.uniform3uiv(this.addr,t)}function lct(n,t){n.uniform4uiv(this.addr,t)}function uct(n,t,e){const i=this.cache,r=t.length,a=O1(e,r);dr(i,a)||(n.uniform1iv(this.addr,a),pr(i,a));for(let o=0;o!==r;++o)e.setTexture2D(t[o]||Hj,a[o])}function cct(n,t,e){const i=this.cache,r=t.length,a=O1(e,r);dr(i,a)||(n.uniform1iv(this.addr,a),pr(i,a));for(let o=0;o!==r;++o)e.setTexture3D(t[o]||jj,a[o])}function fct(n,t,e){const i=this.cache,r=t.length,a=O1(e,r);dr(i,a)||(n.uniform1iv(this.addr,a),pr(i,a));for(let o=0;o!==r;++o)e.setTextureCube(t[o]||Vj,a[o])}function hct(n,t,e){const i=this.cache,r=t.length,a=O1(e,r);dr(i,a)||(n.uniform1iv(this.addr,a),pr(i,a));for(let o=0;o!==r;++o)e.setTexture2DArray(t[o]||Fj,a[o])}function dct(n){switch(n){case 5126:return Wut;case 35664:return Zut;case 35665:return Kut;case 35666:return $ut;case 35674:return Qut;case 35675:return Jut;case 35676:return tct;case 5124:case 35670:return ect;case 35667:case 35671:return nct;case 35668:case 35672:return ict;case 35669:case 35673:return rct;case 5125:return act;case 36294:return sct;case 36295:return oct;case 36296:return lct;case 35678:case 36198:case 36298:case 36306:case 35682:return uct;case 35679:case 36299:case 36307:return cct;case 35680:case 36300:case 36308:case 36293:return fct;case 36289:case 36303:case 36311:case 36292:return hct}}class pct{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=Yut(e.type)}}class mct{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=dct(e.type)}}class vct{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const l=r[a];l.setValue(t,e[l.id],i)}}}const i2=/(\w+)(\])?(\[|\.)?/g;function Jz(n,t){n.seq.push(t),n.map[t.id]=t}function gct(n,t,e){const i=n.name,r=i.length;for(i2.lastIndex=0;;){const a=i2.exec(i),o=i2.lastIndex;let l=a[1];const c=a[2]==="]",h=a[3];if(c&&(l=l|0),h===void 0||h==="["&&o+2===r){Jz(e,h===void 0?new pct(l,n,t):new mct(l,n,t));break}else{let v=e.map[l];v===void 0&&(v=new vct(l),Jz(e,v)),e=v}}}class R_{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=t.getActiveUniform(e,r),o=t.getUniformLocation(e,a.name);gct(a,o,this)}}setValue(t,e,i,r){const a=this.map[e];a!==void 0&&a.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];r!==void 0&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let a=0,o=e.length;a!==o;++a){const l=e[a],c=i[l.id];c.needsUpdate!==!1&&l.setValue(t,c.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.id in e&&i.push(o)}return i}}function t4(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const yct=37297;let bct=0;function _ct(n,t){const e=n.split(`
`),i=[],r=Math.max(t-6,0),a=Math.min(t+6,e.length);for(let o=r;o<a;o++){const l=o+1;i.push(`${l===t?">":" "} ${l}: ${e[o]}`)}return i.join(`
`)}const e4=new Je;function xct(n){Sn._getMatrix(e4,Sn.workingColorSpace,n);const t=`mat3( ${e4.elements.map(e=>e.toFixed(4))} )`;switch(Sn.getTransfer(n)){case hy:return[t,"LinearTransferOETF"];case Zn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function n4(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),r=n.getShaderInfoLog(t).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const o=parseInt(a[1]);return e.toUpperCase()+`

`+r+`

`+_ct(n.getShaderSource(t),o)}else return r}function Sct(n,t){const e=xct(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function Mct(n,t){let e;switch(t){case d6:e="Linear";break;case p6:e="Reinhard";break;case m6:e="Cineon";break;case cR:e="ACESFilmic";break;case g6:e="AgX";break;case y6:e="Neutral";break;case v6:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const M_=new Q;function Ect(){Sn.getLuminanceCoefficients(M_);const n=M_.x.toFixed(4),t=M_.y.toFixed(4),e=M_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Act(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(lg).join(`
`)}function Tct(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function wct(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(t,r),o=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),e[o]={type:a.type,location:n.getAttribLocation(t,o),locationSize:l}}return e}function lg(n){return n!==""}function i4(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function r4(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Oct=/^[ \t]*#include +<([\w\d./]+)>/gm;function JO(n){return n.replace(Oct,Rct)}const Cct=new Map;function Rct(n,t){let e=sn[t];if(e===void 0){const i=Cct.get(t);if(i!==void 0)e=sn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return JO(e)}const Dct=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function a4(n){return n.replace(Dct,Nct)}function Nct(n,t,e,i){let r="";for(let a=parseInt(t);a<parseInt(e);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function s4(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Pct(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===KS?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===dg?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Co&&(t="SHADOWMAP_TYPE_VSM"),t}function Uct(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ou:case qc:t="ENVMAP_TYPE_CUBE";break;case mm:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Lct(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case qc:t="ENVMAP_MODE_REFRACTION";break}return t}function Ict(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Ly:t="ENVMAP_BLENDING_MULTIPLY";break;case f6:t="ENVMAP_BLENDING_MIX";break;case h6:t="ENVMAP_BLENDING_ADD";break}return t}function Bct(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function zct(n,t,e,i){const r=n.getContext(),a=e.defines;let o=e.vertexShader,l=e.fragmentShader;const c=Pct(e),h=Uct(e),m=Lct(e),v=Ict(e),y=Bct(e),_=Act(e),S=Tct(a),E=r.createProgram();let x,M,w=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(x=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S].filter(lg).join(`
`),x.length>0&&(x+=`
`),M=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S].filter(lg).join(`
`),M.length>0&&(M+=`
`)):(x=[s4(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(lg).join(`
`),M=[s4(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+h:"",e.envMap?"#define "+m:"",e.envMap?"#define "+v:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==wl?"#define TONE_MAPPING":"",e.toneMapping!==wl?sn.tonemapping_pars_fragment:"",e.toneMapping!==wl?Mct("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,Sct("linearToOutputTexel",e.outputColorSpace),Ect(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(lg).join(`
`)),o=JO(o),o=i4(o,e),o=r4(o,e),l=JO(l),l=i4(l,e),l=r4(l,e),o=a4(o),l=a4(l),e.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,x=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,M=["#define varying in",e.glslVersion===GO?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===GO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const O=w+x+o,R=w+M+l,N=t4(r,r.VERTEX_SHADER,O),P=t4(r,r.FRAGMENT_SHADER,R);r.attachShader(E,N),r.attachShader(E,P),e.index0AttributeName!==void 0?r.bindAttribLocation(E,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E);function U(F){if(n.debug.checkShaderErrors){const K=r.getProgramInfoLog(E).trim(),W=r.getShaderInfoLog(N).trim(),tt=r.getShaderInfoLog(P).trim();let J=!0,H=!0;if(r.getProgramParameter(E,r.LINK_STATUS)===!1)if(J=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,E,N,P);else{const q=n4(r,N,"vertex"),k=n4(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+K+`
`+q+`
`+k)}else K!==""?console.warn("THREE.WebGLProgram: Program Info Log:",K):(W===""||tt==="")&&(H=!1);H&&(F.diagnostics={runnable:J,programLog:K,vertexShader:{log:W,prefix:x},fragmentShader:{log:tt,prefix:M}})}r.deleteShader(N),r.deleteShader(P),z=new R_(r,E),I=wct(r,E)}let z;this.getUniforms=function(){return z===void 0&&U(this),z};let I;this.getAttributes=function(){return I===void 0&&U(this),I};let B=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=r.getProgramParameter(E,yct)),B},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=bct++,this.cacheKey=t,this.usedTimes=1,this.program=E,this.vertexShader=N,this.fragmentShader=P,this}let Hct=0;class Fct{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new jct(t),e.set(t,i)),i}}class jct{constructor(t){this.id=Hct++,this.code=t,this.usedTimes=0}}function Vct(n,t,e,i,r,a,o){const l=new nm,c=new Fct,h=new Set,m=[],v=r.logarithmicDepthBuffer,y=r.vertexTextures;let _=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(I){return h.add(I),I===0?"uv":`uv${I}`}function x(I,B,F,K,W){const tt=K.fog,J=W.geometry,H=I.isMeshStandardMaterial?K.environment:null,q=(I.isMeshStandardMaterial?e:t).get(I.envMap||H),k=q&&q.mapping===mm?q.image.height:null,it=S[I.type];I.precision!==null&&(_=r.getMaxPrecision(I.precision),_!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",_,"instead."));const G=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,et=G!==void 0?G.length:0;let ot=0;J.morphAttributes.position!==void 0&&(ot=1),J.morphAttributes.normal!==void 0&&(ot=2),J.morphAttributes.color!==void 0&&(ot=3);let mt,rt,_t,Ut;if(it){const $e=Do[it];mt=$e.vertexShader,rt=$e.fragmentShader}else mt=I.vertexShader,rt=I.fragmentShader,c.update(I),_t=c.getVertexShaderID(I),Ut=c.getFragmentShaderID(I);const Zt=n.getRenderTarget(),$t=n.state.buffers.depth.getReversed(),wt=W.isInstancedMesh===!0,Qt=W.isBatchedMesh===!0,se=!!I.map,Lt=!!I.matcap,be=!!q,nt=!!I.aoMap,Be=!!I.lightMap,It=!!I.bumpMap,Pt=!!I.normalMap,Ht=!!I.displacementMap,ne=!!I.emissiveMap,Bt=!!I.metalnessMap,$=!!I.roughnessMap,V=I.anisotropy>0,pt=I.clearcoat>0,Nt=I.dispersion>0,jt=I.iridescence>0,zt=I.sheen>0,le=I.transmission>0,te=V&&!!I.anisotropyMap,ae=pt&&!!I.clearcoatMap,tn=pt&&!!I.clearcoatNormalMap,Jt=pt&&!!I.clearcoatRoughnessMap,ge=jt&&!!I.iridescenceMap,Me=jt&&!!I.iridescenceThicknessMap,Ee=zt&&!!I.sheenColorMap,oe=zt&&!!I.sheenRoughnessMap,ut=!!I.specularMap,Ft=!!I.specularColorMap,ce=!!I.specularIntensityMap,lt=le&&!!I.transmissionMap,ee=le&&!!I.thicknessMap,Dt=!!I.gradientMap,Gt=!!I.alphaMap,pe=I.alphaTest>0,fe=!!I.alphaHash,Ce=!!I.extensions;let rn=wl;I.toneMapped&&(Zt===null||Zt.isXRRenderTarget===!0)&&(rn=n.toneMapping);const On={shaderID:it,shaderType:I.type,shaderName:I.name,vertexShader:mt,fragmentShader:rt,defines:I.defines,customVertexShaderID:_t,customFragmentShaderID:Ut,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:_,batching:Qt,batchingColor:Qt&&W._colorsTexture!==null,instancing:wt,instancingColor:wt&&W.instanceColor!==null,instancingMorph:wt&&W.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Zt===null?n.outputColorSpace:Zt.isXRRenderTarget===!0?Zt.texture.colorSpace:kc,alphaToCoverage:!!I.alphaToCoverage,map:se,matcap:Lt,envMap:be,envMapMode:be&&q.mapping,envMapCubeUVHeight:k,aoMap:nt,lightMap:Be,bumpMap:It,normalMap:Pt,displacementMap:y&&Ht,emissiveMap:ne,normalMapObjectSpace:Pt&&I.normalMapType===A6,normalMapTangentSpace:Pt&&I.normalMapType===Qc,metalnessMap:Bt,roughnessMap:$,anisotropy:V,anisotropyMap:te,clearcoat:pt,clearcoatMap:ae,clearcoatNormalMap:tn,clearcoatRoughnessMap:Jt,dispersion:Nt,iridescence:jt,iridescenceMap:ge,iridescenceThicknessMap:Me,sheen:zt,sheenColorMap:Ee,sheenRoughnessMap:oe,specularMap:ut,specularColorMap:Ft,specularIntensityMap:ce,transmission:le,transmissionMap:lt,thicknessMap:ee,gradientMap:Dt,opaque:I.transparent===!1&&I.blending===Th&&I.alphaToCoverage===!1,alphaMap:Gt,alphaTest:pe,alphaHash:fe,combine:I.combine,mapUv:se&&E(I.map.channel),aoMapUv:nt&&E(I.aoMap.channel),lightMapUv:Be&&E(I.lightMap.channel),bumpMapUv:It&&E(I.bumpMap.channel),normalMapUv:Pt&&E(I.normalMap.channel),displacementMapUv:Ht&&E(I.displacementMap.channel),emissiveMapUv:ne&&E(I.emissiveMap.channel),metalnessMapUv:Bt&&E(I.metalnessMap.channel),roughnessMapUv:$&&E(I.roughnessMap.channel),anisotropyMapUv:te&&E(I.anisotropyMap.channel),clearcoatMapUv:ae&&E(I.clearcoatMap.channel),clearcoatNormalMapUv:tn&&E(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Jt&&E(I.clearcoatRoughnessMap.channel),iridescenceMapUv:ge&&E(I.iridescenceMap.channel),iridescenceThicknessMapUv:Me&&E(I.iridescenceThicknessMap.channel),sheenColorMapUv:Ee&&E(I.sheenColorMap.channel),sheenRoughnessMapUv:oe&&E(I.sheenRoughnessMap.channel),specularMapUv:ut&&E(I.specularMap.channel),specularColorMapUv:Ft&&E(I.specularColorMap.channel),specularIntensityMapUv:ce&&E(I.specularIntensityMap.channel),transmissionMapUv:lt&&E(I.transmissionMap.channel),thicknessMapUv:ee&&E(I.thicknessMap.channel),alphaMapUv:Gt&&E(I.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(Pt||V),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!J.attributes.uv&&(se||Gt),fog:!!tt,useFog:I.fog===!0,fogExp2:!!tt&&tt.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:$t,skinning:W.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:et,morphTextureStride:ot,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:rn,decodeVideoTexture:se&&I.map.isVideoTexture===!0&&Sn.getTransfer(I.map.colorSpace)===Zn,decodeVideoTextureEmissive:ne&&I.emissiveMap.isVideoTexture===!0&&Sn.getTransfer(I.emissiveMap.colorSpace)===Zn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Sl,flipSided:I.side===ra,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Ce&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ce&&I.extensions.multiDraw===!0||Qt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return On.vertexUv1s=h.has(1),On.vertexUv2s=h.has(2),On.vertexUv3s=h.has(3),h.clear(),On}function M(I){const B=[];if(I.shaderID?B.push(I.shaderID):(B.push(I.customVertexShaderID),B.push(I.customFragmentShaderID)),I.defines!==void 0)for(const F in I.defines)B.push(F),B.push(I.defines[F]);return I.isRawShaderMaterial===!1&&(w(B,I),O(B,I),B.push(n.outputColorSpace)),B.push(I.customProgramCacheKey),B.join()}function w(I,B){I.push(B.precision),I.push(B.outputColorSpace),I.push(B.envMapMode),I.push(B.envMapCubeUVHeight),I.push(B.mapUv),I.push(B.alphaMapUv),I.push(B.lightMapUv),I.push(B.aoMapUv),I.push(B.bumpMapUv),I.push(B.normalMapUv),I.push(B.displacementMapUv),I.push(B.emissiveMapUv),I.push(B.metalnessMapUv),I.push(B.roughnessMapUv),I.push(B.anisotropyMapUv),I.push(B.clearcoatMapUv),I.push(B.clearcoatNormalMapUv),I.push(B.clearcoatRoughnessMapUv),I.push(B.iridescenceMapUv),I.push(B.iridescenceThicknessMapUv),I.push(B.sheenColorMapUv),I.push(B.sheenRoughnessMapUv),I.push(B.specularMapUv),I.push(B.specularColorMapUv),I.push(B.specularIntensityMapUv),I.push(B.transmissionMapUv),I.push(B.thicknessMapUv),I.push(B.combine),I.push(B.fogExp2),I.push(B.sizeAttenuation),I.push(B.morphTargetsCount),I.push(B.morphAttributeCount),I.push(B.numDirLights),I.push(B.numPointLights),I.push(B.numSpotLights),I.push(B.numSpotLightMaps),I.push(B.numHemiLights),I.push(B.numRectAreaLights),I.push(B.numDirLightShadows),I.push(B.numPointLightShadows),I.push(B.numSpotLightShadows),I.push(B.numSpotLightShadowsWithMaps),I.push(B.numLightProbes),I.push(B.shadowMapType),I.push(B.toneMapping),I.push(B.numClippingPlanes),I.push(B.numClipIntersection),I.push(B.depthPacking)}function O(I,B){l.disableAll(),B.supportsVertexTextures&&l.enable(0),B.instancing&&l.enable(1),B.instancingColor&&l.enable(2),B.instancingMorph&&l.enable(3),B.matcap&&l.enable(4),B.envMap&&l.enable(5),B.normalMapObjectSpace&&l.enable(6),B.normalMapTangentSpace&&l.enable(7),B.clearcoat&&l.enable(8),B.iridescence&&l.enable(9),B.alphaTest&&l.enable(10),B.vertexColors&&l.enable(11),B.vertexAlphas&&l.enable(12),B.vertexUv1s&&l.enable(13),B.vertexUv2s&&l.enable(14),B.vertexUv3s&&l.enable(15),B.vertexTangents&&l.enable(16),B.anisotropy&&l.enable(17),B.alphaHash&&l.enable(18),B.batching&&l.enable(19),B.dispersion&&l.enable(20),B.batchingColor&&l.enable(21),I.push(l.mask),l.disableAll(),B.fog&&l.enable(0),B.useFog&&l.enable(1),B.flatShading&&l.enable(2),B.logarithmicDepthBuffer&&l.enable(3),B.reverseDepthBuffer&&l.enable(4),B.skinning&&l.enable(5),B.morphTargets&&l.enable(6),B.morphNormals&&l.enable(7),B.morphColors&&l.enable(8),B.premultipliedAlpha&&l.enable(9),B.shadowMapEnabled&&l.enable(10),B.doubleSided&&l.enable(11),B.flipSided&&l.enable(12),B.useDepthPacking&&l.enable(13),B.dithering&&l.enable(14),B.transmission&&l.enable(15),B.sheen&&l.enable(16),B.opaque&&l.enable(17),B.pointsUvs&&l.enable(18),B.decodeVideoTexture&&l.enable(19),B.decodeVideoTextureEmissive&&l.enable(20),B.alphaToCoverage&&l.enable(21),I.push(l.mask)}function R(I){const B=S[I.type];let F;if(B){const K=Do[B];F=TR.clone(K.uniforms)}else F=I.uniforms;return F}function N(I,B){let F;for(let K=0,W=m.length;K<W;K++){const tt=m[K];if(tt.cacheKey===B){F=tt,++F.usedTimes;break}}return F===void 0&&(F=new zct(n,B,I,a),m.push(F)),F}function P(I){if(--I.usedTimes===0){const B=m.indexOf(I);m[B]=m[m.length-1],m.pop(),I.destroy()}}function U(I){c.remove(I)}function z(){c.dispose()}return{getParameters:x,getProgramCacheKey:M,getUniforms:R,acquireProgram:N,releaseProgram:P,releaseShaderCache:U,programs:m,dispose:z}}function Gct(){let n=new WeakMap;function t(o){return n.has(o)}function e(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function i(o){n.delete(o)}function r(o,l,c){n.get(o)[l]=c}function a(){n=new WeakMap}return{has:t,get:e,remove:i,update:r,dispose:a}}function qct(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function o4(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function l4(){const n=[];let t=0;const e=[],i=[],r=[];function a(){t=0,e.length=0,i.length=0,r.length=0}function o(v,y,_,S,E,x){let M=n[t];return M===void 0?(M={id:v.id,object:v,geometry:y,material:_,groupOrder:S,renderOrder:v.renderOrder,z:E,group:x},n[t]=M):(M.id=v.id,M.object=v,M.geometry=y,M.material=_,M.groupOrder=S,M.renderOrder=v.renderOrder,M.z=E,M.group=x),t++,M}function l(v,y,_,S,E,x){const M=o(v,y,_,S,E,x);_.transmission>0?i.push(M):_.transparent===!0?r.push(M):e.push(M)}function c(v,y,_,S,E,x){const M=o(v,y,_,S,E,x);_.transmission>0?i.unshift(M):_.transparent===!0?r.unshift(M):e.unshift(M)}function h(v,y){e.length>1&&e.sort(v||qct),i.length>1&&i.sort(y||o4),r.length>1&&r.sort(y||o4)}function m(){for(let v=t,y=n.length;v<y;v++){const _=n[v];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:e,transmissive:i,transparent:r,init:a,push:l,unshift:c,finish:m,sort:h}}function kct(){let n=new WeakMap;function t(i,r){const a=n.get(i);let o;return a===void 0?(o=new l4,n.set(i,[o])):r>=a.length?(o=new l4,a.push(o)):o=a[r],o}function e(){n=new WeakMap}return{get:t,dispose:e}}function Xct(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new Q,color:new _e};break;case"SpotLight":e={position:new Q,direction:new Q,color:new _e,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new Q,color:new _e,distance:0,decay:0};break;case"HemisphereLight":e={direction:new Q,skyColor:new _e,groundColor:new _e};break;case"RectAreaLight":e={color:new _e,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[t.id]=e,e}}}function Yct(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let Wct=0;function Zct(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function Kct(n){const t=new Xct,e=Yct(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new Q);const r=new Q,a=new ke,o=new ke;function l(h){let m=0,v=0,y=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let _=0,S=0,E=0,x=0,M=0,w=0,O=0,R=0,N=0,P=0,U=0;h.sort(Zct);for(let I=0,B=h.length;I<B;I++){const F=h[I],K=F.color,W=F.intensity,tt=F.distance,J=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)m+=K.r*W,v+=K.g*W,y+=K.b*W;else if(F.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(F.sh.coefficients[H],W);U++}else if(F.isDirectionalLight){const H=t.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const q=F.shadow,k=e.get(F);k.shadowIntensity=q.intensity,k.shadowBias=q.bias,k.shadowNormalBias=q.normalBias,k.shadowRadius=q.radius,k.shadowMapSize=q.mapSize,i.directionalShadow[_]=k,i.directionalShadowMap[_]=J,i.directionalShadowMatrix[_]=F.shadow.matrix,w++}i.directional[_]=H,_++}else if(F.isSpotLight){const H=t.get(F);H.position.setFromMatrixPosition(F.matrixWorld),H.color.copy(K).multiplyScalar(W),H.distance=tt,H.coneCos=Math.cos(F.angle),H.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),H.decay=F.decay,i.spot[E]=H;const q=F.shadow;if(F.map&&(i.spotLightMap[N]=F.map,N++,q.updateMatrices(F),F.castShadow&&P++),i.spotLightMatrix[E]=q.matrix,F.castShadow){const k=e.get(F);k.shadowIntensity=q.intensity,k.shadowBias=q.bias,k.shadowNormalBias=q.normalBias,k.shadowRadius=q.radius,k.shadowMapSize=q.mapSize,i.spotShadow[E]=k,i.spotShadowMap[E]=J,R++}E++}else if(F.isRectAreaLight){const H=t.get(F);H.color.copy(K).multiplyScalar(W),H.halfWidth.set(F.width*.5,0,0),H.halfHeight.set(0,F.height*.5,0),i.rectArea[x]=H,x++}else if(F.isPointLight){const H=t.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),H.distance=F.distance,H.decay=F.decay,F.castShadow){const q=F.shadow,k=e.get(F);k.shadowIntensity=q.intensity,k.shadowBias=q.bias,k.shadowNormalBias=q.normalBias,k.shadowRadius=q.radius,k.shadowMapSize=q.mapSize,k.shadowCameraNear=q.camera.near,k.shadowCameraFar=q.camera.far,i.pointShadow[S]=k,i.pointShadowMap[S]=J,i.pointShadowMatrix[S]=F.shadow.matrix,O++}i.point[S]=H,S++}else if(F.isHemisphereLight){const H=t.get(F);H.skyColor.copy(F.color).multiplyScalar(W),H.groundColor.copy(F.groundColor).multiplyScalar(W),i.hemi[M]=H,M++}}x>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ve.LTC_FLOAT_1,i.rectAreaLTC2=ve.LTC_FLOAT_2):(i.rectAreaLTC1=ve.LTC_HALF_1,i.rectAreaLTC2=ve.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=y;const z=i.hash;(z.directionalLength!==_||z.pointLength!==S||z.spotLength!==E||z.rectAreaLength!==x||z.hemiLength!==M||z.numDirectionalShadows!==w||z.numPointShadows!==O||z.numSpotShadows!==R||z.numSpotMaps!==N||z.numLightProbes!==U)&&(i.directional.length=_,i.spot.length=E,i.rectArea.length=x,i.point.length=S,i.hemi.length=M,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=O,i.pointShadowMap.length=O,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=O,i.spotLightMatrix.length=R+N-P,i.spotLightMap.length=N,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=U,z.directionalLength=_,z.pointLength=S,z.spotLength=E,z.rectAreaLength=x,z.hemiLength=M,z.numDirectionalShadows=w,z.numPointShadows=O,z.numSpotShadows=R,z.numSpotMaps=N,z.numLightProbes=U,i.version=Wct++)}function c(h,m){let v=0,y=0,_=0,S=0,E=0;const x=m.matrixWorldInverse;for(let M=0,w=h.length;M<w;M++){const O=h[M];if(O.isDirectionalLight){const R=i.directional[v];R.direction.setFromMatrixPosition(O.matrixWorld),r.setFromMatrixPosition(O.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(x),v++}else if(O.isSpotLight){const R=i.spot[_];R.position.setFromMatrixPosition(O.matrixWorld),R.position.applyMatrix4(x),R.direction.setFromMatrixPosition(O.matrixWorld),r.setFromMatrixPosition(O.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(x),_++}else if(O.isRectAreaLight){const R=i.rectArea[S];R.position.setFromMatrixPosition(O.matrixWorld),R.position.applyMatrix4(x),o.identity(),a.copy(O.matrixWorld),a.premultiply(x),o.extractRotation(a),R.halfWidth.set(O.width*.5,0,0),R.halfHeight.set(0,O.height*.5,0),R.halfWidth.applyMatrix4(o),R.halfHeight.applyMatrix4(o),S++}else if(O.isPointLight){const R=i.point[y];R.position.setFromMatrixPosition(O.matrixWorld),R.position.applyMatrix4(x),y++}else if(O.isHemisphereLight){const R=i.hemi[E];R.direction.setFromMatrixPosition(O.matrixWorld),R.direction.transformDirection(x),E++}}}return{setup:l,setupView:c,state:i}}function u4(n){const t=new Kct(n),e=[],i=[];function r(m){h.camera=m,e.length=0,i.length=0}function a(m){e.push(m)}function o(m){i.push(m)}function l(){t.setup(e)}function c(m){t.setupView(e,m)}const h={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function $ct(n){let t=new WeakMap;function e(r,a=0){const o=t.get(r);let l;return o===void 0?(l=new u4(n),t.set(r,[l])):a>=o.length?(l=new u4(n),o.push(l)):l=o[a],l}function i(){t=new WeakMap}return{get:e,dispose:i}}const Qct=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Jct=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function tft(n,t,e){let i=new Hy;const r=new Xt,a=new Xt,o=new Tn,l=new HR({depthPacking:E6}),c=new FR,h={},m=e.maxTextureSize,v={[wu]:ra,[ra]:wu,[Sl]:Sl},y=new Zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xt},radius:{value:4}},vertexShader:Qct,fragmentShader:Jct}),_=y.clone();_.defines.HORIZONTAL_PASS=1;const S=new on;S.setAttribute("position",new ni(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new Qi(S,y),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=KS;let M=this.type;this.render=function(P,U,z){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||P.length===0)return;const I=n.getRenderTarget(),B=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),K=n.state;K.setBlending(Su),K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const W=M!==Co&&this.type===Co,tt=M===Co&&this.type!==Co;for(let J=0,H=P.length;J<H;J++){const q=P[J],k=q.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const it=k.getFrameExtents();if(r.multiply(it),a.copy(k.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/it.x),r.x=a.x*it.x,k.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/it.y),r.y=a.y*it.y,k.mapSize.y=a.y)),k.map===null||W===!0||tt===!0){const et=this.type!==Co?{minFilter:Hr,magFilter:Hr}:{};k.map!==null&&k.map.dispose(),k.map=new Nl(r.x,r.y,et),k.map.texture.name=q.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const G=k.getViewportCount();for(let et=0;et<G;et++){const ot=k.getViewport(et);o.set(a.x*ot.x,a.y*ot.y,a.x*ot.z,a.y*ot.w),K.viewport(o),k.updateMatrices(q,et),i=k.getFrustum(),R(U,z,k.camera,q,this.type)}k.isPointLightShadow!==!0&&this.type===Co&&w(k,z),k.needsUpdate=!1}M=this.type,x.needsUpdate=!1,n.setRenderTarget(I,B,F)};function w(P,U){const z=t.update(E);y.defines.VSM_SAMPLES!==P.blurSamples&&(y.defines.VSM_SAMPLES=P.blurSamples,_.defines.VSM_SAMPLES=P.blurSamples,y.needsUpdate=!0,_.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Nl(r.x,r.y)),y.uniforms.shadow_pass.value=P.map.texture,y.uniforms.resolution.value=P.mapSize,y.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(U,null,z,y,E,null),_.uniforms.shadow_pass.value=P.mapPass.texture,_.uniforms.resolution.value=P.mapSize,_.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(U,null,z,_,E,null)}function O(P,U,z,I){let B=null;const F=z.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(F!==void 0)B=F;else if(B=z.isPointLight===!0?c:l,n.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0){const K=B.uuid,W=U.uuid;let tt=h[K];tt===void 0&&(tt={},h[K]=tt);let J=tt[W];J===void 0&&(J=B.clone(),tt[W]=J,U.addEventListener("dispose",N)),B=J}if(B.visible=U.visible,B.wireframe=U.wireframe,I===Co?B.side=U.shadowSide!==null?U.shadowSide:U.side:B.side=U.shadowSide!==null?U.shadowSide:v[U.side],B.alphaMap=U.alphaMap,B.alphaTest=U.alphaTest,B.map=U.map,B.clipShadows=U.clipShadows,B.clippingPlanes=U.clippingPlanes,B.clipIntersection=U.clipIntersection,B.displacementMap=U.displacementMap,B.displacementScale=U.displacementScale,B.displacementBias=U.displacementBias,B.wireframeLinewidth=U.wireframeLinewidth,B.linewidth=U.linewidth,z.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const K=n.properties.get(B);K.light=z}return B}function R(P,U,z,I,B){if(P.visible===!1)return;if(P.layers.test(U.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&B===Co)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,P.matrixWorld);const W=t.update(P),tt=P.material;if(Array.isArray(tt)){const J=W.groups;for(let H=0,q=J.length;H<q;H++){const k=J[H],it=tt[k.materialIndex];if(it&&it.visible){const G=O(P,it,I,B);P.onBeforeShadow(n,P,U,z,W,G,k),n.renderBufferDirect(z,null,W,G,P,k),P.onAfterShadow(n,P,U,z,W,G,k)}}}else if(tt.visible){const J=O(P,tt,I,B);P.onBeforeShadow(n,P,U,z,W,J,null),n.renderBufferDirect(z,null,W,J,P,null),P.onAfterShadow(n,P,U,z,W,J,null)}}const K=P.children;for(let W=0,tt=K.length;W<tt;W++)R(K[W],U,z,I,B)}function N(P){P.target.removeEventListener("dispose",N);for(const z in h){const I=h[z],B=P.target.uuid;B in I&&(I[B].dispose(),delete I[B])}}}const eft={[Cx]:Rx,[Dx]:Ux,[Nx]:Lx,[Ph]:Px,[Rx]:Cx,[Ux]:Dx,[Lx]:Nx,[Px]:Ph};function nft(n,t){function e(){let lt=!1;const ee=new Tn;let Dt=null;const Gt=new Tn(0,0,0,0);return{setMask:function(pe){Dt!==pe&&!lt&&(n.colorMask(pe,pe,pe,pe),Dt=pe)},setLocked:function(pe){lt=pe},setClear:function(pe,fe,Ce,rn,On){On===!0&&(pe*=rn,fe*=rn,Ce*=rn),ee.set(pe,fe,Ce,rn),Gt.equals(ee)===!1&&(n.clearColor(pe,fe,Ce,rn),Gt.copy(ee))},reset:function(){lt=!1,Dt=null,Gt.set(-1,0,0,0)}}}function i(){let lt=!1,ee=!1,Dt=null,Gt=null,pe=null;return{setReversed:function(fe){if(ee!==fe){const Ce=t.get("EXT_clip_control");fe?Ce.clipControlEXT(Ce.LOWER_LEFT_EXT,Ce.ZERO_TO_ONE_EXT):Ce.clipControlEXT(Ce.LOWER_LEFT_EXT,Ce.NEGATIVE_ONE_TO_ONE_EXT),ee=fe;const rn=pe;pe=null,this.setClear(rn)}},getReversed:function(){return ee},setTest:function(fe){fe?Zt(n.DEPTH_TEST):$t(n.DEPTH_TEST)},setMask:function(fe){Dt!==fe&&!lt&&(n.depthMask(fe),Dt=fe)},setFunc:function(fe){if(ee&&(fe=eft[fe]),Gt!==fe){switch(fe){case Cx:n.depthFunc(n.NEVER);break;case Rx:n.depthFunc(n.ALWAYS);break;case Dx:n.depthFunc(n.LESS);break;case Ph:n.depthFunc(n.LEQUAL);break;case Nx:n.depthFunc(n.EQUAL);break;case Px:n.depthFunc(n.GEQUAL);break;case Ux:n.depthFunc(n.GREATER);break;case Lx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Gt=fe}},setLocked:function(fe){lt=fe},setClear:function(fe){pe!==fe&&(ee&&(fe=1-fe),n.clearDepth(fe),pe=fe)},reset:function(){lt=!1,Dt=null,Gt=null,pe=null,ee=!1}}}function r(){let lt=!1,ee=null,Dt=null,Gt=null,pe=null,fe=null,Ce=null,rn=null,On=null;return{setTest:function($e){lt||($e?Zt(n.STENCIL_TEST):$t(n.STENCIL_TEST))},setMask:function($e){ee!==$e&&!lt&&(n.stencilMask($e),ee=$e)},setFunc:function($e,Ti,si){(Dt!==$e||Gt!==Ti||pe!==si)&&(n.stencilFunc($e,Ti,si),Dt=$e,Gt=Ti,pe=si)},setOp:function($e,Ti,si){(fe!==$e||Ce!==Ti||rn!==si)&&(n.stencilOp($e,Ti,si),fe=$e,Ce=Ti,rn=si)},setLocked:function($e){lt=$e},setClear:function($e){On!==$e&&(n.clearStencil($e),On=$e)},reset:function(){lt=!1,ee=null,Dt=null,Gt=null,pe=null,fe=null,Ce=null,rn=null,On=null}}}const a=new e,o=new i,l=new r,c=new WeakMap,h=new WeakMap;let m={},v={},y=new WeakMap,_=[],S=null,E=!1,x=null,M=null,w=null,O=null,R=null,N=null,P=null,U=new _e(0,0,0),z=0,I=!1,B=null,F=null,K=null,W=null,tt=null;const J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,q=0;const k=n.getParameter(n.VERSION);k.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(k)[1]),H=q>=1):k.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),H=q>=2);let it=null,G={};const et=n.getParameter(n.SCISSOR_BOX),ot=n.getParameter(n.VIEWPORT),mt=new Tn().fromArray(et),rt=new Tn().fromArray(ot);function _t(lt,ee,Dt,Gt){const pe=new Uint8Array(4),fe=n.createTexture();n.bindTexture(lt,fe),n.texParameteri(lt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(lt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ce=0;Ce<Dt;Ce++)lt===n.TEXTURE_3D||lt===n.TEXTURE_2D_ARRAY?n.texImage3D(ee,0,n.RGBA,1,1,Gt,0,n.RGBA,n.UNSIGNED_BYTE,pe):n.texImage2D(ee+Ce,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,pe);return fe}const Ut={};Ut[n.TEXTURE_2D]=_t(n.TEXTURE_2D,n.TEXTURE_2D,1),Ut[n.TEXTURE_CUBE_MAP]=_t(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ut[n.TEXTURE_2D_ARRAY]=_t(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ut[n.TEXTURE_3D]=_t(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Zt(n.DEPTH_TEST),o.setFunc(Ph),It(!1),Pt(BO),Zt(n.CULL_FACE),nt(Su);function Zt(lt){m[lt]!==!0&&(n.enable(lt),m[lt]=!0)}function $t(lt){m[lt]!==!1&&(n.disable(lt),m[lt]=!1)}function wt(lt,ee){return v[lt]!==ee?(n.bindFramebuffer(lt,ee),v[lt]=ee,lt===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=ee),lt===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=ee),!0):!1}function Qt(lt,ee){let Dt=_,Gt=!1;if(lt){Dt=y.get(ee),Dt===void 0&&(Dt=[],y.set(ee,Dt));const pe=lt.textures;if(Dt.length!==pe.length||Dt[0]!==n.COLOR_ATTACHMENT0){for(let fe=0,Ce=pe.length;fe<Ce;fe++)Dt[fe]=n.COLOR_ATTACHMENT0+fe;Dt.length=pe.length,Gt=!0}}else Dt[0]!==n.BACK&&(Dt[0]=n.BACK,Gt=!0);Gt&&n.drawBuffers(Dt)}function se(lt){return S!==lt?(n.useProgram(lt),S=lt,!0):!1}const Lt={[Bc]:n.FUNC_ADD,[WF]:n.FUNC_SUBTRACT,[ZF]:n.FUNC_REVERSE_SUBTRACT};Lt[KF]=n.MIN,Lt[$F]=n.MAX;const be={[QF]:n.ZERO,[JF]:n.ONE,[t6]:n.SRC_COLOR,[wx]:n.SRC_ALPHA,[s6]:n.SRC_ALPHA_SATURATE,[r6]:n.DST_COLOR,[n6]:n.DST_ALPHA,[e6]:n.ONE_MINUS_SRC_COLOR,[Ox]:n.ONE_MINUS_SRC_ALPHA,[a6]:n.ONE_MINUS_DST_COLOR,[i6]:n.ONE_MINUS_DST_ALPHA,[o6]:n.CONSTANT_COLOR,[l6]:n.ONE_MINUS_CONSTANT_COLOR,[u6]:n.CONSTANT_ALPHA,[c6]:n.ONE_MINUS_CONSTANT_ALPHA};function nt(lt,ee,Dt,Gt,pe,fe,Ce,rn,On,$e){if(lt===Su){E===!0&&($t(n.BLEND),E=!1);return}if(E===!1&&(Zt(n.BLEND),E=!0),lt!==YF){if(lt!==x||$e!==I){if((M!==Bc||R!==Bc)&&(n.blendEquation(n.FUNC_ADD),M=Bc,R=Bc),$e)switch(lt){case Th:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case zO:n.blendFunc(n.ONE,n.ONE);break;case HO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case FO:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",lt);break}else switch(lt){case Th:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case zO:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case HO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case FO:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",lt);break}w=null,O=null,N=null,P=null,U.set(0,0,0),z=0,x=lt,I=$e}return}pe=pe||ee,fe=fe||Dt,Ce=Ce||Gt,(ee!==M||pe!==R)&&(n.blendEquationSeparate(Lt[ee],Lt[pe]),M=ee,R=pe),(Dt!==w||Gt!==O||fe!==N||Ce!==P)&&(n.blendFuncSeparate(be[Dt],be[Gt],be[fe],be[Ce]),w=Dt,O=Gt,N=fe,P=Ce),(rn.equals(U)===!1||On!==z)&&(n.blendColor(rn.r,rn.g,rn.b,On),U.copy(rn),z=On),x=lt,I=!1}function Be(lt,ee){lt.side===Sl?$t(n.CULL_FACE):Zt(n.CULL_FACE);let Dt=lt.side===ra;ee&&(Dt=!Dt),It(Dt),lt.blending===Th&&lt.transparent===!1?nt(Su):nt(lt.blending,lt.blendEquation,lt.blendSrc,lt.blendDst,lt.blendEquationAlpha,lt.blendSrcAlpha,lt.blendDstAlpha,lt.blendColor,lt.blendAlpha,lt.premultipliedAlpha),o.setFunc(lt.depthFunc),o.setTest(lt.depthTest),o.setMask(lt.depthWrite),a.setMask(lt.colorWrite);const Gt=lt.stencilWrite;l.setTest(Gt),Gt&&(l.setMask(lt.stencilWriteMask),l.setFunc(lt.stencilFunc,lt.stencilRef,lt.stencilFuncMask),l.setOp(lt.stencilFail,lt.stencilZFail,lt.stencilZPass)),ne(lt.polygonOffset,lt.polygonOffsetFactor,lt.polygonOffsetUnits),lt.alphaToCoverage===!0?Zt(n.SAMPLE_ALPHA_TO_COVERAGE):$t(n.SAMPLE_ALPHA_TO_COVERAGE)}function It(lt){B!==lt&&(lt?n.frontFace(n.CW):n.frontFace(n.CCW),B=lt)}function Pt(lt){lt!==qF?(Zt(n.CULL_FACE),lt!==F&&(lt===BO?n.cullFace(n.BACK):lt===kF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):$t(n.CULL_FACE),F=lt}function Ht(lt){lt!==K&&(H&&n.lineWidth(lt),K=lt)}function ne(lt,ee,Dt){lt?(Zt(n.POLYGON_OFFSET_FILL),(W!==ee||tt!==Dt)&&(n.polygonOffset(ee,Dt),W=ee,tt=Dt)):$t(n.POLYGON_OFFSET_FILL)}function Bt(lt){lt?Zt(n.SCISSOR_TEST):$t(n.SCISSOR_TEST)}function $(lt){lt===void 0&&(lt=n.TEXTURE0+J-1),it!==lt&&(n.activeTexture(lt),it=lt)}function V(lt,ee,Dt){Dt===void 0&&(it===null?Dt=n.TEXTURE0+J-1:Dt=it);let Gt=G[Dt];Gt===void 0&&(Gt={type:void 0,texture:void 0},G[Dt]=Gt),(Gt.type!==lt||Gt.texture!==ee)&&(it!==Dt&&(n.activeTexture(Dt),it=Dt),n.bindTexture(lt,ee||Ut[lt]),Gt.type=lt,Gt.texture=ee)}function pt(){const lt=G[it];lt!==void 0&&lt.type!==void 0&&(n.bindTexture(lt.type,null),lt.type=void 0,lt.texture=void 0)}function Nt(){try{n.compressedTexImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function jt(){try{n.compressedTexImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function zt(){try{n.texSubImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function le(){try{n.texSubImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function te(){try{n.compressedTexSubImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ae(){try{n.compressedTexSubImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function tn(){try{n.texStorage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Jt(){try{n.texStorage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ge(){try{n.texImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Me(){try{n.texImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Ee(lt){mt.equals(lt)===!1&&(n.scissor(lt.x,lt.y,lt.z,lt.w),mt.copy(lt))}function oe(lt){rt.equals(lt)===!1&&(n.viewport(lt.x,lt.y,lt.z,lt.w),rt.copy(lt))}function ut(lt,ee){let Dt=h.get(ee);Dt===void 0&&(Dt=new WeakMap,h.set(ee,Dt));let Gt=Dt.get(lt);Gt===void 0&&(Gt=n.getUniformBlockIndex(ee,lt.name),Dt.set(lt,Gt))}function Ft(lt,ee){const Gt=h.get(ee).get(lt);c.get(ee)!==Gt&&(n.uniformBlockBinding(ee,Gt,lt.__bindingPointIndex),c.set(ee,Gt))}function ce(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},it=null,G={},v={},y=new WeakMap,_=[],S=null,E=!1,x=null,M=null,w=null,O=null,R=null,N=null,P=null,U=new _e(0,0,0),z=0,I=!1,B=null,F=null,K=null,W=null,tt=null,mt.set(0,0,n.canvas.width,n.canvas.height),rt.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:Zt,disable:$t,bindFramebuffer:wt,drawBuffers:Qt,useProgram:se,setBlending:nt,setMaterial:Be,setFlipSided:It,setCullFace:Pt,setLineWidth:Ht,setPolygonOffset:ne,setScissorTest:Bt,activeTexture:$,bindTexture:V,unbindTexture:pt,compressedTexImage2D:Nt,compressedTexImage3D:jt,texImage2D:ge,texImage3D:Me,updateUBOMapping:ut,uniformBlockBinding:Ft,texStorage2D:tn,texStorage3D:Jt,texSubImage2D:zt,texSubImage3D:le,compressedTexSubImage2D:te,compressedTexSubImage3D:ae,scissor:Ee,viewport:oe,reset:ce}}function ift(n,t,e,i,r,a,o){const l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Xt,m=new WeakMap;let v;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S($,V){return _?new OffscreenCanvas($,V):my("canvas")}function E($,V,pt){let Nt=1;const jt=Bt($);if((jt.width>pt||jt.height>pt)&&(Nt=pt/Math.max(jt.width,jt.height)),Nt<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const zt=Math.floor(Nt*jt.width),le=Math.floor(Nt*jt.height);v===void 0&&(v=S(zt,le));const te=V?S(zt,le):v;return te.width=zt,te.height=le,te.getContext("2d").drawImage($,0,0,zt,le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+jt.width+"x"+jt.height+") to ("+zt+"x"+le+")."),te}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+jt.width+"x"+jt.height+")."),$;return $}function x($){return $.generateMipmaps}function M($){n.generateMipmap($)}function w($){return $.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?n.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function O($,V,pt,Nt,jt=!1){if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let zt=V;if(V===n.RED&&(pt===n.FLOAT&&(zt=n.R32F),pt===n.HALF_FLOAT&&(zt=n.R16F),pt===n.UNSIGNED_BYTE&&(zt=n.R8)),V===n.RED_INTEGER&&(pt===n.UNSIGNED_BYTE&&(zt=n.R8UI),pt===n.UNSIGNED_SHORT&&(zt=n.R16UI),pt===n.UNSIGNED_INT&&(zt=n.R32UI),pt===n.BYTE&&(zt=n.R8I),pt===n.SHORT&&(zt=n.R16I),pt===n.INT&&(zt=n.R32I)),V===n.RG&&(pt===n.FLOAT&&(zt=n.RG32F),pt===n.HALF_FLOAT&&(zt=n.RG16F),pt===n.UNSIGNED_BYTE&&(zt=n.RG8)),V===n.RG_INTEGER&&(pt===n.UNSIGNED_BYTE&&(zt=n.RG8UI),pt===n.UNSIGNED_SHORT&&(zt=n.RG16UI),pt===n.UNSIGNED_INT&&(zt=n.RG32UI),pt===n.BYTE&&(zt=n.RG8I),pt===n.SHORT&&(zt=n.RG16I),pt===n.INT&&(zt=n.RG32I)),V===n.RGB_INTEGER&&(pt===n.UNSIGNED_BYTE&&(zt=n.RGB8UI),pt===n.UNSIGNED_SHORT&&(zt=n.RGB16UI),pt===n.UNSIGNED_INT&&(zt=n.RGB32UI),pt===n.BYTE&&(zt=n.RGB8I),pt===n.SHORT&&(zt=n.RGB16I),pt===n.INT&&(zt=n.RGB32I)),V===n.RGBA_INTEGER&&(pt===n.UNSIGNED_BYTE&&(zt=n.RGBA8UI),pt===n.UNSIGNED_SHORT&&(zt=n.RGBA16UI),pt===n.UNSIGNED_INT&&(zt=n.RGBA32UI),pt===n.BYTE&&(zt=n.RGBA8I),pt===n.SHORT&&(zt=n.RGBA16I),pt===n.INT&&(zt=n.RGBA32I)),V===n.RGB&&pt===n.UNSIGNED_INT_5_9_9_9_REV&&(zt=n.RGB9_E5),V===n.RGBA){const le=jt?hy:Sn.getTransfer(Nt);pt===n.FLOAT&&(zt=n.RGBA32F),pt===n.HALF_FLOAT&&(zt=n.RGBA16F),pt===n.UNSIGNED_BYTE&&(zt=le===Zn?n.SRGB8_ALPHA8:n.RGBA8),pt===n.UNSIGNED_SHORT_4_4_4_4&&(zt=n.RGBA4),pt===n.UNSIGNED_SHORT_5_5_5_1&&(zt=n.RGB5_A1)}return(zt===n.R16F||zt===n.R32F||zt===n.RG16F||zt===n.RG32F||zt===n.RGBA16F||zt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),zt}function R($,V){let pt;return $?V===null||V===Cu||V===Qp?pt=n.DEPTH24_STENCIL8:V===Wa?pt=n.DEPTH32F_STENCIL8:V===$p&&(pt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Cu||V===Qp?pt=n.DEPTH_COMPONENT24:V===Wa?pt=n.DEPTH_COMPONENT32F:V===$p&&(pt=n.DEPTH_COMPONENT16),pt}function N($,V){return x($)===!0||$.isFramebufferTexture&&$.minFilter!==Hr&&$.minFilter!==hr?Math.log2(Math.max(V.width,V.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?V.mipmaps.length:1}function P($){const V=$.target;V.removeEventListener("dispose",P),z(V),V.isVideoTexture&&m.delete(V)}function U($){const V=$.target;V.removeEventListener("dispose",U),B(V)}function z($){const V=i.get($);if(V.__webglInit===void 0)return;const pt=$.source,Nt=y.get(pt);if(Nt){const jt=Nt[V.__cacheKey];jt.usedTimes--,jt.usedTimes===0&&I($),Object.keys(Nt).length===0&&y.delete(pt)}i.remove($)}function I($){const V=i.get($);n.deleteTexture(V.__webglTexture);const pt=$.source,Nt=y.get(pt);delete Nt[V.__cacheKey],o.memory.textures--}function B($){const V=i.get($);if($.depthTexture&&($.depthTexture.dispose(),i.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Nt=0;Nt<6;Nt++){if(Array.isArray(V.__webglFramebuffer[Nt]))for(let jt=0;jt<V.__webglFramebuffer[Nt].length;jt++)n.deleteFramebuffer(V.__webglFramebuffer[Nt][jt]);else n.deleteFramebuffer(V.__webglFramebuffer[Nt]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[Nt])}else{if(Array.isArray(V.__webglFramebuffer))for(let Nt=0;Nt<V.__webglFramebuffer.length;Nt++)n.deleteFramebuffer(V.__webglFramebuffer[Nt]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Nt=0;Nt<V.__webglColorRenderbuffer.length;Nt++)V.__webglColorRenderbuffer[Nt]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[Nt]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const pt=$.textures;for(let Nt=0,jt=pt.length;Nt<jt;Nt++){const zt=i.get(pt[Nt]);zt.__webglTexture&&(n.deleteTexture(zt.__webglTexture),o.memory.textures--),i.remove(pt[Nt])}i.remove($)}let F=0;function K(){F=0}function W(){const $=F;return $>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+r.maxTextures),F+=1,$}function tt($){const V=[];return V.push($.wrapS),V.push($.wrapT),V.push($.wrapR||0),V.push($.magFilter),V.push($.minFilter),V.push($.anisotropy),V.push($.internalFormat),V.push($.format),V.push($.type),V.push($.generateMipmaps),V.push($.premultiplyAlpha),V.push($.flipY),V.push($.unpackAlignment),V.push($.colorSpace),V.join()}function J($,V){const pt=i.get($);if($.isVideoTexture&&Ht($),$.isRenderTargetTexture===!1&&$.version>0&&pt.__version!==$.version){const Nt=$.image;if(Nt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Nt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{rt(pt,$,V);return}}e.bindTexture(n.TEXTURE_2D,pt.__webglTexture,n.TEXTURE0+V)}function H($,V){const pt=i.get($);if($.version>0&&pt.__version!==$.version){rt(pt,$,V);return}e.bindTexture(n.TEXTURE_2D_ARRAY,pt.__webglTexture,n.TEXTURE0+V)}function q($,V){const pt=i.get($);if($.version>0&&pt.__version!==$.version){rt(pt,$,V);return}e.bindTexture(n.TEXTURE_3D,pt.__webglTexture,n.TEXTURE0+V)}function k($,V){const pt=i.get($);if($.version>0&&pt.__version!==$.version){_t(pt,$,V);return}e.bindTexture(n.TEXTURE_CUBE_MAP,pt.__webglTexture,n.TEXTURE0+V)}const it={[ly]:n.REPEAT,[Xs]:n.CLAMP_TO_EDGE,[uy]:n.MIRRORED_REPEAT},G={[Hr]:n.NEAREST,[fR]:n.NEAREST_MIPMAP_NEAREST,[xp]:n.NEAREST_MIPMAP_LINEAR,[hr]:n.LINEAR,[pg]:n.LINEAR_MIPMAP_NEAREST,[El]:n.LINEAR_MIPMAP_LINEAR},et={[T6]:n.NEVER,[N6]:n.ALWAYS,[w6]:n.LESS,[SR]:n.LEQUAL,[O6]:n.EQUAL,[D6]:n.GEQUAL,[C6]:n.GREATER,[R6]:n.NOTEQUAL};function ot($,V){if(V.type===Wa&&t.has("OES_texture_float_linear")===!1&&(V.magFilter===hr||V.magFilter===pg||V.magFilter===xp||V.magFilter===El||V.minFilter===hr||V.minFilter===pg||V.minFilter===xp||V.minFilter===El)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri($,n.TEXTURE_WRAP_S,it[V.wrapS]),n.texParameteri($,n.TEXTURE_WRAP_T,it[V.wrapT]),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,it[V.wrapR]),n.texParameteri($,n.TEXTURE_MAG_FILTER,G[V.magFilter]),n.texParameteri($,n.TEXTURE_MIN_FILTER,G[V.minFilter]),V.compareFunction&&(n.texParameteri($,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri($,n.TEXTURE_COMPARE_FUNC,et[V.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===Hr||V.minFilter!==xp&&V.minFilter!==El||V.type===Wa&&t.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||i.get(V).__currentAnisotropy){const pt=t.get("EXT_texture_filter_anisotropic");n.texParameterf($,pt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,r.getMaxAnisotropy())),i.get(V).__currentAnisotropy=V.anisotropy}}}function mt($,V){let pt=!1;$.__webglInit===void 0&&($.__webglInit=!0,V.addEventListener("dispose",P));const Nt=V.source;let jt=y.get(Nt);jt===void 0&&(jt={},y.set(Nt,jt));const zt=tt(V);if(zt!==$.__cacheKey){jt[zt]===void 0&&(jt[zt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,pt=!0),jt[zt].usedTimes++;const le=jt[$.__cacheKey];le!==void 0&&(jt[$.__cacheKey].usedTimes--,le.usedTimes===0&&I(V)),$.__cacheKey=zt,$.__webglTexture=jt[zt].texture}return pt}function rt($,V,pt){let Nt=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Nt=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Nt=n.TEXTURE_3D);const jt=mt($,V),zt=V.source;e.bindTexture(Nt,$.__webglTexture,n.TEXTURE0+pt);const le=i.get(zt);if(zt.version!==le.__version||jt===!0){e.activeTexture(n.TEXTURE0+pt);const te=Sn.getPrimaries(Sn.workingColorSpace),ae=V.colorSpace===du?null:Sn.getPrimaries(V.colorSpace),tn=V.colorSpace===du||te===ae?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,tn);let Jt=E(V.image,!1,r.maxTextureSize);Jt=ne(V,Jt);const ge=a.convert(V.format,V.colorSpace),Me=a.convert(V.type);let Ee=O(V.internalFormat,ge,Me,V.colorSpace,V.isVideoTexture);ot(Nt,V);let oe;const ut=V.mipmaps,Ft=V.isVideoTexture!==!0,ce=le.__version===void 0||jt===!0,lt=zt.dataReady,ee=N(V,Jt);if(V.isDepthTexture)Ee=R(V.format===tm,V.type),ce&&(Ft?e.texStorage2D(n.TEXTURE_2D,1,Ee,Jt.width,Jt.height):e.texImage2D(n.TEXTURE_2D,0,Ee,Jt.width,Jt.height,0,ge,Me,null));else if(V.isDataTexture)if(ut.length>0){Ft&&ce&&e.texStorage2D(n.TEXTURE_2D,ee,Ee,ut[0].width,ut[0].height);for(let Dt=0,Gt=ut.length;Dt<Gt;Dt++)oe=ut[Dt],Ft?lt&&e.texSubImage2D(n.TEXTURE_2D,Dt,0,0,oe.width,oe.height,ge,Me,oe.data):e.texImage2D(n.TEXTURE_2D,Dt,Ee,oe.width,oe.height,0,ge,Me,oe.data);V.generateMipmaps=!1}else Ft?(ce&&e.texStorage2D(n.TEXTURE_2D,ee,Ee,Jt.width,Jt.height),lt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,Jt.width,Jt.height,ge,Me,Jt.data)):e.texImage2D(n.TEXTURE_2D,0,Ee,Jt.width,Jt.height,0,ge,Me,Jt.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Ft&&ce&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ee,Ee,ut[0].width,ut[0].height,Jt.depth);for(let Dt=0,Gt=ut.length;Dt<Gt;Dt++)if(oe=ut[Dt],V.format!==ia)if(ge!==null)if(Ft){if(lt)if(V.layerUpdates.size>0){const pe=$O(oe.width,oe.height,V.format,V.type);for(const fe of V.layerUpdates){const Ce=oe.data.subarray(fe*pe/oe.data.BYTES_PER_ELEMENT,(fe+1)*pe/oe.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Dt,0,0,fe,oe.width,oe.height,1,ge,Ce)}V.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Dt,0,0,0,oe.width,oe.height,Jt.depth,ge,oe.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Dt,Ee,oe.width,oe.height,Jt.depth,0,oe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ft?lt&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,Dt,0,0,0,oe.width,oe.height,Jt.depth,ge,Me,oe.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Dt,Ee,oe.width,oe.height,Jt.depth,0,ge,Me,oe.data)}else{Ft&&ce&&e.texStorage2D(n.TEXTURE_2D,ee,Ee,ut[0].width,ut[0].height);for(let Dt=0,Gt=ut.length;Dt<Gt;Dt++)oe=ut[Dt],V.format!==ia?ge!==null?Ft?lt&&e.compressedTexSubImage2D(n.TEXTURE_2D,Dt,0,0,oe.width,oe.height,ge,oe.data):e.compressedTexImage2D(n.TEXTURE_2D,Dt,Ee,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ft?lt&&e.texSubImage2D(n.TEXTURE_2D,Dt,0,0,oe.width,oe.height,ge,Me,oe.data):e.texImage2D(n.TEXTURE_2D,Dt,Ee,oe.width,oe.height,0,ge,Me,oe.data)}else if(V.isDataArrayTexture)if(Ft){if(ce&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ee,Ee,Jt.width,Jt.height,Jt.depth),lt)if(V.layerUpdates.size>0){const Dt=$O(Jt.width,Jt.height,V.format,V.type);for(const Gt of V.layerUpdates){const pe=Jt.data.subarray(Gt*Dt/Jt.data.BYTES_PER_ELEMENT,(Gt+1)*Dt/Jt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Gt,Jt.width,Jt.height,1,ge,Me,pe)}V.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Jt.width,Jt.height,Jt.depth,ge,Me,Jt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,Ee,Jt.width,Jt.height,Jt.depth,0,ge,Me,Jt.data);else if(V.isData3DTexture)Ft?(ce&&e.texStorage3D(n.TEXTURE_3D,ee,Ee,Jt.width,Jt.height,Jt.depth),lt&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Jt.width,Jt.height,Jt.depth,ge,Me,Jt.data)):e.texImage3D(n.TEXTURE_3D,0,Ee,Jt.width,Jt.height,Jt.depth,0,ge,Me,Jt.data);else if(V.isFramebufferTexture){if(ce)if(Ft)e.texStorage2D(n.TEXTURE_2D,ee,Ee,Jt.width,Jt.height);else{let Dt=Jt.width,Gt=Jt.height;for(let pe=0;pe<ee;pe++)e.texImage2D(n.TEXTURE_2D,pe,Ee,Dt,Gt,0,ge,Me,null),Dt>>=1,Gt>>=1}}else if(ut.length>0){if(Ft&&ce){const Dt=Bt(ut[0]);e.texStorage2D(n.TEXTURE_2D,ee,Ee,Dt.width,Dt.height)}for(let Dt=0,Gt=ut.length;Dt<Gt;Dt++)oe=ut[Dt],Ft?lt&&e.texSubImage2D(n.TEXTURE_2D,Dt,0,0,ge,Me,oe):e.texImage2D(n.TEXTURE_2D,Dt,Ee,ge,Me,oe);V.generateMipmaps=!1}else if(Ft){if(ce){const Dt=Bt(Jt);e.texStorage2D(n.TEXTURE_2D,ee,Ee,Dt.width,Dt.height)}lt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,ge,Me,Jt)}else e.texImage2D(n.TEXTURE_2D,0,Ee,ge,Me,Jt);x(V)&&M(Nt),le.__version=zt.version,V.onUpdate&&V.onUpdate(V)}$.__version=V.version}function _t($,V,pt){if(V.image.length!==6)return;const Nt=mt($,V),jt=V.source;e.bindTexture(n.TEXTURE_CUBE_MAP,$.__webglTexture,n.TEXTURE0+pt);const zt=i.get(jt);if(jt.version!==zt.__version||Nt===!0){e.activeTexture(n.TEXTURE0+pt);const le=Sn.getPrimaries(Sn.workingColorSpace),te=V.colorSpace===du?null:Sn.getPrimaries(V.colorSpace),ae=V.colorSpace===du||le===te?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ae);const tn=V.isCompressedTexture||V.image[0].isCompressedTexture,Jt=V.image[0]&&V.image[0].isDataTexture,ge=[];for(let Gt=0;Gt<6;Gt++)!tn&&!Jt?ge[Gt]=E(V.image[Gt],!0,r.maxCubemapSize):ge[Gt]=Jt?V.image[Gt].image:V.image[Gt],ge[Gt]=ne(V,ge[Gt]);const Me=ge[0],Ee=a.convert(V.format,V.colorSpace),oe=a.convert(V.type),ut=O(V.internalFormat,Ee,oe,V.colorSpace),Ft=V.isVideoTexture!==!0,ce=zt.__version===void 0||Nt===!0,lt=jt.dataReady;let ee=N(V,Me);ot(n.TEXTURE_CUBE_MAP,V);let Dt;if(tn){Ft&&ce&&e.texStorage2D(n.TEXTURE_CUBE_MAP,ee,ut,Me.width,Me.height);for(let Gt=0;Gt<6;Gt++){Dt=ge[Gt].mipmaps;for(let pe=0;pe<Dt.length;pe++){const fe=Dt[pe];V.format!==ia?Ee!==null?Ft?lt&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe,0,0,fe.width,fe.height,Ee,fe.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe,ut,fe.width,fe.height,0,fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ft?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe,0,0,fe.width,fe.height,Ee,oe,fe.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe,ut,fe.width,fe.height,0,Ee,oe,fe.data)}}}else{if(Dt=V.mipmaps,Ft&&ce){Dt.length>0&&ee++;const Gt=Bt(ge[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,ee,ut,Gt.width,Gt.height)}for(let Gt=0;Gt<6;Gt++)if(Jt){Ft?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,0,0,0,ge[Gt].width,ge[Gt].height,Ee,oe,ge[Gt].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,0,ut,ge[Gt].width,ge[Gt].height,0,Ee,oe,ge[Gt].data);for(let pe=0;pe<Dt.length;pe++){const Ce=Dt[pe].image[Gt].image;Ft?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe+1,0,0,Ce.width,Ce.height,Ee,oe,Ce.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe+1,ut,Ce.width,Ce.height,0,Ee,oe,Ce.data)}}else{Ft?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,0,0,0,Ee,oe,ge[Gt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,0,ut,Ee,oe,ge[Gt]);for(let pe=0;pe<Dt.length;pe++){const fe=Dt[pe];Ft?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe+1,0,0,Ee,oe,fe.image[Gt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,pe+1,ut,Ee,oe,fe.image[Gt])}}}x(V)&&M(n.TEXTURE_CUBE_MAP),zt.__version=jt.version,V.onUpdate&&V.onUpdate(V)}$.__version=V.version}function Ut($,V,pt,Nt,jt,zt){const le=a.convert(pt.format,pt.colorSpace),te=a.convert(pt.type),ae=O(pt.internalFormat,le,te,pt.colorSpace),tn=i.get(V),Jt=i.get(pt);if(Jt.__renderTarget=V,!tn.__hasExternalTextures){const ge=Math.max(1,V.width>>zt),Me=Math.max(1,V.height>>zt);jt===n.TEXTURE_3D||jt===n.TEXTURE_2D_ARRAY?e.texImage3D(jt,zt,ae,ge,Me,V.depth,0,le,te,null):e.texImage2D(jt,zt,ae,ge,Me,0,le,te,null)}e.bindFramebuffer(n.FRAMEBUFFER,$),Pt(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Nt,jt,Jt.__webglTexture,0,It(V)):(jt===n.TEXTURE_2D||jt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&jt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Nt,jt,Jt.__webglTexture,zt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function Zt($,V,pt){if(n.bindRenderbuffer(n.RENDERBUFFER,$),V.depthBuffer){const Nt=V.depthTexture,jt=Nt&&Nt.isDepthTexture?Nt.type:null,zt=R(V.stencilBuffer,jt),le=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,te=It(V);Pt(V)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,te,zt,V.width,V.height):pt?n.renderbufferStorageMultisample(n.RENDERBUFFER,te,zt,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,zt,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,le,n.RENDERBUFFER,$)}else{const Nt=V.textures;for(let jt=0;jt<Nt.length;jt++){const zt=Nt[jt],le=a.convert(zt.format,zt.colorSpace),te=a.convert(zt.type),ae=O(zt.internalFormat,le,te,zt.colorSpace),tn=It(V);pt&&Pt(V)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,tn,ae,V.width,V.height):Pt(V)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,tn,ae,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,ae,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function $t($,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,$),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Nt=i.get(V.depthTexture);Nt.__renderTarget=V,(!Nt.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),J(V.depthTexture,0);const jt=Nt.__webglTexture,zt=It(V);if(V.depthTexture.format===Jp)Pt(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,jt,0,zt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,jt,0);else if(V.depthTexture.format===tm)Pt(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,jt,0,zt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,jt,0);else throw new Error("Unknown depthTexture format")}function wt($){const V=i.get($),pt=$.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==$.depthTexture){const Nt=$.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),Nt){const jt=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,Nt.removeEventListener("dispose",jt)};Nt.addEventListener("dispose",jt),V.__depthDisposeCallback=jt}V.__boundDepthTexture=Nt}if($.depthTexture&&!V.__autoAllocateDepthBuffer){if(pt)throw new Error("target.depthTexture not supported in Cube render targets");$t(V.__webglFramebuffer,$)}else if(pt){V.__webglDepthbuffer=[];for(let Nt=0;Nt<6;Nt++)if(e.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[Nt]),V.__webglDepthbuffer[Nt]===void 0)V.__webglDepthbuffer[Nt]=n.createRenderbuffer(),Zt(V.__webglDepthbuffer[Nt],$,!1);else{const jt=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,zt=V.__webglDepthbuffer[Nt];n.bindRenderbuffer(n.RENDERBUFFER,zt),n.framebufferRenderbuffer(n.FRAMEBUFFER,jt,n.RENDERBUFFER,zt)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=n.createRenderbuffer(),Zt(V.__webglDepthbuffer,$,!1);else{const Nt=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,jt=V.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,jt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Nt,n.RENDERBUFFER,jt)}e.bindFramebuffer(n.FRAMEBUFFER,null)}function Qt($,V,pt){const Nt=i.get($);V!==void 0&&Ut(Nt.__webglFramebuffer,$,$.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),pt!==void 0&&wt($)}function se($){const V=$.texture,pt=i.get($),Nt=i.get(V);$.addEventListener("dispose",U);const jt=$.textures,zt=$.isWebGLCubeRenderTarget===!0,le=jt.length>1;if(le||(Nt.__webglTexture===void 0&&(Nt.__webglTexture=n.createTexture()),Nt.__version=V.version,o.memory.textures++),zt){pt.__webglFramebuffer=[];for(let te=0;te<6;te++)if(V.mipmaps&&V.mipmaps.length>0){pt.__webglFramebuffer[te]=[];for(let ae=0;ae<V.mipmaps.length;ae++)pt.__webglFramebuffer[te][ae]=n.createFramebuffer()}else pt.__webglFramebuffer[te]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){pt.__webglFramebuffer=[];for(let te=0;te<V.mipmaps.length;te++)pt.__webglFramebuffer[te]=n.createFramebuffer()}else pt.__webglFramebuffer=n.createFramebuffer();if(le)for(let te=0,ae=jt.length;te<ae;te++){const tn=i.get(jt[te]);tn.__webglTexture===void 0&&(tn.__webglTexture=n.createTexture(),o.memory.textures++)}if($.samples>0&&Pt($)===!1){pt.__webglMultisampledFramebuffer=n.createFramebuffer(),pt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,pt.__webglMultisampledFramebuffer);for(let te=0;te<jt.length;te++){const ae=jt[te];pt.__webglColorRenderbuffer[te]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,pt.__webglColorRenderbuffer[te]);const tn=a.convert(ae.format,ae.colorSpace),Jt=a.convert(ae.type),ge=O(ae.internalFormat,tn,Jt,ae.colorSpace,$.isXRRenderTarget===!0),Me=It($);n.renderbufferStorageMultisample(n.RENDERBUFFER,Me,ge,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+te,n.RENDERBUFFER,pt.__webglColorRenderbuffer[te])}n.bindRenderbuffer(n.RENDERBUFFER,null),$.depthBuffer&&(pt.__webglDepthRenderbuffer=n.createRenderbuffer(),Zt(pt.__webglDepthRenderbuffer,$,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(zt){e.bindTexture(n.TEXTURE_CUBE_MAP,Nt.__webglTexture),ot(n.TEXTURE_CUBE_MAP,V);for(let te=0;te<6;te++)if(V.mipmaps&&V.mipmaps.length>0)for(let ae=0;ae<V.mipmaps.length;ae++)Ut(pt.__webglFramebuffer[te][ae],$,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+te,ae);else Ut(pt.__webglFramebuffer[te],$,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+te,0);x(V)&&M(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(le){for(let te=0,ae=jt.length;te<ae;te++){const tn=jt[te],Jt=i.get(tn);e.bindTexture(n.TEXTURE_2D,Jt.__webglTexture),ot(n.TEXTURE_2D,tn),Ut(pt.__webglFramebuffer,$,tn,n.COLOR_ATTACHMENT0+te,n.TEXTURE_2D,0),x(tn)&&M(n.TEXTURE_2D)}e.unbindTexture()}else{let te=n.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(te=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(te,Nt.__webglTexture),ot(te,V),V.mipmaps&&V.mipmaps.length>0)for(let ae=0;ae<V.mipmaps.length;ae++)Ut(pt.__webglFramebuffer[ae],$,V,n.COLOR_ATTACHMENT0,te,ae);else Ut(pt.__webglFramebuffer,$,V,n.COLOR_ATTACHMENT0,te,0);x(V)&&M(te),e.unbindTexture()}$.depthBuffer&&wt($)}function Lt($){const V=$.textures;for(let pt=0,Nt=V.length;pt<Nt;pt++){const jt=V[pt];if(x(jt)){const zt=w($),le=i.get(jt).__webglTexture;e.bindTexture(zt,le),M(zt),e.unbindTexture()}}}const be=[],nt=[];function Be($){if($.samples>0){if(Pt($)===!1){const V=$.textures,pt=$.width,Nt=$.height;let jt=n.COLOR_BUFFER_BIT;const zt=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,le=i.get($),te=V.length>1;if(te)for(let ae=0;ae<V.length;ae++)e.bindFramebuffer(n.FRAMEBUFFER,le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,le.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,le.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,le.__webglFramebuffer);for(let ae=0;ae<V.length;ae++){if($.resolveDepthBuffer&&($.depthBuffer&&(jt|=n.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(jt|=n.STENCIL_BUFFER_BIT)),te){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,le.__webglColorRenderbuffer[ae]);const tn=i.get(V[ae]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,tn,0)}n.blitFramebuffer(0,0,pt,Nt,0,0,pt,Nt,jt,n.NEAREST),c===!0&&(be.length=0,nt.length=0,be.push(n.COLOR_ATTACHMENT0+ae),$.depthBuffer&&$.resolveDepthBuffer===!1&&(be.push(zt),nt.push(zt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,nt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),te)for(let ae=0;ae<V.length;ae++){e.bindFramebuffer(n.FRAMEBUFFER,le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,n.RENDERBUFFER,le.__webglColorRenderbuffer[ae]);const tn=i.get(V[ae]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,le.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,n.TEXTURE_2D,tn,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,le.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&c){const V=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function It($){return Math.min(r.maxSamples,$.samples)}function Pt($){const V=i.get($);return $.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Ht($){const V=o.render.frame;m.get($)!==V&&(m.set($,V),$.update())}function ne($,V){const pt=$.colorSpace,Nt=$.format,jt=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||pt!==kc&&pt!==du&&(Sn.getTransfer(pt)===Zn?(Nt!==ia||jt!==Io)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pt)),V}function Bt($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(h.width=$.naturalWidth||$.width,h.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(h.width=$.displayWidth,h.height=$.displayHeight):(h.width=$.width,h.height=$.height),h}this.allocateTextureUnit=W,this.resetTextureUnits=K,this.setTexture2D=J,this.setTexture2DArray=H,this.setTexture3D=q,this.setTextureCube=k,this.rebindTextures=Qt,this.setupRenderTarget=se,this.updateRenderTargetMipmap=Lt,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=wt,this.setupFrameBufferTexture=Ut,this.useMultisampledRTT=Pt}function Gj(n,t){function e(i,r=du){let a;const o=Sn.getTransfer(r);if(i===Io)return n.UNSIGNED_BYTE;if(i===JS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===t1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===pR)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===hR)return n.BYTE;if(i===dR)return n.SHORT;if(i===$p)return n.UNSIGNED_SHORT;if(i===QS)return n.INT;if(i===Cu)return n.UNSIGNED_INT;if(i===Wa)return n.FLOAT;if(i===vm)return n.HALF_FLOAT;if(i===mR)return n.ALPHA;if(i===vR)return n.RGB;if(i===ia)return n.RGBA;if(i===gR)return n.LUMINANCE;if(i===yR)return n.LUMINANCE_ALPHA;if(i===Jp)return n.DEPTH_COMPONENT;if(i===tm)return n.DEPTH_STENCIL;if(i===e1)return n.RED;if(i===Iy)return n.RED_INTEGER;if(i===bR)return n.RG;if(i===n1)return n.RG_INTEGER;if(i===i1)return n.RGBA_INTEGER;if(i===mg||i===vg||i===gg||i===yg)if(o===Zn)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===mg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===vg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===gg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===yg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===mg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===vg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===gg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===yg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Ix||i===Bx||i===zx||i===Hx)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Ix)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Bx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===zx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Hx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Fx||i===jx||i===Vx)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(i===Fx||i===jx)return o===Zn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Vx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Gx||i===qx||i===kx||i===Xx||i===Yx||i===Wx||i===Zx||i===Kx||i===$x||i===Qx||i===Jx||i===tS||i===eS||i===nS)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Gx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===qx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===kx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Xx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Yx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Wx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Zx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Kx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===$x)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Qx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Jx)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===tS)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===eS)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===nS)return o===Zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===bg||i===iS||i===rS)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(i===bg)return o===Zn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===iS)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===rS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===_R||i===aS||i===sS||i===oS)if(a=t.get("EXT_texture_compression_rgtc"),a!==null){if(i===bg)return a.COMPRESSED_RED_RGTC1_EXT;if(i===aS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===sS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===oS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Qp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const rft=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,aft=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class sft{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const r=new Li,a=t.properties.get(r);a.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new Zs({vertexShader:rft,fragmentShader:aft,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Qi(new ym(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oft extends Ul{constructor(t,e){super();const i=this;let r=null,a=1,o=null,l="local-floor",c=1,h=null,m=null,v=null,y=null,_=null,S=null;const E=new sft,x=e.getContextAttributes();let M=null,w=null;const O=[],R=[],N=new Xt;let P=null;const U=new Vi;U.viewport=new Tn;const z=new Vi;z.viewport=new Tn;const I=[U,z],B=new Nj;let F=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(rt){let _t=O[rt];return _t===void 0&&(_t=new C_,O[rt]=_t),_t.getTargetRaySpace()},this.getControllerGrip=function(rt){let _t=O[rt];return _t===void 0&&(_t=new C_,O[rt]=_t),_t.getGripSpace()},this.getHand=function(rt){let _t=O[rt];return _t===void 0&&(_t=new C_,O[rt]=_t),_t.getHandSpace()};function W(rt){const _t=R.indexOf(rt.inputSource);if(_t===-1)return;const Ut=O[_t];Ut!==void 0&&(Ut.update(rt.inputSource,rt.frame,h||o),Ut.dispatchEvent({type:rt.type,data:rt.inputSource}))}function tt(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",tt),r.removeEventListener("inputsourceschange",J);for(let rt=0;rt<O.length;rt++){const _t=R[rt];_t!==null&&(R[rt]=null,O[rt].disconnect(_t))}F=null,K=null,E.reset(),t.setRenderTarget(M),_=null,y=null,v=null,r=null,w=null,mt.stop(),i.isPresenting=!1,t.setPixelRatio(P),t.setSize(N.width,N.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(rt){a=rt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(rt){l=rt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(rt){h=rt},this.getBaseLayer=function(){return y!==null?y:_},this.getBinding=function(){return v},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(rt){if(r=rt,r!==null){if(M=t.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",tt),r.addEventListener("inputsourceschange",J),x.xrCompatible!==!0&&await e.makeXRCompatible(),P=t.getPixelRatio(),t.getSize(N),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ut=null,Zt=null,$t=null;x.depth&&($t=x.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Ut=x.stencil?tm:Jp,Zt=x.stencil?Qp:Cu);const wt={colorFormat:e.RGBA8,depthFormat:$t,scaleFactor:a};v=new XRWebGLBinding(r,e),y=v.createProjectionLayer(wt),r.updateRenderState({layers:[y]}),t.setPixelRatio(1),t.setSize(y.textureWidth,y.textureHeight,!1),w=new Nl(y.textureWidth,y.textureHeight,{format:ia,type:Io,depthTexture:new DR(y.textureWidth,y.textureHeight,Zt,void 0,void 0,void 0,void 0,void 0,void 0,Ut),stencilBuffer:x.stencil,colorSpace:t.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Ut={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:a};_=new XRWebGLLayer(r,e,Ut),r.updateRenderState({baseLayer:_}),t.setPixelRatio(1),t.setSize(_.framebufferWidth,_.framebufferHeight,!1),w=new Nl(_.framebufferWidth,_.framebufferHeight,{format:ia,type:Io,colorSpace:t.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),h=null,o=await r.requestReferenceSpace(l),mt.setContext(r),mt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function J(rt){for(let _t=0;_t<rt.removed.length;_t++){const Ut=rt.removed[_t],Zt=R.indexOf(Ut);Zt>=0&&(R[Zt]=null,O[Zt].disconnect(Ut))}for(let _t=0;_t<rt.added.length;_t++){const Ut=rt.added[_t];let Zt=R.indexOf(Ut);if(Zt===-1){for(let wt=0;wt<O.length;wt++)if(wt>=R.length){R.push(Ut),Zt=wt;break}else if(R[wt]===null){R[wt]=Ut,Zt=wt;break}if(Zt===-1)break}const $t=O[Zt];$t&&$t.connect(Ut)}}const H=new Q,q=new Q;function k(rt,_t,Ut){H.setFromMatrixPosition(_t.matrixWorld),q.setFromMatrixPosition(Ut.matrixWorld);const Zt=H.distanceTo(q),$t=_t.projectionMatrix.elements,wt=Ut.projectionMatrix.elements,Qt=$t[14]/($t[10]-1),se=$t[14]/($t[10]+1),Lt=($t[9]+1)/$t[5],be=($t[9]-1)/$t[5],nt=($t[8]-1)/$t[0],Be=(wt[8]+1)/wt[0],It=Qt*nt,Pt=Qt*Be,Ht=Zt/(-nt+Be),ne=Ht*-nt;if(_t.matrixWorld.decompose(rt.position,rt.quaternion,rt.scale),rt.translateX(ne),rt.translateZ(Ht),rt.matrixWorld.compose(rt.position,rt.quaternion,rt.scale),rt.matrixWorldInverse.copy(rt.matrixWorld).invert(),$t[10]===-1)rt.projectionMatrix.copy(_t.projectionMatrix),rt.projectionMatrixInverse.copy(_t.projectionMatrixInverse);else{const Bt=Qt+Ht,$=se+Ht,V=It-ne,pt=Pt+(Zt-ne),Nt=Lt*se/$*Bt,jt=be*se/$*Bt;rt.projectionMatrix.makePerspective(V,pt,Nt,jt,Bt,$),rt.projectionMatrixInverse.copy(rt.projectionMatrix).invert()}}function it(rt,_t){_t===null?rt.matrixWorld.copy(rt.matrix):rt.matrixWorld.multiplyMatrices(_t.matrixWorld,rt.matrix),rt.matrixWorldInverse.copy(rt.matrixWorld).invert()}this.updateCamera=function(rt){if(r===null)return;let _t=rt.near,Ut=rt.far;E.texture!==null&&(E.depthNear>0&&(_t=E.depthNear),E.depthFar>0&&(Ut=E.depthFar)),B.near=z.near=U.near=_t,B.far=z.far=U.far=Ut,(F!==B.near||K!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),F=B.near,K=B.far),U.layers.mask=rt.layers.mask|2,z.layers.mask=rt.layers.mask|4,B.layers.mask=U.layers.mask|z.layers.mask;const Zt=rt.parent,$t=B.cameras;it(B,Zt);for(let wt=0;wt<$t.length;wt++)it($t[wt],Zt);$t.length===2?k(B,U,z):B.projectionMatrix.copy(U.projectionMatrix),G(rt,B,Zt)};function G(rt,_t,Ut){Ut===null?rt.matrix.copy(_t.matrixWorld):(rt.matrix.copy(Ut.matrixWorld),rt.matrix.invert(),rt.matrix.multiply(_t.matrixWorld)),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale),rt.updateMatrixWorld(!0),rt.projectionMatrix.copy(_t.projectionMatrix),rt.projectionMatrixInverse.copy(_t.projectionMatrixInverse),rt.isPerspectiveCamera&&(rt.fov=em*2*Math.atan(1/rt.projectionMatrix.elements[5]),rt.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(y===null&&_===null))return c},this.setFoveation=function(rt){c=rt,y!==null&&(y.fixedFoveation=rt),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=rt)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(B)};let et=null;function ot(rt,_t){if(m=_t.getViewerPose(h||o),S=_t,m!==null){const Ut=m.views;_!==null&&(t.setRenderTargetFramebuffer(w,_.framebuffer),t.setRenderTarget(w));let Zt=!1;Ut.length!==B.cameras.length&&(B.cameras.length=0,Zt=!0);for(let Qt=0;Qt<Ut.length;Qt++){const se=Ut[Qt];let Lt=null;if(_!==null)Lt=_.getViewport(se);else{const nt=v.getViewSubImage(y,se);Lt=nt.viewport,Qt===0&&(t.setRenderTargetTextures(w,nt.colorTexture,nt.depthStencilTexture),t.setRenderTarget(w))}let be=I[Qt];be===void 0&&(be=new Vi,be.layers.enable(Qt),be.viewport=new Tn,I[Qt]=be),be.matrix.fromArray(se.transform.matrix),be.matrix.decompose(be.position,be.quaternion,be.scale),be.projectionMatrix.fromArray(se.projectionMatrix),be.projectionMatrixInverse.copy(be.projectionMatrix).invert(),be.viewport.set(Lt.x,Lt.y,Lt.width,Lt.height),Qt===0&&(B.matrix.copy(be.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),Zt===!0&&B.cameras.push(be)}const $t=r.enabledFeatures;if($t&&$t.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&v){const Qt=v.getDepthInformation(Ut[0]);Qt&&Qt.isValid&&Qt.texture&&E.init(t,Qt,r.renderState)}}for(let Ut=0;Ut<O.length;Ut++){const Zt=R[Ut],$t=O[Ut];Zt!==null&&$t!==void 0&&$t.update(Zt,_t,h||o)}et&&et(rt,_t),_t.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:_t}),S=null}const mt=new zj;mt.setAnimationLoop(ot),this.setAnimationLoop=function(rt){et=rt},this.dispose=function(){}}}const lh=new _s,lft=new ke;function uft(n,t){function e(x,M){x.matrixAutoUpdate===!0&&x.updateMatrix(),M.value.copy(x.matrix)}function i(x,M){M.color.getRGB(x.fogColor.value,z6(n)),M.isFog?(x.fogNear.value=M.near,x.fogFar.value=M.far):M.isFogExp2&&(x.fogDensity.value=M.density)}function r(x,M,w,O,R){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(x,M):M.isMeshToonMaterial?(a(x,M),v(x,M)):M.isMeshPhongMaterial?(a(x,M),m(x,M)):M.isMeshStandardMaterial?(a(x,M),y(x,M),M.isMeshPhysicalMaterial&&_(x,M,R)):M.isMeshMatcapMaterial?(a(x,M),S(x,M)):M.isMeshDepthMaterial?a(x,M):M.isMeshDistanceMaterial?(a(x,M),E(x,M)):M.isMeshNormalMaterial?a(x,M):M.isLineBasicMaterial?(o(x,M),M.isLineDashedMaterial&&l(x,M)):M.isPointsMaterial?c(x,M,w,O):M.isSpriteMaterial?h(x,M):M.isShadowMaterial?(x.color.value.copy(M.color),x.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(x,M){x.opacity.value=M.opacity,M.color&&x.diffuse.value.copy(M.color),M.emissive&&x.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(x.map.value=M.map,e(M.map,x.mapTransform)),M.alphaMap&&(x.alphaMap.value=M.alphaMap,e(M.alphaMap,x.alphaMapTransform)),M.bumpMap&&(x.bumpMap.value=M.bumpMap,e(M.bumpMap,x.bumpMapTransform),x.bumpScale.value=M.bumpScale,M.side===ra&&(x.bumpScale.value*=-1)),M.normalMap&&(x.normalMap.value=M.normalMap,e(M.normalMap,x.normalMapTransform),x.normalScale.value.copy(M.normalScale),M.side===ra&&x.normalScale.value.negate()),M.displacementMap&&(x.displacementMap.value=M.displacementMap,e(M.displacementMap,x.displacementMapTransform),x.displacementScale.value=M.displacementScale,x.displacementBias.value=M.displacementBias),M.emissiveMap&&(x.emissiveMap.value=M.emissiveMap,e(M.emissiveMap,x.emissiveMapTransform)),M.specularMap&&(x.specularMap.value=M.specularMap,e(M.specularMap,x.specularMapTransform)),M.alphaTest>0&&(x.alphaTest.value=M.alphaTest);const w=t.get(M),O=w.envMap,R=w.envMapRotation;O&&(x.envMap.value=O,lh.copy(R),lh.x*=-1,lh.y*=-1,lh.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(lh.y*=-1,lh.z*=-1),x.envMapRotation.value.setFromMatrix4(lft.makeRotationFromEuler(lh)),x.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=M.reflectivity,x.ior.value=M.ior,x.refractionRatio.value=M.refractionRatio),M.lightMap&&(x.lightMap.value=M.lightMap,x.lightMapIntensity.value=M.lightMapIntensity,e(M.lightMap,x.lightMapTransform)),M.aoMap&&(x.aoMap.value=M.aoMap,x.aoMapIntensity.value=M.aoMapIntensity,e(M.aoMap,x.aoMapTransform))}function o(x,M){x.diffuse.value.copy(M.color),x.opacity.value=M.opacity,M.map&&(x.map.value=M.map,e(M.map,x.mapTransform))}function l(x,M){x.dashSize.value=M.dashSize,x.totalSize.value=M.dashSize+M.gapSize,x.scale.value=M.scale}function c(x,M,w,O){x.diffuse.value.copy(M.color),x.opacity.value=M.opacity,x.size.value=M.size*w,x.scale.value=O*.5,M.map&&(x.map.value=M.map,e(M.map,x.uvTransform)),M.alphaMap&&(x.alphaMap.value=M.alphaMap,e(M.alphaMap,x.alphaMapTransform)),M.alphaTest>0&&(x.alphaTest.value=M.alphaTest)}function h(x,M){x.diffuse.value.copy(M.color),x.opacity.value=M.opacity,x.rotation.value=M.rotation,M.map&&(x.map.value=M.map,e(M.map,x.mapTransform)),M.alphaMap&&(x.alphaMap.value=M.alphaMap,e(M.alphaMap,x.alphaMapTransform)),M.alphaTest>0&&(x.alphaTest.value=M.alphaTest)}function m(x,M){x.specular.value.copy(M.specular),x.shininess.value=Math.max(M.shininess,1e-4)}function v(x,M){M.gradientMap&&(x.gradientMap.value=M.gradientMap)}function y(x,M){x.metalness.value=M.metalness,M.metalnessMap&&(x.metalnessMap.value=M.metalnessMap,e(M.metalnessMap,x.metalnessMapTransform)),x.roughness.value=M.roughness,M.roughnessMap&&(x.roughnessMap.value=M.roughnessMap,e(M.roughnessMap,x.roughnessMapTransform)),M.envMap&&(x.envMapIntensity.value=M.envMapIntensity)}function _(x,M,w){x.ior.value=M.ior,M.sheen>0&&(x.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),x.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(x.sheenColorMap.value=M.sheenColorMap,e(M.sheenColorMap,x.sheenColorMapTransform)),M.sheenRoughnessMap&&(x.sheenRoughnessMap.value=M.sheenRoughnessMap,e(M.sheenRoughnessMap,x.sheenRoughnessMapTransform))),M.clearcoat>0&&(x.clearcoat.value=M.clearcoat,x.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(x.clearcoatMap.value=M.clearcoatMap,e(M.clearcoatMap,x.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,e(M.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(x.clearcoatNormalMap.value=M.clearcoatNormalMap,e(M.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===ra&&x.clearcoatNormalScale.value.negate())),M.dispersion>0&&(x.dispersion.value=M.dispersion),M.iridescence>0&&(x.iridescence.value=M.iridescence,x.iridescenceIOR.value=M.iridescenceIOR,x.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(x.iridescenceMap.value=M.iridescenceMap,e(M.iridescenceMap,x.iridescenceMapTransform)),M.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=M.iridescenceThicknessMap,e(M.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),M.transmission>0&&(x.transmission.value=M.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),M.transmissionMap&&(x.transmissionMap.value=M.transmissionMap,e(M.transmissionMap,x.transmissionMapTransform)),x.thickness.value=M.thickness,M.thicknessMap&&(x.thicknessMap.value=M.thicknessMap,e(M.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=M.attenuationDistance,x.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(x.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(x.anisotropyMap.value=M.anisotropyMap,e(M.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=M.specularIntensity,x.specularColor.value.copy(M.specularColor),M.specularColorMap&&(x.specularColorMap.value=M.specularColorMap,e(M.specularColorMap,x.specularColorMapTransform)),M.specularIntensityMap&&(x.specularIntensityMap.value=M.specularIntensityMap,e(M.specularIntensityMap,x.specularIntensityMapTransform))}function S(x,M){M.matcap&&(x.matcap.value=M.matcap)}function E(x,M){const w=t.get(M).light;x.referencePosition.value.setFromMatrixPosition(w.matrixWorld),x.nearDistance.value=w.shadow.camera.near,x.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function cft(n,t,e,i){let r={},a={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,O){const R=O.program;i.uniformBlockBinding(w,R)}function h(w,O){let R=r[w.id];R===void 0&&(S(w),R=m(w),r[w.id]=R,w.addEventListener("dispose",x));const N=O.program;i.updateUBOMapping(w,N);const P=t.render.frame;a[w.id]!==P&&(y(w),a[w.id]=P)}function m(w){const O=v();w.__bindingPointIndex=O;const R=n.createBuffer(),N=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,N,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,O,R),R}function v(){for(let w=0;w<l;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const O=r[w.id],R=w.uniforms,N=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,O);for(let P=0,U=R.length;P<U;P++){const z=Array.isArray(R[P])?R[P]:[R[P]];for(let I=0,B=z.length;I<B;I++){const F=z[I];if(_(F,P,I,N)===!0){const K=F.__offset,W=Array.isArray(F.value)?F.value:[F.value];let tt=0;for(let J=0;J<W.length;J++){const H=W[J],q=E(H);typeof H=="number"||typeof H=="boolean"?(F.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,K+tt,F.__data)):H.isMatrix3?(F.__data[0]=H.elements[0],F.__data[1]=H.elements[1],F.__data[2]=H.elements[2],F.__data[3]=0,F.__data[4]=H.elements[3],F.__data[5]=H.elements[4],F.__data[6]=H.elements[5],F.__data[7]=0,F.__data[8]=H.elements[6],F.__data[9]=H.elements[7],F.__data[10]=H.elements[8],F.__data[11]=0):(H.toArray(F.__data,tt),tt+=q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,K,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(w,O,R,N){const P=w.value,U=O+"_"+R;if(N[U]===void 0)return typeof P=="number"||typeof P=="boolean"?N[U]=P:N[U]=P.clone(),!0;{const z=N[U];if(typeof P=="number"||typeof P=="boolean"){if(z!==P)return N[U]=P,!0}else if(z.equals(P)===!1)return z.copy(P),!0}return!1}function S(w){const O=w.uniforms;let R=0;const N=16;for(let U=0,z=O.length;U<z;U++){const I=Array.isArray(O[U])?O[U]:[O[U]];for(let B=0,F=I.length;B<F;B++){const K=I[B],W=Array.isArray(K.value)?K.value:[K.value];for(let tt=0,J=W.length;tt<J;tt++){const H=W[tt],q=E(H),k=R%N,it=k%q.boundary,G=k+it;R+=it,G!==0&&N-G<q.storage&&(R+=N-G),K.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=R,R+=q.storage}}}const P=R%N;return P>0&&(R+=N-P),w.__size=R,w.__cache={},this}function E(w){const O={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(O.boundary=4,O.storage=4):w.isVector2?(O.boundary=8,O.storage=8):w.isVector3||w.isColor?(O.boundary=16,O.storage=12):w.isVector4?(O.boundary=16,O.storage=16):w.isMatrix3?(O.boundary=48,O.storage=48):w.isMatrix4?(O.boundary=64,O.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),O}function x(w){const O=w.target;O.removeEventListener("dispose",x);const R=o.indexOf(O.__bindingPointIndex);o.splice(R,1),n.deleteBuffer(r[O.id]),delete r[O.id],delete a[O.id]}function M(){for(const w in r)n.deleteBuffer(r[w]);o=[],r={},a={}}return{bind:c,update:h,dispose:M}}class qj{constructor(t={}){const{canvas:e=L6(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:y=!1}=t;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=o;const S=new Uint32Array(4),E=new Int32Array(4);let x=null,M=null;const w=[],O=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=wl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let N=!1;this._outputColorSpace=ta;let P=0,U=0,z=null,I=-1,B=null;const F=new Tn,K=new Tn;let W=null;const tt=new _e(0);let J=0,H=e.width,q=e.height,k=1,it=null,G=null;const et=new Tn(0,0,H,q),ot=new Tn(0,0,H,q);let mt=!1;const rt=new Hy;let _t=!1,Ut=!1;const Zt=new ke,$t=new ke,wt=new Q,Qt=new Tn,se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Lt=!1;function be(){return z===null?k:1}let nt=i;function Be(Y,ht){return e.getContext(Y,ht)}try{const Y={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Uy}`),e.addEventListener("webglcontextlost",Gt,!1),e.addEventListener("webglcontextrestored",pe,!1),e.addEventListener("webglcontextcreationerror",fe,!1),nt===null){const ht="webgl2";if(nt=Be(ht,Y),nt===null)throw Be(ht)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let It,Pt,Ht,ne,Bt,$,V,pt,Nt,jt,zt,le,te,ae,tn,Jt,ge,Me,Ee,oe,ut,Ft,ce,lt;function ee(){It=new Sut(nt),It.init(),Ft=new Gj(nt,It),Pt=new mut(nt,It,t,Ft),Ht=new nft(nt,It),Pt.reverseDepthBuffer&&y&&Ht.buffers.depth.setReversed(!0),ne=new Aut(nt),Bt=new Gct,$=new ift(nt,It,Ht,Bt,Pt,Ft,ne),V=new gut(R),pt=new xut(R),Nt=new Dst(nt),ce=new dut(nt,Nt),jt=new Mut(nt,Nt,ne,ce),zt=new wut(nt,jt,Nt,ne),Ee=new Tut(nt,Pt,$),Jt=new vut(Bt),le=new Vct(R,V,pt,It,Pt,ce,Jt),te=new uft(R,Bt),ae=new kct,tn=new $ct(It),Me=new hut(R,V,pt,Ht,zt,_,c),ge=new tft(R,zt,Pt),lt=new cft(nt,ne,Pt,Ht),oe=new put(nt,It,ne),ut=new Eut(nt,It,ne),ne.programs=le.programs,R.capabilities=Pt,R.extensions=It,R.properties=Bt,R.renderLists=ae,R.shadowMap=ge,R.state=Ht,R.info=ne}ee();const Dt=new oft(R,nt);this.xr=Dt,this.getContext=function(){return nt},this.getContextAttributes=function(){return nt.getContextAttributes()},this.forceContextLoss=function(){const Y=It.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=It.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(Y){Y!==void 0&&(k=Y,this.setSize(H,q,!1))},this.getSize=function(Y){return Y.set(H,q)},this.setSize=function(Y,ht,Tt=!0){if(Dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=Y,q=ht,e.width=Math.floor(Y*k),e.height=Math.floor(ht*k),Tt===!0&&(e.style.width=Y+"px",e.style.height=ht+"px"),this.setViewport(0,0,Y,ht)},this.getDrawingBufferSize=function(Y){return Y.set(H*k,q*k).floor()},this.setDrawingBufferSize=function(Y,ht,Tt){H=Y,q=ht,k=Tt,e.width=Math.floor(Y*Tt),e.height=Math.floor(ht*Tt),this.setViewport(0,0,Y,ht)},this.getCurrentViewport=function(Y){return Y.copy(F)},this.getViewport=function(Y){return Y.copy(et)},this.setViewport=function(Y,ht,Tt,Ot){Y.isVector4?et.set(Y.x,Y.y,Y.z,Y.w):et.set(Y,ht,Tt,Ot),Ht.viewport(F.copy(et).multiplyScalar(k).round())},this.getScissor=function(Y){return Y.copy(ot)},this.setScissor=function(Y,ht,Tt,Ot){Y.isVector4?ot.set(Y.x,Y.y,Y.z,Y.w):ot.set(Y,ht,Tt,Ot),Ht.scissor(K.copy(ot).multiplyScalar(k).round())},this.getScissorTest=function(){return mt},this.setScissorTest=function(Y){Ht.setScissorTest(mt=Y)},this.setOpaqueSort=function(Y){it=Y},this.setTransparentSort=function(Y){G=Y},this.getClearColor=function(Y){return Y.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor(...arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha(...arguments)},this.clear=function(Y=!0,ht=!0,Tt=!0){let Ot=0;if(Y){let yt=!1;if(z!==null){const Kt=z.texture.format;yt=Kt===i1||Kt===n1||Kt===Iy}if(yt){const Kt=z.texture.type,ue=Kt===Io||Kt===Cu||Kt===$p||Kt===Qp||Kt===JS||Kt===t1,he=Me.getClearColor(),xe=Me.getClearAlpha(),ze=he.r,De=he.g,we=he.b;ue?(S[0]=ze,S[1]=De,S[2]=we,S[3]=xe,nt.clearBufferuiv(nt.COLOR,0,S)):(E[0]=ze,E[1]=De,E[2]=we,E[3]=xe,nt.clearBufferiv(nt.COLOR,0,E))}else Ot|=nt.COLOR_BUFFER_BIT}ht&&(Ot|=nt.DEPTH_BUFFER_BIT),Tt&&(Ot|=nt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),nt.clear(Ot)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Gt,!1),e.removeEventListener("webglcontextrestored",pe,!1),e.removeEventListener("webglcontextcreationerror",fe,!1),Me.dispose(),ae.dispose(),tn.dispose(),Bt.dispose(),V.dispose(),pt.dispose(),zt.dispose(),ce.dispose(),lt.dispose(),le.dispose(),Dt.dispose(),Dt.removeEventListener("sessionstart",wi),Dt.removeEventListener("sessionend",Ii),vr.stop()};function Gt(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const Y=ne.autoReset,ht=ge.enabled,Tt=ge.autoUpdate,Ot=ge.needsUpdate,yt=ge.type;ee(),ne.autoReset=Y,ge.enabled=ht,ge.autoUpdate=Tt,ge.needsUpdate=Ot,ge.type=yt}function fe(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Ce(Y){const ht=Y.target;ht.removeEventListener("dispose",Ce),rn(ht)}function rn(Y){On(Y),Bt.remove(Y)}function On(Y){const ht=Bt.get(Y).programs;ht!==void 0&&(ht.forEach(function(Tt){le.releaseProgram(Tt)}),Y.isShaderMaterial&&le.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,ht,Tt,Ot,yt,Kt){ht===null&&(ht=se);const ue=yt.isMesh&&yt.matrixWorld.determinant()<0,he=Ho(Y,ht,Tt,Ot,yt);Ht.setMaterial(Ot,ue);let xe=Tt.index,ze=1;if(Ot.wireframe===!0){if(xe=jt.getWireframeAttribute(Tt),xe===void 0)return;ze=2}const De=Tt.drawRange,we=Tt.attributes.position;let ln=De.start*ze,bn=(De.start+De.count)*ze;Kt!==null&&(ln=Math.max(ln,Kt.start*ze),bn=Math.min(bn,(Kt.start+Kt.count)*ze)),xe!==null?(ln=Math.max(ln,0),bn=Math.min(bn,xe.count)):we!=null&&(ln=Math.max(ln,0),bn=Math.min(bn,we.count));const oi=bn-ln;if(oi<0||oi===1/0)return;ce.setup(yt,Ot,he,Tt,xe);let cn,hn=oe;if(xe!==null&&(cn=Nt.get(xe),hn=ut,hn.setIndex(cn)),yt.isMesh)Ot.wireframe===!0?(Ht.setLineWidth(Ot.wireframeLinewidth*be()),hn.setMode(nt.LINES)):hn.setMode(nt.TRIANGLES);else if(yt.isLine){let Ne=Ot.linewidth;Ne===void 0&&(Ne=1),Ht.setLineWidth(Ne*be()),yt.isLineSegments?hn.setMode(nt.LINES):yt.isLineLoop?hn.setMode(nt.LINE_LOOP):hn.setMode(nt.LINE_STRIP)}else yt.isPoints?hn.setMode(nt.POINTS):yt.isSprite&&hn.setMode(nt.TRIANGLES);if(yt.isBatchedMesh)if(yt._multiDrawInstances!==null)O_("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),hn.renderMultiDrawInstances(yt._multiDrawStarts,yt._multiDrawCounts,yt._multiDrawCount,yt._multiDrawInstances);else if(It.get("WEBGL_multi_draw"))hn.renderMultiDraw(yt._multiDrawStarts,yt._multiDrawCounts,yt._multiDrawCount);else{const Ne=yt._multiDrawStarts,ci=yt._multiDrawCounts,gn=yt._multiDrawCount,tr=xe?Nt.get(xe).bytesPerElement:1,xs=Bt.get(Ot).currentProgram.getUniforms();for(let qn=0;qn<gn;qn++)xs.setValue(nt,"_gl_DrawID",qn),hn.render(Ne[qn]/tr,ci[qn])}else if(yt.isInstancedMesh)hn.renderInstances(ln,oi,yt.count);else if(Tt.isInstancedBufferGeometry){const Ne=Tt._maxInstanceCount!==void 0?Tt._maxInstanceCount:1/0,ci=Math.min(Tt.instanceCount,Ne);hn.renderInstances(ln,oi,ci)}else hn.render(ln,oi)};function $e(Y,ht,Tt){Y.transparent===!0&&Y.side===Sl&&Y.forceSinglePass===!1?(Y.side=ra,Y.needsUpdate=!0,In(Y,ht,Tt),Y.side=wu,Y.needsUpdate=!0,In(Y,ht,Tt),Y.side=Sl):In(Y,ht,Tt)}this.compile=function(Y,ht,Tt=null){Tt===null&&(Tt=Y),M=tn.get(Tt),M.init(ht),O.push(M),Tt.traverseVisible(function(yt){yt.isLight&&yt.layers.test(ht.layers)&&(M.pushLight(yt),yt.castShadow&&M.pushShadow(yt))}),Y!==Tt&&Y.traverseVisible(function(yt){yt.isLight&&yt.layers.test(ht.layers)&&(M.pushLight(yt),yt.castShadow&&M.pushShadow(yt))}),M.setupLights();const Ot=new Set;return Y.traverse(function(yt){if(!(yt.isMesh||yt.isPoints||yt.isLine||yt.isSprite))return;const Kt=yt.material;if(Kt)if(Array.isArray(Kt))for(let ue=0;ue<Kt.length;ue++){const he=Kt[ue];$e(he,Tt,yt),Ot.add(he)}else $e(Kt,Tt,yt),Ot.add(Kt)}),M=O.pop(),Ot},this.compileAsync=function(Y,ht,Tt=null){const Ot=this.compile(Y,ht,Tt);return new Promise(yt=>{function Kt(){if(Ot.forEach(function(ue){Bt.get(ue).currentProgram.isReady()&&Ot.delete(ue)}),Ot.size===0){yt(Y);return}setTimeout(Kt,10)}It.get("KHR_parallel_shader_compile")!==null?Kt():setTimeout(Kt,10)})};let Ti=null;function si(Y){Ti&&Ti(Y)}function wi(){vr.stop()}function Ii(){vr.start()}const vr=new zj;vr.setAnimationLoop(si),typeof self<"u"&&vr.setContext(self),this.setAnimationLoop=function(Y){Ti=Y,Dt.setAnimationLoop(Y),Y===null?vr.stop():vr.start()},Dt.addEventListener("sessionstart",wi),Dt.addEventListener("sessionend",Ii),this.render=function(Y,ht){if(ht!==void 0&&ht.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),ht.parent===null&&ht.matrixWorldAutoUpdate===!0&&ht.updateMatrixWorld(),Dt.enabled===!0&&Dt.isPresenting===!0&&(Dt.cameraAutoUpdate===!0&&Dt.updateCamera(ht),ht=Dt.getCamera()),Y.isScene===!0&&Y.onBeforeRender(R,Y,ht,z),M=tn.get(Y,O.length),M.init(ht),O.push(M),$t.multiplyMatrices(ht.projectionMatrix,ht.matrixWorldInverse),rt.setFromProjectionMatrix($t),Ut=this.localClippingEnabled,_t=Jt.init(this.clippingPlanes,Ut),x=ae.get(Y,w.length),x.init(),w.push(x),Dt.enabled===!0&&Dt.isPresenting===!0){const Kt=R.xr.getDepthSensingMesh();Kt!==null&&Fr(Kt,ht,-1/0,R.sortObjects)}Fr(Y,ht,0,R.sortObjects),x.finish(),R.sortObjects===!0&&x.sort(it,G),Lt=Dt.enabled===!1||Dt.isPresenting===!1||Dt.hasDepthSensing()===!1,Lt&&Me.addToRenderList(x,Y),this.info.render.frame++,_t===!0&&Jt.beginShadows();const Tt=M.state.shadowsArray;ge.render(Tt,Y,ht),_t===!0&&Jt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ot=x.opaque,yt=x.transmissive;if(M.setupLights(),ht.isArrayCamera){const Kt=ht.cameras;if(yt.length>0)for(let ue=0,he=Kt.length;ue<he;ue++){const xe=Kt[ue];$a(Ot,yt,Y,xe)}Lt&&Me.render(Y);for(let ue=0,he=Kt.length;ue<he;ue++){const xe=Kt[ue];nf(x,Y,xe,xe.viewport)}}else yt.length>0&&$a(Ot,yt,Y,ht),Lt&&Me.render(Y),nf(x,Y,ht);z!==null&&U===0&&($.updateMultisampleRenderTarget(z),$.updateRenderTargetMipmap(z)),Y.isScene===!0&&Y.onAfterRender(R,Y,ht),ce.resetDefaultState(),I=-1,B=null,O.pop(),O.length>0?(M=O[O.length-1],_t===!0&&Jt.setGlobalState(R.clippingPlanes,M.state.camera)):M=null,w.pop(),w.length>0?x=w[w.length-1]:x=null};function Fr(Y,ht,Tt,Ot){if(Y.visible===!1)return;if(Y.layers.test(ht.layers)){if(Y.isGroup)Tt=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(ht);else if(Y.isLight)M.pushLight(Y),Y.castShadow&&M.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||rt.intersectsSprite(Y)){Ot&&Qt.setFromMatrixPosition(Y.matrixWorld).applyMatrix4($t);const ue=zt.update(Y),he=Y.material;he.visible&&x.push(Y,ue,he,Tt,Qt.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||rt.intersectsObject(Y))){const ue=zt.update(Y),he=Y.material;if(Ot&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Qt.copy(Y.boundingSphere.center)):(ue.boundingSphere===null&&ue.computeBoundingSphere(),Qt.copy(ue.boundingSphere.center)),Qt.applyMatrix4(Y.matrixWorld).applyMatrix4($t)),Array.isArray(he)){const xe=ue.groups;for(let ze=0,De=xe.length;ze<De;ze++){const we=xe[ze],ln=he[we.materialIndex];ln&&ln.visible&&x.push(Y,ue,ln,Tt,Qt.z,we)}}else he.visible&&x.push(Y,ue,he,Tt,Qt.z,null)}}const Kt=Y.children;for(let ue=0,he=Kt.length;ue<he;ue++)Fr(Kt[ue],ht,Tt,Ot)}function nf(Y,ht,Tt,Ot){const yt=Y.opaque,Kt=Y.transmissive,ue=Y.transparent;M.setupLightsView(Tt),_t===!0&&Jt.setGlobalState(R.clippingPlanes,Tt),Ot&&Ht.viewport(F.copy(Ot)),yt.length>0&&Tr(yt,ht,Tt),Kt.length>0&&Tr(Kt,ht,Tt),ue.length>0&&Tr(ue,ht,Tt),Ht.buffers.depth.setTest(!0),Ht.buffers.depth.setMask(!0),Ht.buffers.color.setMask(!0),Ht.setPolygonOffset(!1)}function $a(Y,ht,Tt,Ot){if((Tt.isScene===!0?Tt.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[Ot.id]===void 0&&(M.state.transmissionRenderTarget[Ot.id]=new Nl(1,1,{generateMipmaps:!0,type:It.has("EXT_color_buffer_half_float")||It.has("EXT_color_buffer_float")?vm:Io,minFilter:El,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Sn.workingColorSpace}));const Kt=M.state.transmissionRenderTarget[Ot.id],ue=Ot.viewport||F;Kt.setSize(ue.z*R.transmissionResolutionScale,ue.w*R.transmissionResolutionScale);const he=R.getRenderTarget();R.setRenderTarget(Kt),R.getClearColor(tt),J=R.getClearAlpha(),J<1&&R.setClearColor(16777215,.5),R.clear(),Lt&&Me.render(Tt);const xe=R.toneMapping;R.toneMapping=wl;const ze=Ot.viewport;if(Ot.viewport!==void 0&&(Ot.viewport=void 0),M.setupLightsView(Ot),_t===!0&&Jt.setGlobalState(R.clippingPlanes,Ot),Tr(Y,Tt,Ot),$.updateMultisampleRenderTarget(Kt),$.updateRenderTargetMipmap(Kt),It.has("WEBGL_multisampled_render_to_texture")===!1){let De=!1;for(let we=0,ln=ht.length;we<ln;we++){const bn=ht[we],oi=bn.object,cn=bn.geometry,hn=bn.material,Ne=bn.group;if(hn.side===Sl&&oi.layers.test(Ot.layers)){const ci=hn.side;hn.side=ra,hn.needsUpdate=!0,Qa(oi,Tt,Ot,cn,hn,Ne),hn.side=ci,hn.needsUpdate=!0,De=!0}}De===!0&&($.updateMultisampleRenderTarget(Kt),$.updateRenderTargetMipmap(Kt))}R.setRenderTarget(he),R.setClearColor(tt,J),ze!==void 0&&(Ot.viewport=ze),R.toneMapping=xe}function Tr(Y,ht,Tt){const Ot=ht.isScene===!0?ht.overrideMaterial:null;for(let yt=0,Kt=Y.length;yt<Kt;yt++){const ue=Y[yt],he=ue.object,xe=ue.geometry,ze=ue.group;let De=ue.material;De.allowOverride===!0&&Ot!==null&&(De=Ot),he.layers.test(Tt.layers)&&Qa(he,ht,Tt,xe,De,ze)}}function Qa(Y,ht,Tt,Ot,yt,Kt){Y.onBeforeRender(R,ht,Tt,Ot,yt,Kt),Y.modelViewMatrix.multiplyMatrices(Tt.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),yt.onBeforeRender(R,ht,Tt,Ot,Y,Kt),yt.transparent===!0&&yt.side===Sl&&yt.forceSinglePass===!1?(yt.side=ra,yt.needsUpdate=!0,R.renderBufferDirect(Tt,ht,Ot,yt,Y,Kt),yt.side=wu,yt.needsUpdate=!0,R.renderBufferDirect(Tt,ht,Ot,yt,Y,Kt),yt.side=Sl):R.renderBufferDirect(Tt,ht,Ot,yt,Y,Kt),Y.onAfterRender(R,ht,Tt,Ot,yt,Kt)}function In(Y,ht,Tt){ht.isScene!==!0&&(ht=se);const Ot=Bt.get(Y),yt=M.state.lights,Kt=M.state.shadowsArray,ue=yt.state.version,he=le.getParameters(Y,yt.state,Kt,ht,Tt),xe=le.getProgramCacheKey(he);let ze=Ot.programs;Ot.environment=Y.isMeshStandardMaterial?ht.environment:null,Ot.fog=ht.fog,Ot.envMap=(Y.isMeshStandardMaterial?pt:V).get(Y.envMap||Ot.environment),Ot.envMapRotation=Ot.environment!==null&&Y.envMap===null?ht.environmentRotation:Y.envMapRotation,ze===void 0&&(Y.addEventListener("dispose",Ce),ze=new Map,Ot.programs=ze);let De=ze.get(xe);if(De!==void 0){if(Ot.currentProgram===De&&Ot.lightsStateVersion===ue)return ts(Y,he),De}else he.uniforms=le.getUniforms(Y),Y.onBeforeCompile(he,R),De=le.acquireProgram(he,xe),ze.set(xe,De),Ot.uniforms=he.uniforms;const we=Ot.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(we.clippingPlanes=Jt.uniform),ts(Y,he),Ot.needsLights=Oi(Y),Ot.lightsStateVersion=ue,Ot.needsLights&&(we.ambientLightColor.value=yt.state.ambient,we.lightProbe.value=yt.state.probe,we.directionalLights.value=yt.state.directional,we.directionalLightShadows.value=yt.state.directionalShadow,we.spotLights.value=yt.state.spot,we.spotLightShadows.value=yt.state.spotShadow,we.rectAreaLights.value=yt.state.rectArea,we.ltc_1.value=yt.state.rectAreaLTC1,we.ltc_2.value=yt.state.rectAreaLTC2,we.pointLights.value=yt.state.point,we.pointLightShadows.value=yt.state.pointShadow,we.hemisphereLights.value=yt.state.hemi,we.directionalShadowMap.value=yt.state.directionalShadowMap,we.directionalShadowMatrix.value=yt.state.directionalShadowMatrix,we.spotShadowMap.value=yt.state.spotShadowMap,we.spotLightMatrix.value=yt.state.spotLightMatrix,we.spotLightMap.value=yt.state.spotLightMap,we.pointShadowMap.value=yt.state.pointShadowMap,we.pointShadowMatrix.value=yt.state.pointShadowMatrix),Ot.currentProgram=De,Ot.uniformsList=null,De}function Ja(Y){if(Y.uniformsList===null){const ht=Y.currentProgram.getUniforms();Y.uniformsList=R_.seqWithValue(ht.seq,Y.uniforms)}return Y.uniformsList}function ts(Y,ht){const Tt=Bt.get(Y);Tt.outputColorSpace=ht.outputColorSpace,Tt.batching=ht.batching,Tt.batchingColor=ht.batchingColor,Tt.instancing=ht.instancing,Tt.instancingColor=ht.instancingColor,Tt.instancingMorph=ht.instancingMorph,Tt.skinning=ht.skinning,Tt.morphTargets=ht.morphTargets,Tt.morphNormals=ht.morphNormals,Tt.morphColors=ht.morphColors,Tt.morphTargetsCount=ht.morphTargetsCount,Tt.numClippingPlanes=ht.numClippingPlanes,Tt.numIntersection=ht.numClipIntersection,Tt.vertexAlphas=ht.vertexAlphas,Tt.vertexTangents=ht.vertexTangents,Tt.toneMapping=ht.toneMapping}function Ho(Y,ht,Tt,Ot,yt){ht.isScene!==!0&&(ht=se),$.resetTextureUnits();const Kt=ht.fog,ue=Ot.isMeshStandardMaterial?ht.environment:null,he=z===null?R.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:kc,xe=(Ot.isMeshStandardMaterial?pt:V).get(Ot.envMap||ue),ze=Ot.vertexColors===!0&&!!Tt.attributes.color&&Tt.attributes.color.itemSize===4,De=!!Tt.attributes.tangent&&(!!Ot.normalMap||Ot.anisotropy>0),we=!!Tt.morphAttributes.position,ln=!!Tt.morphAttributes.normal,bn=!!Tt.morphAttributes.color;let oi=wl;Ot.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(oi=R.toneMapping);const cn=Tt.morphAttributes.position||Tt.morphAttributes.normal||Tt.morphAttributes.color,hn=cn!==void 0?cn.length:0,Ne=Bt.get(Ot),ci=M.state.lights;if(_t===!0&&(Ut===!0||Y!==B)){const Gi=Y===B&&Ot.id===I;Jt.setState(Ot,Y,Gi)}let gn=!1;Ot.version===Ne.__version?(Ne.needsLights&&Ne.lightsStateVersion!==ci.state.version||Ne.outputColorSpace!==he||yt.isBatchedMesh&&Ne.batching===!1||!yt.isBatchedMesh&&Ne.batching===!0||yt.isBatchedMesh&&Ne.batchingColor===!0&&yt.colorTexture===null||yt.isBatchedMesh&&Ne.batchingColor===!1&&yt.colorTexture!==null||yt.isInstancedMesh&&Ne.instancing===!1||!yt.isInstancedMesh&&Ne.instancing===!0||yt.isSkinnedMesh&&Ne.skinning===!1||!yt.isSkinnedMesh&&Ne.skinning===!0||yt.isInstancedMesh&&Ne.instancingColor===!0&&yt.instanceColor===null||yt.isInstancedMesh&&Ne.instancingColor===!1&&yt.instanceColor!==null||yt.isInstancedMesh&&Ne.instancingMorph===!0&&yt.morphTexture===null||yt.isInstancedMesh&&Ne.instancingMorph===!1&&yt.morphTexture!==null||Ne.envMap!==xe||Ot.fog===!0&&Ne.fog!==Kt||Ne.numClippingPlanes!==void 0&&(Ne.numClippingPlanes!==Jt.numPlanes||Ne.numIntersection!==Jt.numIntersection)||Ne.vertexAlphas!==ze||Ne.vertexTangents!==De||Ne.morphTargets!==we||Ne.morphNormals!==ln||Ne.morphColors!==bn||Ne.toneMapping!==oi||Ne.morphTargetsCount!==hn)&&(gn=!0):(gn=!0,Ne.__version=Ot.version);let tr=Ne.currentProgram;gn===!0&&(tr=In(Ot,ht,yt));let xs=!1,qn=!1,Ss=!1;const Bn=tr.getUniforms(),er=Ne.uniforms;if(Ht.useProgram(tr.program)&&(xs=!0,qn=!0,Ss=!0),Ot.id!==I&&(I=Ot.id,qn=!0),xs||B!==Y){Ht.buffers.depth.getReversed()?(Zt.copy(Y.projectionMatrix),Jit(Zt),trt(Zt),Bn.setValue(nt,"projectionMatrix",Zt)):Bn.setValue(nt,"projectionMatrix",Y.projectionMatrix),Bn.setValue(nt,"viewMatrix",Y.matrixWorldInverse);const qi=Bn.map.cameraPosition;qi!==void 0&&qi.setValue(nt,wt.setFromMatrixPosition(Y.matrixWorld)),Pt.logarithmicDepthBuffer&&Bn.setValue(nt,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Ot.isMeshPhongMaterial||Ot.isMeshToonMaterial||Ot.isMeshLambertMaterial||Ot.isMeshBasicMaterial||Ot.isMeshStandardMaterial||Ot.isShaderMaterial)&&Bn.setValue(nt,"isOrthographic",Y.isOrthographicCamera===!0),B!==Y&&(B=Y,qn=!0,Ss=!0)}if(yt.isSkinnedMesh){Bn.setOptional(nt,yt,"bindMatrix"),Bn.setOptional(nt,yt,"bindMatrixInverse");const Gi=yt.skeleton;Gi&&(Gi.boneTexture===null&&Gi.computeBoneTexture(),Bn.setValue(nt,"boneTexture",Gi.boneTexture,$))}yt.isBatchedMesh&&(Bn.setOptional(nt,yt,"batchingTexture"),Bn.setValue(nt,"batchingTexture",yt._matricesTexture,$),Bn.setOptional(nt,yt,"batchingIdTexture"),Bn.setValue(nt,"batchingIdTexture",yt._indirectTexture,$),Bn.setOptional(nt,yt,"batchingColorTexture"),yt._colorsTexture!==null&&Bn.setValue(nt,"batchingColorTexture",yt._colorsTexture,$));const Ci=Tt.morphAttributes;if((Ci.position!==void 0||Ci.normal!==void 0||Ci.color!==void 0)&&Ee.update(yt,Tt,tr),(qn||Ne.receiveShadow!==yt.receiveShadow)&&(Ne.receiveShadow=yt.receiveShadow,Bn.setValue(nt,"receiveShadow",yt.receiveShadow)),Ot.isMeshGouraudMaterial&&Ot.envMap!==null&&(er.envMap.value=xe,er.flipEnvMap.value=xe.isCubeTexture&&xe.isRenderTargetTexture===!1?-1:1),Ot.isMeshStandardMaterial&&Ot.envMap===null&&ht.environment!==null&&(er.envMapIntensity.value=ht.environmentIntensity),qn&&(Bn.setValue(nt,"toneMappingExposure",R.toneMappingExposure),Ne.needsLights&&Qs(er,Ss),Kt&&Ot.fog===!0&&te.refreshFogUniforms(er,Kt),te.refreshMaterialUniforms(er,Ot,k,q,M.state.transmissionRenderTarget[Y.id]),R_.upload(nt,Ja(Ne),er,$)),Ot.isShaderMaterial&&Ot.uniformsNeedUpdate===!0&&(R_.upload(nt,Ja(Ne),er,$),Ot.uniformsNeedUpdate=!1),Ot.isSpriteMaterial&&Bn.setValue(nt,"center",yt.center),Bn.setValue(nt,"modelViewMatrix",yt.modelViewMatrix),Bn.setValue(nt,"normalMatrix",yt.normalMatrix),Bn.setValue(nt,"modelMatrix",yt.matrixWorld),Ot.isShaderMaterial||Ot.isRawShaderMaterial){const Gi=Ot.uniformsGroups;for(let qi=0,wr=Gi.length;qi<wr;qi++){const Ms=Gi[qi];lt.update(Ms,tr),lt.bind(Ms,tr)}}return tr}function Qs(Y,ht){Y.ambientLightColor.needsUpdate=ht,Y.lightProbe.needsUpdate=ht,Y.directionalLights.needsUpdate=ht,Y.directionalLightShadows.needsUpdate=ht,Y.pointLights.needsUpdate=ht,Y.pointLightShadows.needsUpdate=ht,Y.spotLights.needsUpdate=ht,Y.spotLightShadows.needsUpdate=ht,Y.rectAreaLights.needsUpdate=ht,Y.hemisphereLights.needsUpdate=ht}function Oi(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(Y,ht,Tt){const Ot=Bt.get(Y);Ot.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Ot.__autoAllocateDepthBuffer===!1&&(Ot.__useRenderToTexture=!1),Bt.get(Y.texture).__webglTexture=ht,Bt.get(Y.depthTexture).__webglTexture=Ot.__autoAllocateDepthBuffer?void 0:Tt,Ot.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,ht){const Tt=Bt.get(Y);Tt.__webglFramebuffer=ht,Tt.__useDefaultFramebuffer=ht===void 0};const Uu=nt.createFramebuffer();this.setRenderTarget=function(Y,ht=0,Tt=0){z=Y,P=ht,U=Tt;let Ot=!0,yt=null,Kt=!1,ue=!1;if(Y){const xe=Bt.get(Y);if(xe.__useDefaultFramebuffer!==void 0)Ht.bindFramebuffer(nt.FRAMEBUFFER,null),Ot=!1;else if(xe.__webglFramebuffer===void 0)$.setupRenderTarget(Y);else if(xe.__hasExternalTextures)$.rebindTextures(Y,Bt.get(Y.texture).__webglTexture,Bt.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const we=Y.depthTexture;if(xe.__boundDepthTexture!==we){if(we!==null&&Bt.has(we)&&(Y.width!==we.image.width||Y.height!==we.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$.setupDepthRenderbuffer(Y)}}const ze=Y.texture;(ze.isData3DTexture||ze.isDataArrayTexture||ze.isCompressedArrayTexture)&&(ue=!0);const De=Bt.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(De[ht])?yt=De[ht][Tt]:yt=De[ht],Kt=!0):Y.samples>0&&$.useMultisampledRTT(Y)===!1?yt=Bt.get(Y).__webglMultisampledFramebuffer:Array.isArray(De)?yt=De[Tt]:yt=De,F.copy(Y.viewport),K.copy(Y.scissor),W=Y.scissorTest}else F.copy(et).multiplyScalar(k).floor(),K.copy(ot).multiplyScalar(k).floor(),W=mt;if(Tt!==0&&(yt=Uu),Ht.bindFramebuffer(nt.FRAMEBUFFER,yt)&&Ot&&Ht.drawBuffers(Y,yt),Ht.viewport(F),Ht.scissor(K),Ht.setScissorTest(W),Kt){const xe=Bt.get(Y.texture);nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_CUBE_MAP_POSITIVE_X+ht,xe.__webglTexture,Tt)}else if(ue){const xe=Bt.get(Y.texture),ze=ht;nt.framebufferTextureLayer(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,xe.__webglTexture,Tt,ze)}else if(Y!==null&&Tt!==0){const xe=Bt.get(Y.texture);nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,xe.__webglTexture,Tt)}I=-1},this.readRenderTargetPixels=function(Y,ht,Tt,Ot,yt,Kt,ue){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let he=Bt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&ue!==void 0&&(he=he[ue]),he){Ht.bindFramebuffer(nt.FRAMEBUFFER,he);try{const xe=Y.texture,ze=xe.format,De=xe.type;if(!Pt.textureFormatReadable(ze)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Pt.textureTypeReadable(De)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ht>=0&&ht<=Y.width-Ot&&Tt>=0&&Tt<=Y.height-yt&&nt.readPixels(ht,Tt,Ot,yt,Ft.convert(ze),Ft.convert(De),Kt)}finally{const xe=z!==null?Bt.get(z).__webglFramebuffer:null;Ht.bindFramebuffer(nt.FRAMEBUFFER,xe)}}},this.readRenderTargetPixelsAsync=async function(Y,ht,Tt,Ot,yt,Kt,ue){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let he=Bt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&ue!==void 0&&(he=he[ue]),he)if(ht>=0&&ht<=Y.width-Ot&&Tt>=0&&Tt<=Y.height-yt){Ht.bindFramebuffer(nt.FRAMEBUFFER,he);const xe=Y.texture,ze=xe.format,De=xe.type;if(!Pt.textureFormatReadable(ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Pt.textureTypeReadable(De))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const we=nt.createBuffer();nt.bindBuffer(nt.PIXEL_PACK_BUFFER,we),nt.bufferData(nt.PIXEL_PACK_BUFFER,Kt.byteLength,nt.STREAM_READ),nt.readPixels(ht,Tt,Ot,yt,Ft.convert(ze),Ft.convert(De),0);const ln=z!==null?Bt.get(z).__webglFramebuffer:null;Ht.bindFramebuffer(nt.FRAMEBUFFER,ln);const bn=nt.fenceSync(nt.SYNC_GPU_COMMANDS_COMPLETE,0);return nt.flush(),await Qit(nt,bn,4),nt.bindBuffer(nt.PIXEL_PACK_BUFFER,we),nt.getBufferSubData(nt.PIXEL_PACK_BUFFER,0,Kt),nt.deleteBuffer(we),nt.deleteSync(bn),Kt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,ht=null,Tt=0){const Ot=Math.pow(2,-Tt),yt=Math.floor(Y.image.width*Ot),Kt=Math.floor(Y.image.height*Ot),ue=ht!==null?ht.x:0,he=ht!==null?ht.y:0;$.setTexture2D(Y,0),nt.copyTexSubImage2D(nt.TEXTURE_2D,Tt,0,0,ue,he,yt,Kt),Ht.unbindTexture()};const Lu=nt.createFramebuffer(),es=nt.createFramebuffer();this.copyTextureToTexture=function(Y,ht,Tt=null,Ot=null,yt=0,Kt=null){Kt===null&&(yt!==0?(O_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Kt=yt,yt=0):Kt=0);let ue,he,xe,ze,De,we,ln,bn,oi;const cn=Y.isCompressedTexture?Y.mipmaps[Kt]:Y.image;if(Tt!==null)ue=Tt.max.x-Tt.min.x,he=Tt.max.y-Tt.min.y,xe=Tt.isBox3?Tt.max.z-Tt.min.z:1,ze=Tt.min.x,De=Tt.min.y,we=Tt.isBox3?Tt.min.z:0;else{const Ci=Math.pow(2,-yt);ue=Math.floor(cn.width*Ci),he=Math.floor(cn.height*Ci),Y.isDataArrayTexture?xe=cn.depth:Y.isData3DTexture?xe=Math.floor(cn.depth*Ci):xe=1,ze=0,De=0,we=0}Ot!==null?(ln=Ot.x,bn=Ot.y,oi=Ot.z):(ln=0,bn=0,oi=0);const hn=Ft.convert(ht.format),Ne=Ft.convert(ht.type);let ci;ht.isData3DTexture?($.setTexture3D(ht,0),ci=nt.TEXTURE_3D):ht.isDataArrayTexture||ht.isCompressedArrayTexture?($.setTexture2DArray(ht,0),ci=nt.TEXTURE_2D_ARRAY):($.setTexture2D(ht,0),ci=nt.TEXTURE_2D),nt.pixelStorei(nt.UNPACK_FLIP_Y_WEBGL,ht.flipY),nt.pixelStorei(nt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ht.premultiplyAlpha),nt.pixelStorei(nt.UNPACK_ALIGNMENT,ht.unpackAlignment);const gn=nt.getParameter(nt.UNPACK_ROW_LENGTH),tr=nt.getParameter(nt.UNPACK_IMAGE_HEIGHT),xs=nt.getParameter(nt.UNPACK_SKIP_PIXELS),qn=nt.getParameter(nt.UNPACK_SKIP_ROWS),Ss=nt.getParameter(nt.UNPACK_SKIP_IMAGES);nt.pixelStorei(nt.UNPACK_ROW_LENGTH,cn.width),nt.pixelStorei(nt.UNPACK_IMAGE_HEIGHT,cn.height),nt.pixelStorei(nt.UNPACK_SKIP_PIXELS,ze),nt.pixelStorei(nt.UNPACK_SKIP_ROWS,De),nt.pixelStorei(nt.UNPACK_SKIP_IMAGES,we);const Bn=Y.isDataArrayTexture||Y.isData3DTexture,er=ht.isDataArrayTexture||ht.isData3DTexture;if(Y.isDepthTexture){const Ci=Bt.get(Y),Gi=Bt.get(ht),qi=Bt.get(Ci.__renderTarget),wr=Bt.get(Gi.__renderTarget);Ht.bindFramebuffer(nt.READ_FRAMEBUFFER,qi.__webglFramebuffer),Ht.bindFramebuffer(nt.DRAW_FRAMEBUFFER,wr.__webglFramebuffer);for(let Ms=0;Ms<xe;Ms++)Bn&&(nt.framebufferTextureLayer(nt.READ_FRAMEBUFFER,nt.COLOR_ATTACHMENT0,Bt.get(Y).__webglTexture,yt,we+Ms),nt.framebufferTextureLayer(nt.DRAW_FRAMEBUFFER,nt.COLOR_ATTACHMENT0,Bt.get(ht).__webglTexture,Kt,oi+Ms)),nt.blitFramebuffer(ze,De,ue,he,ln,bn,ue,he,nt.DEPTH_BUFFER_BIT,nt.NEAREST);Ht.bindFramebuffer(nt.READ_FRAMEBUFFER,null),Ht.bindFramebuffer(nt.DRAW_FRAMEBUFFER,null)}else if(yt!==0||Y.isRenderTargetTexture||Bt.has(Y)){const Ci=Bt.get(Y),Gi=Bt.get(ht);Ht.bindFramebuffer(nt.READ_FRAMEBUFFER,Lu),Ht.bindFramebuffer(nt.DRAW_FRAMEBUFFER,es);for(let qi=0;qi<xe;qi++)Bn?nt.framebufferTextureLayer(nt.READ_FRAMEBUFFER,nt.COLOR_ATTACHMENT0,Ci.__webglTexture,yt,we+qi):nt.framebufferTexture2D(nt.READ_FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,Ci.__webglTexture,yt),er?nt.framebufferTextureLayer(nt.DRAW_FRAMEBUFFER,nt.COLOR_ATTACHMENT0,Gi.__webglTexture,Kt,oi+qi):nt.framebufferTexture2D(nt.DRAW_FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,Gi.__webglTexture,Kt),yt!==0?nt.blitFramebuffer(ze,De,ue,he,ln,bn,ue,he,nt.COLOR_BUFFER_BIT,nt.NEAREST):er?nt.copyTexSubImage3D(ci,Kt,ln,bn,oi+qi,ze,De,ue,he):nt.copyTexSubImage2D(ci,Kt,ln,bn,ze,De,ue,he);Ht.bindFramebuffer(nt.READ_FRAMEBUFFER,null),Ht.bindFramebuffer(nt.DRAW_FRAMEBUFFER,null)}else er?Y.isDataTexture||Y.isData3DTexture?nt.texSubImage3D(ci,Kt,ln,bn,oi,ue,he,xe,hn,Ne,cn.data):ht.isCompressedArrayTexture?nt.compressedTexSubImage3D(ci,Kt,ln,bn,oi,ue,he,xe,hn,cn.data):nt.texSubImage3D(ci,Kt,ln,bn,oi,ue,he,xe,hn,Ne,cn):Y.isDataTexture?nt.texSubImage2D(nt.TEXTURE_2D,Kt,ln,bn,ue,he,hn,Ne,cn.data):Y.isCompressedTexture?nt.compressedTexSubImage2D(nt.TEXTURE_2D,Kt,ln,bn,cn.width,cn.height,hn,cn.data):nt.texSubImage2D(nt.TEXTURE_2D,Kt,ln,bn,ue,he,hn,Ne,cn);nt.pixelStorei(nt.UNPACK_ROW_LENGTH,gn),nt.pixelStorei(nt.UNPACK_IMAGE_HEIGHT,tr),nt.pixelStorei(nt.UNPACK_SKIP_PIXELS,xs),nt.pixelStorei(nt.UNPACK_SKIP_ROWS,qn),nt.pixelStorei(nt.UNPACK_SKIP_IMAGES,Ss),Kt===0&&ht.generateMipmaps&&nt.generateMipmap(ci),Ht.unbindTexture()},this.copyTextureToTexture3D=function(Y,ht,Tt=null,Ot=null,yt=0){return O_('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Y,ht,Tt,Ot,yt)},this.initRenderTarget=function(Y){Bt.get(Y).__webglFramebuffer===void 0&&$.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?$.setTextureCube(Y,0):Y.isData3DTexture?$.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?$.setTexture2DArray(Y,0):$.setTexture2D(Y,0),Ht.unbindTexture()},this.resetState=function(){P=0,U=0,z=null,Ht.reset(),ce.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Uo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=Sn._getDrawingBufferColorSpace(t),e.unpackColorSpace=Sn._getUnpackColorSpace()}}const fft=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cR,AddEquation:Bc,AddOperation:h6,AdditiveAnimationBlendMode:xR,AdditiveBlending:zO,AgXToneMapping:g6,AlphaFormat:mR,AlwaysCompare:N6,AlwaysDepth:Rx,AlwaysStencilFunc:VO,AmbientLight:Tj,AnimationAction:Lj,AnimationClip:Sy,AnimationLoader:Aat,AnimationMixer:tst,AnimationObjectGroup:Qat,AnimationUtils:xat,ArcCurve:K6,ArrayCamera:Nj,ArrowHelper:Sst,AttachedBindMode:jO,Audio:Pj,AudioAnalyser:Vat,AudioContext:XR,AudioListener:Hat,AudioLoader:Iat,AxesHelper:Mst,BackSide:ra,BasicDepthPacking:M6,BasicShadowMap:XF,BatchedMesh:X6,Bone:CR,BooleanKeyframeTrack:qh,Box2:lst,Box3:Oa,Box3Helper:_st,BoxGeometry:Gh,BoxHelper:bst,BufferAttribute:ni,BufferGeometry:on,BufferGeometryLoader:Dj,ByteType:hR,Cache:yu,Camera:o1,CameraHelper:yst,CanvasTexture:qrt,CapsuleGeometry:p1,CatmullRomCurve3:$6,CineonToneMapping:m6,CircleGeometry:m1,ClampToEdgeWrapping:Xs,Clock:YR,Color:_e,ColorKeyframeTrack:GR,ColorManagement:Sn,CompressedArrayTexture:Vrt,CompressedCubeTexture:Grt,CompressedTexture:h1,CompressedTextureLoader:Tat,ConeGeometry:v1,ConstantAlphaFactor:u6,ConstantColorFactor:o6,Controls:Ast,CubeCamera:H6,CubeReflectionMapping:Ou,CubeRefractionMapping:qc,CubeTexture:zy,CubeTextureLoader:wat,CubeUVReflectionMapping:mm,CubicBezierCurve:PR,CubicBezierCurve3:Q6,CubicInterpolant:yj,CullFaceBack:BO,CullFaceFront:kF,CullFaceFrontBack:tit,CullFaceNone:qF,Curve:zo,CurvePath:tj,CustomBlending:YF,CustomToneMapping:v6,CylinderGeometry:gm,Cylindrical:ost,Data3DTexture:s1,DataArrayTexture:By,DataTexture:Ol,DataTextureLoader:Oat,DataUtils:mrt,DecrementStencilOp:pit,DecrementWrapStencilOp:vit,DefaultLoadingManager:xj,DepthFormat:Jp,DepthStencilFormat:tm,DepthTexture:DR,DetachedBindMode:b6,DirectionalLight:Aj,DirectionalLightHelper:gst,DiscreteInterpolant:bj,DodecahedronGeometry:g1,DoubleSide:Sl,DstAlphaFactor:n6,DstColorFactor:r6,DynamicCopyUsage:Dit,DynamicDrawUsage:Ait,DynamicReadUsage:Oit,EdgesGeometry:ej,EllipseCurve:d1,EqualCompare:O6,EqualDepth:Nx,EqualStencilFunc:_it,EquirectangularReflectionMapping:sy,EquirectangularRefractionMapping:oy,Euler:_s,EventDispatcher:Ul,ExtrudeGeometry:y1,FileLoader:Ru,Float16BufferAttribute:Srt,Float32BufferAttribute:Te,FloatType:Wa,Fog:u1,FogExp2:l1,FramebufferTexture:jrt,FrontSide:wu,Frustum:Hy,GLBufferAttribute:sst,GLSL1:Pit,GLSL3:GO,GreaterCompare:C6,GreaterDepth:Ux,GreaterEqualCompare:D6,GreaterEqualDepth:Px,GreaterEqualStencilFunc:Eit,GreaterStencilFunc:Sit,GridHelper:mst,Group:Mp,HalfFloatType:vm,HemisphereLight:Sj,HemisphereLightHelper:pst,IcosahedronGeometry:b1,ImageBitmapLoader:Lat,ImageLoader:My,ImageUtils:I6,IncrementStencilOp:dit,IncrementWrapStencilOp:mit,InstancedBufferAttribute:rm,InstancedBufferGeometry:Rj,InstancedInterleavedBuffer:ast,InstancedMesh:k6,Int16BufferAttribute:_rt,Int32BufferAttribute:xrt,Int8BufferAttribute:grt,IntType:QS,InterleavedBuffer:c1,InterleavedBufferAttribute:Uh,Interpolant:Gy,InterpolateDiscrete:cy,InterpolateLinear:lS,InterpolateSmooth:w_,InvertStencilOp:git,KeepStencilOp:dh,KeyframeTrack:$s,LOD:G6,LatheGeometry:Fy,Layers:nm,LessCompare:w6,LessDepth:Dx,LessEqualCompare:SR,LessEqualDepth:Ph,LessEqualStencilFunc:xit,LessStencilFunc:bit,Light:ef,LightProbe:Cj,Line:Xc,Line3:ust,LineBasicMaterial:Ca,LineCurve:UR,LineCurve3:J6,LineDashedMaterial:mj,LineLoop:Y6,LineSegments:Ll,LinearFilter:hr,LinearInterpolant:VR,LinearMipMapLinearFilter:rit,LinearMipMapNearestFilter:iit,LinearMipmapLinearFilter:El,LinearMipmapNearestFilter:pg,LinearSRGBColorSpace:kc,LinearToneMapping:d6,LinearTransfer:hy,Loader:Ka,LoaderUtils:WO,LoadingManager:qR,LoopOnce:_6,LoopPingPong:S6,LoopRepeat:x6,LuminanceAlphaFormat:yR,LuminanceFormat:gR,MOUSE:fh,Material:oa,MaterialLoader:T1,MathUtils:P6,Matrix2:KR,Matrix3:Je,Matrix4:ke,MaxEquation:$F,Mesh:Qi,MeshBasicMaterial:Jc,MeshDepthMaterial:HR,MeshDistanceMaterial:FR,MeshLambertMaterial:dj,MeshMatcapMaterial:pj,MeshNormalMaterial:hj,MeshPhongMaterial:cj,MeshPhysicalMaterial:uj,MeshStandardMaterial:zR,MeshToonMaterial:fj,MinEquation:KF,MirroredRepeatWrapping:uy,MixOperation:f6,MultiplyBlending:FO,MultiplyOperation:Ly,NearestFilter:Hr,NearestMipMapLinearFilter:nit,NearestMipMapNearestFilter:eit,NearestMipmapLinearFilter:xp,NearestMipmapNearestFilter:fR,NeutralToneMapping:y6,NeverCompare:T6,NeverDepth:Cx,NeverStencilFunc:yit,NoBlending:Su,NoColorSpace:du,NoToneMapping:wl,NormalAnimationBlendMode:r1,NormalBlending:Th,NotEqualCompare:R6,NotEqualDepth:Lx,NotEqualStencilFunc:Mit,NumberKeyframeTrack:_y,Object3D:wn,ObjectLoader:Pat,ObjectSpaceNormalMap:A6,OctahedronGeometry:jy,OneFactor:JF,OneMinusConstantAlphaFactor:c6,OneMinusConstantColorFactor:l6,OneMinusDstAlphaFactor:i6,OneMinusDstColorFactor:a6,OneMinusSrcAlphaFactor:Ox,OneMinusSrcColorFactor:e6,OrthographicCamera:Vc,PCFShadowMap:KS,PCFSoftShadowMap:dg,PMREMGenerator:QO,Path:vy,PerspectiveCamera:Vi,Plane:xl,PlaneGeometry:ym,PlaneHelper:xst,PointLight:Ej,PointLightHelper:hst,Points:W6,PointsMaterial:RR,PolarGridHelper:vst,PolyhedronGeometry:tf,PositionalAudio:jat,PropertyBinding:An,PropertyMixer:Uj,QuadraticBezierCurve:LR,QuadraticBezierCurve3:IR,Quaternion:aa,QuaternionKeyframeTrack:qy,QuaternionLinearInterpolant:_j,RED_GREEN_RGTC2_Format:sS,RED_RGTC1_Format:_R,REVISION:Uy,RGBADepthPacking:E6,RGBAFormat:ia,RGBAIntegerFormat:i1,RGBA_ASTC_10x10_Format:tS,RGBA_ASTC_10x5_Format:$x,RGBA_ASTC_10x6_Format:Qx,RGBA_ASTC_10x8_Format:Jx,RGBA_ASTC_12x10_Format:eS,RGBA_ASTC_12x12_Format:nS,RGBA_ASTC_4x4_Format:Gx,RGBA_ASTC_5x4_Format:qx,RGBA_ASTC_5x5_Format:kx,RGBA_ASTC_6x5_Format:Xx,RGBA_ASTC_6x6_Format:Yx,RGBA_ASTC_8x5_Format:Wx,RGBA_ASTC_8x6_Format:Zx,RGBA_ASTC_8x8_Format:Kx,RGBA_BPTC_Format:bg,RGBA_ETC2_EAC_Format:Vx,RGBA_PVRTC_2BPPV1_Format:Hx,RGBA_PVRTC_4BPPV1_Format:zx,RGBA_S3TC_DXT1_Format:vg,RGBA_S3TC_DXT3_Format:gg,RGBA_S3TC_DXT5_Format:yg,RGBDepthPacking:uit,RGBFormat:vR,RGBIntegerFormat:ait,RGB_BPTC_SIGNED_Format:iS,RGB_BPTC_UNSIGNED_Format:rS,RGB_ETC1_Format:Fx,RGB_ETC2_Format:jx,RGB_PVRTC_2BPPV1_Format:Bx,RGB_PVRTC_4BPPV1_Format:Ix,RGB_S3TC_DXT1_Format:mg,RGDepthPacking:cit,RGFormat:bR,RGIntegerFormat:n1,RawShaderMaterial:lj,Ray:Vh,Raycaster:Ij,RectAreaLight:wj,RedFormat:e1,RedIntegerFormat:Iy,ReinhardToneMapping:p6,RenderTarget:a1,RenderTarget3D:est,RenderTargetArray:nst,RepeatWrapping:ly,ReplaceStencilOp:hit,ReverseSubtractEquation:ZF,RingGeometry:_1,SIGNED_RED_GREEN_RGTC2_Format:oS,SIGNED_RED_RGTC1_Format:aS,SRGBColorSpace:ta,SRGBTransfer:Zn,Scene:wR,ShaderChunk:sn,ShaderLib:Do,ShaderMaterial:Zs,ShadowMaterial:oj,Shape:Oh,ShapeGeometry:x1,ShapePath:Est,ShapeUtils:Cl,ShortType:dR,Skeleton:f1,SkeletonHelper:fst,SkinnedMesh:q6,Source:Fc,Sphere:sa,SphereGeometry:Vy,Spherical:KO,SphericalHarmonics3:Oj,SplineCurve:BR,SpotLight:Mj,SpotLightHelper:cst,Sprite:V6,SpriteMaterial:OR,SrcAlphaFactor:wx,SrcAlphaSaturateFactor:s6,SrcColorFactor:t6,StaticCopyUsage:Rit,StaticDrawUsage:dy,StaticReadUsage:wit,StereoCamera:Bat,StreamCopyUsage:Nit,StreamDrawUsage:Tit,StreamReadUsage:Cit,StringKeyframeTrack:kh,SubtractEquation:WF,SubtractiveBlending:HO,TOUCH:hh,TangentSpaceNormalMap:Qc,TetrahedronGeometry:S1,Texture:Li,TextureLoader:Cat,TextureUtils:Rst,TimestampQuery:Uit,TorusGeometry:M1,TorusKnotGeometry:E1,Triangle:Xa,TriangleFanDrawMode:lit,TriangleStripDrawMode:oit,TrianglesDrawMode:sit,TubeGeometry:A1,UVMapping:$S,Uint16BufferAttribute:ER,Uint32BufferAttribute:AR,Uint8BufferAttribute:yrt,Uint8ClampedBufferAttribute:brt,Uniform:w1,UniformsGroup:rst,UniformsLib:ve,UniformsUtils:TR,UnsignedByteType:Io,UnsignedInt248Type:Qp,UnsignedInt5999Type:pR,UnsignedIntType:Cu,UnsignedShort4444Type:JS,UnsignedShort5551Type:t1,UnsignedShortType:$p,VSMShadowMap:Co,Vector2:Xt,Vector3:Q,Vector4:Tn,VectorKeyframeTrack:xy,VideoFrameTexture:Frt,VideoTexture:Z6,WebGL3DRenderTarget:art,WebGLArrayRenderTarget:rrt,WebGLCoordinateSystem:Uo,WebGLCubeRenderTarget:F6,WebGLRenderTarget:Nl,WebGLRenderer:qj,WebGLUtils:Gj,WebGPUCoordinateSystem:py,WebXRController:C_,WireframeGeometry:sj,WrapAroundEnding:fy,ZeroCurvatureEnding:_h,ZeroFactor:QF,ZeroSlopeEnding:xh,ZeroStencilOp:fit,createCanvasElement:L6},Symbol.toStringTag,{value:"Module"}));var r2={exports:{}},hu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function hft(){return c4||(c4=1,hu.ConcurrentRoot=1,hu.ContinuousEventPriority=8,hu.DefaultEventPriority=32,hu.DiscreteEventPriority=2,hu.IdleEventPriority=268435456,hu.LegacyRoot=0,hu.NoEventPriority=0),hu}var f4;function dft(){return f4||(f4=1,r2.exports=hft()),r2.exports}var D_=dft(),a2={exports:{}},s2={},o2={exports:{}},l2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4;function pft(){if(h4)return l2;h4=1;var n=om();function t(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function l(v,y){var _=y(),S=i({inst:{value:_,getSnapshot:y}}),E=S[0].inst,x=S[1];return a(function(){E.value=_,E.getSnapshot=y,c(E)&&x({inst:E})},[v,_,y]),r(function(){return c(E)&&x({inst:E}),v(function(){c(E)&&x({inst:E})})},[v]),o(_),_}function c(v){var y=v.getSnapshot;v=v.value;try{var _=y();return!e(v,_)}catch{return!0}}function h(v,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return l2.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,l2}var d4;function mft(){return d4||(d4=1,o2.exports=pft()),o2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p4;function vft(){if(p4)return s2;p4=1;var n=om(),t=mft();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;return s2.useSyncExternalStoreWithSelector=function(h,m,v,y,_){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=l(function(){function M(P){if(!w){if(w=!0,O=P,P=y(P),_!==void 0&&E.hasValue){var U=E.value;if(_(U,P))return R=U}return R=P}if(U=R,i(O,P))return U;var z=y(P);return _!==void 0&&_(U,z)?(O=P,U):(O=P,R=z)}var w=!1,O,R,N=v===void 0?null:v;return[function(){return M(m())},N===null?void 0:function(){return M(N())}]},[m,v,y,_]);var x=r(h,S[0],S[1]);return o(function(){E.hasValue=!0,E.value=x},[x]),c(x),x},s2}var m4;function gft(){return m4||(m4=1,a2.exports=vft()),a2.exports}var yft=gft();const bft=Gn(yft),v4=n=>{let t;const e=new Set,i=(h,m)=>{const v=typeof h=="function"?h(t):h;if(!Object.is(v,t)){const y=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(_=>_(t,y))}},r=()=>t,l={setState:i,getState:r,getInitialState:()=>c,subscribe:h=>(e.add(h),()=>e.delete(h))},c=t=n(i,r,l);return l},_ft=n=>n?v4(n):v4,{useSyncExternalStoreWithSelector:xft}=bft,Sft=n=>n;function Mft(n,t=Sft,e){const i=xft(n.subscribe,n.getState,n.getInitialState,t,e);return gt.useDebugValue(i),i}const g4=(n,t)=>{const e=_ft(n),i=(r,a=t)=>Mft(e,r,a);return Object.assign(i,e),i},Eft=(n,t)=>n?g4(n,t):g4;var u2={exports:{}},c2={exports:{}},f2={exports:{}},h2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4;function Aft(){return y4||(y4=1,function(n){function t(H,q){var k=H.length;H.push(q);t:for(;0<k;){var it=k-1>>>1,G=H[it];if(0<r(G,q))H[it]=q,H[k]=G,k=it;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],k=H.pop();if(k!==q){H[0]=k;t:for(var it=0,G=H.length,et=G>>>1;it<et;){var ot=2*(it+1)-1,mt=H[ot],rt=ot+1,_t=H[rt];if(0>r(mt,k))rt<G&&0>r(_t,mt)?(H[it]=_t,H[rt]=k,it=rt):(H[it]=mt,H[ot]=k,it=ot);else if(rt<G&&0>r(_t,k))H[it]=_t,H[rt]=k,it=rt;else break t}}return q}function r(H,q){var k=H.sortIndex-q.sortIndex;return k!==0?k:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],m=1,v=null,y=3,_=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var q=e(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=H)i(h),q.sortIndex=q.expirationTime,t(c,q);else break;q=e(h)}}function R(H){if(E=!1,O(H),!S)if(e(c)!==null)S=!0,tt();else{var q=e(h);q!==null&&J(R,q.startTime-H)}}var N=!1,P=-1,U=5,z=-1;function I(){return!(n.unstable_now()-z<U)}function B(){if(N){var H=n.unstable_now();z=H;var q=!0;try{t:{S=!1,E&&(E=!1,M(P),P=-1),_=!0;var k=y;try{e:{for(O(H),v=e(c);v!==null&&!(v.expirationTime>H&&I());){var it=v.callback;if(typeof it=="function"){v.callback=null,y=v.priorityLevel;var G=it(v.expirationTime<=H);if(H=n.unstable_now(),typeof G=="function"){v.callback=G,O(H),q=!0;break e}v===e(c)&&i(c),O(H)}else i(c);v=e(c)}if(v!==null)q=!0;else{var et=e(h);et!==null&&J(R,et.startTime-H),q=!1}}break t}finally{v=null,y=k,_=!1}q=void 0}}finally{q?F():N=!1}}}var F;if(typeof w=="function")F=function(){w(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=B,F=function(){W.postMessage(null)}}else F=function(){x(B,0)};function tt(){N||(N=!0,F())}function J(H,q){P=x(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,tt())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(c)},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var k=y;y=q;try{return H()}finally{y=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=y;y=H;try{return q()}finally{y=k}},n.unstable_scheduleCallback=function(H,q,k){var it=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?it+k:it):k=it,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,H={id:m++,callback:q,priorityLevel:H,startTime:k,expirationTime:G,sortIndex:-1},k>it?(H.sortIndex=k,t(h,H),e(c)===null&&H===e(h)&&(E?(M(P),P=-1):E=!0,J(R,k-it))):(H.sortIndex=G,t(c,H),S||_||(S=!0,tt())),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var q=y;return function(){var k=y;y=q;try{return H.apply(this,arguments)}finally{y=k}}}}(h2)),h2}var b4;function Tft(){return b4||(b4=1,f2.exports=Aft()),f2.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4;function wft(){return _4||(_4=1,function(n){n.exports=function(t){function e(f,d,b,T){return new Zm(f,d,b,T)}function i(){}function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=fo&&f[fo]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Jm?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case el:return"Fragment";case Pa:return"Portal";case md:return"Profiler";case Df:return"StrictMode";case vd:return"Suspense";case ec:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case rs:return(f.displayName||"Context")+".Provider";case $m:return(f._context.displayName||"Context")+".Consumer";case Pf:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case gd:return d=f.displayName||null,d!==null?d:o(f.type)||"Memo";case Ua:d=f._payload,f=f._init;try{return o(f(d))}catch{}}return null}function l(f){if(Os===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);Os=d&&d[1]||"",ho=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+f+ho}function c(f,d){if(!f||Fl)return"";Fl=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(Ye){var ye=Ye}Reflect.construct(f,[],me)}else{try{me.call()}catch(Ye){ye=Ye}f.call(me.prototype)}}else{try{throw Error()}catch(Ye){ye=Ye}(me=f())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(Ye){if(Ye&&ye&&typeof Ye.stack=="string")return[Ye.stack,ye.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=T.DetermineComponentFrameRoot(),Z=L[0],st=L[1];if(Z&&st){var bt=Z.split(`
`),qt=st.split(`
`);for(D=T=0;T<bt.length&&!bt[T].includes("DetermineComponentFrameRoot");)T++;for(;D<qt.length&&!qt[D].includes("DetermineComponentFrameRoot");)D++;if(T===bt.length||D===qt.length)for(T=bt.length-1,D=qt.length-1;1<=T&&0<=D&&bt[T]!==qt[D];)D--;for(;1<=T&&0<=D;T--,D--)if(bt[T]!==qt[D]){if(T!==1||D!==1)do if(T--,D--,0>D||bt[T]!==qt[D]){var re=`
`+bt[T].replace(" at new "," at ");return f.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",f.displayName)),re}while(1<=T&&0<=D);break}}}finally{Fl=!1,Error.prepareStackTrace=b}return(b=f?f.displayName||f.name:"")?l(b):""}function h(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=c(f.type,!1),f;case 11:return f=c(f.type.render,!1),f;case 1:return f=c(f.type,!0),f;default:return""}}function m(f){try{var d="";do d+=h(f),f=f.return;while(f);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function v(f){var d=f,b=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(b=d.return),f=d.return;while(f)}return d.tag===3?b:null}function y(f){if(v(f)!==f)throw Error(r(188))}function _(f){var d=f.alternate;if(!d){if(d=v(f),d===null)throw Error(r(188));return d!==f?null:f}for(var b=f,T=d;;){var D=b.return;if(D===null)break;var L=D.alternate;if(L===null){if(T=D.return,T!==null){b=T;continue}break}if(D.child===L.child){for(L=D.child;L;){if(L===b)return y(D),f;if(L===T)return y(D),d;L=L.sibling}throw Error(r(188))}if(b.return!==T.return)b=D,T=L;else{for(var Z=!1,st=D.child;st;){if(st===b){Z=!0,b=D,T=L;break}if(st===T){Z=!0,T=D,b=L;break}st=st.sibling}if(!Z){for(st=L.child;st;){if(st===b){Z=!0,b=L,T=D;break}if(st===T){Z=!0,T=L,b=D;break}st=st.sibling}if(!Z)throw Error(r(189))}}if(b.alternate!==T)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?f:d}function S(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=S(f),d!==null)return d;f=f.sibling}return null}function E(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=E(f),d!==null))return d;f=f.sibling}return null}function x(f){return{current:f}}function M(f){0>go||(f.current=xi[go],xi[go]=null,go--)}function w(f,d){go++,xi[go]=f.current,f.current=d}function O(f){return f>>>=0,f===0?32:31-(K0(f)/$0|0)|0}function R(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function N(f,d){var b=f.pendingLanes;if(b===0)return 0;var T=0,D=f.suspendedLanes,L=f.pingedLanes,Z=f.warmLanes;f=f.finishedLanes!==0;var st=b&134217727;return st!==0?(b=st&~D,b!==0?T=R(b):(L&=st,L!==0?T=R(L):f||(Z=st&~Z,Z!==0&&(T=R(Z))))):(st=b&~D,st!==0?T=R(st):L!==0?T=R(L):f||(Z=b&~Z,Z!==0&&(T=R(Z)))),T===0?0:d!==0&&d!==T&&(d&D)===0&&(D=T&-T,Z=d&-d,D>=Z||D===32&&(Z&4194176)!==0)?d:T}function P(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function U(f,d){switch(f){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var f=Rs;return Rs<<=1,(Rs&4194176)===0&&(Rs=128),f}function I(){var f=Gl;return Gl<<=1,(Gl&62914560)===0&&(Gl=4194304),f}function B(f){for(var d=[],b=0;31>b;b++)d.push(f);return d}function F(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function K(f,d,b,T,D,L){var Z=f.pendingLanes;f.pendingLanes=b,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=b,f.entangledLanes&=b,f.errorRecoveryDisabledLanes&=b,f.shellSuspendCounter=0;var st=f.entanglements,bt=f.expirationTimes,qt=f.hiddenUpdates;for(b=Z&~b;0<b;){var re=31-Pr(b),me=1<<re;st[re]=0,bt[re]=-1;var ye=qt[re];if(ye!==null)for(qt[re]=null,re=0;re<ye.length;re++){var Ye=ye[re];Ye!==null&&(Ye.lane&=-536870913)}b&=~me}T!==0&&W(f,T,0),L!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=L&~(Z&~d))}function W(f,d,b){f.pendingLanes|=d,f.suspendedLanes&=~d;var T=31-Pr(d);f.entangledLanes|=d,f.entanglements[T]=f.entanglements[T]|1073741824|b&4194218}function tt(f,d){var b=f.entangledLanes|=d;for(f=f.entanglements;b;){var T=31-Pr(b),D=1<<T;D&d|f[T]&d&&(f[T]|=d),b&=~D}}function J(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function H(f){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Si,f,void 0,(f.current.flags&128)===128)}catch{}}function q(f){if(typeof tb=="function"&&Yi(f),Yr&&typeof Yr.setStrictMode=="function")try{Yr.setStrictMode(Si,f)}catch{}}function k(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function it(f,d){if(typeof f=="object"&&f!==null){var b=yv.get(f);return b!==void 0?b:(d={value:f,source:d,stack:m(d)},yv.set(f,d),d)}return{value:f,source:d,stack:m(d)}}function G(f,d){ql[kl++]=cc,ql[kl++]=Xl,Xl=f,cc=d}function et(f,d,b){ha[da++]=os,ha[da++]=ls,ha[da++]=ll,ll=f;var T=os;f=ls;var D=32-Pr(T)-1;T&=~(1<<D),b+=1;var L=32-Pr(d)+D;if(30<L){var Z=D-D%5;L=(T&(1<<Z)-1).toString(32),T>>=Z,D-=Z,os=1<<32-Pr(d)+D|b<<D|T,ls=L+f}else os=1<<L|b<<D|T,ls=f}function ot(f){f.return!==null&&(G(f,1),et(f,1,0))}function mt(f){for(;f===Xl;)Xl=ql[--kl],ql[kl]=null,cc=ql[--kl],ql[kl]=null;for(;f===ll;)ll=ha[--da],ha[da]=null,ls=ha[--da],ha[da]=null,os=ha[--da],ha[da]=null}function rt(f,d){w(Ds,d),w(fc,f),w(zi,null),f=m0(d),M(zi),w(zi,f)}function _t(){M(zi),M(fc),M(Ds)}function Ut(f){f.memoizedState!==null&&w(Yl,f);var d=zi.current,b=ac(d,f.type);d!==b&&(w(fc,f),w(zi,b))}function Zt(f){fc.current===f&&(M(zi),M(fc)),Yl.current===f&&(M(Yl),Dr?as._currentValue=il:as._currentValue2=il)}function $t(f){var d=Error(r(418,""));throw be(it(d,f)),Vf}function wt(f,d){if(!or)throw Error(r(175));F0(f.stateNode,f.type,f.memoizedProps,d,f)||$t(f)}function Qt(f){for(lr=f.return;lr;)switch(lr.tag){case 3:case 27:Wi=!0;return;case 5:case 13:Wi=!1;return;default:lr=lr.return}}function se(f){if(!or||f!==lr)return!1;if(!yn)return Qt(f),yn=!0,!1;var d=!1;if(kn?f.tag!==3&&f.tag!==27&&(f.tag!==5||Td(f.type)&&!Ze(f.type,f.memoizedProps))&&(d=!0):f.tag!==3&&(f.tag!==5||Td(f.type)&&!Ze(f.type,f.memoizedProps))&&(d=!0),d&&ur&&$t(f),Qt(f),f.tag===13){if(!or)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));ur=V0(f)}else ur=lr?pv(f.stateNode):null;return!0}function Lt(){or&&(ur=lr=null,yn=!1)}function be(f){Ba===null?Ba=[f]:Ba.push(f)}function nt(){for(var f=Wl,d=us=Wl=0;d<f;){var b=za[d];za[d++]=null;var T=za[d];za[d++]=null;var D=za[d];za[d++]=null;var L=za[d];if(za[d++]=null,T!==null&&D!==null){var Z=T.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),T.pending=D}L!==0&&Ht(b,D,L)}}function Be(f,d,b,T){za[Wl++]=f,za[Wl++]=d,za[Wl++]=b,za[Wl++]=T,us|=T,f.lanes|=T,f=f.alternate,f!==null&&(f.lanes|=T)}function It(f,d,b,T){return Be(f,d,b,T),ne(f)}function Pt(f,d){return Be(f,null,null,d),ne(f)}function Ht(f,d,b){f.lanes|=b;var T=f.alternate;T!==null&&(T.lanes|=b);for(var D=!1,L=f.return;L!==null;)L.childLanes|=b,T=L.alternate,T!==null&&(T.childLanes|=b),L.tag===22&&(f=L.stateNode,f===null||f._visibility&1||(D=!0)),f=L,L=L.return;D&&d!==null&&f.tag===3&&(L=f.stateNode,D=31-Pr(b),L=L.hiddenUpdates,f=L[D],f===null?L[D]=[d]:f.push(d),d.lane=b|536870912)}function ne(f){if(50<_c)throw _c=0,jd=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function Bt(f){f!==yo&&f.next===null&&(yo===null?Gf=yo=f:yo=yo.next=f),Kn=!0,Zl||(Zl=!0,zt(V))}function $(f,d){if(!bv&&Kn){bv=!0;do for(var b=!1,T=Gf;T!==null;){if(f!==0){var D=T.pendingLanes;if(D===0)var L=0;else{var Z=T.suspendedLanes,st=T.pingedLanes;L=(1<<31-Pr(42|f)+1)-1,L&=D&~(Z&~st),L=L&201326677?L&201326677|1:L?L|2:0}L!==0&&(b=!0,jt(T,L))}else L=dn,L=N(T,T===Dn?L:0),(L&3)===0||P(T,L)||(b=!0,jt(T,L));T=T.next}while(b);bv=!1}}function V(){Kn=Zl=!1;var f=0;hc!==0&&(b0()&&(f=hc),hc=0);for(var d=Ia(),b=null,T=Gf;T!==null;){var D=T.next,L=pt(T,d);L===0?(T.next=null,b===null?Gf=D:b.next=D,D===null&&(yo=b)):(b=T,(f!==0||(L&3)!==0)&&(Kn=!0)),T=D}$(f)}function pt(f,d){for(var b=f.suspendedLanes,T=f.pingedLanes,D=f.expirationTimes,L=f.pendingLanes&-62914561;0<L;){var Z=31-Pr(L),st=1<<Z,bt=D[Z];bt===-1?((st&b)===0||(st&T)!==0)&&(D[Z]=U(st,d)):bt<=d&&(f.expiredLanes|=st),L&=~st}if(d=Dn,b=dn,b=N(f,f===d?b:0),T=f.callbackNode,b===0||f===d&&zn===2||f.cancelPendingCommit!==null)return T!==null&&T!==null&&Rd(T),f.callbackNode=null,f.callbackPriority=0;if((b&3)===0||P(f,b)){if(d=b&-b,d===f.callbackPriority)return d;switch(T!==null&&Rd(T),J(b)){case 2:case 8:b=J0;break;case 32:b=Pd;break;case 268435456:b=j1;break;default:b=Pd}return T=Nt.bind(null,f),b=jf(b,T),f.callbackPriority=d,f.callbackNode=b,d}return T!==null&&T!==null&&Rd(T),f.callbackPriority=2,f.callbackNode=null,2}function Nt(f,d){var b=f.callbackNode;if(is()&&f.callbackNode!==b)return null;var T=dn;return T=N(f,f===Dn?T:0),T===0?null:(Ko(f,T,d),pt(f,Ia()),f.callbackNode!=null&&f.callbackNode===b?Nt.bind(null,f):null)}function jt(f,d){if(is())return null;Ko(f,d,!0)}function zt(f){rv?vo(function(){(xn&6)!==0?jf(Nd,f):f()}):jf(Nd,f)}function le(){return hc===0&&(hc=z()),hc}function te(f,d){if(dc===null){var b=dc=[];Kl=0,pa=le(),$l={status:"pending",value:void 0,then:function(T){b.push(T)}}}return Kl++,d.then(ae,ae),d}function ae(){if(--Kl===0&&dc!==null){$l!==null&&($l.status="fulfilled");var f=dc;dc=null,pa=0,$l=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function tn(f,d){var b=[],T={status:"pending",value:null,reason:null,then:function(D){b.push(D)}};return f.then(function(){T.status="fulfilled",T.value=d;for(var D=0;D<b.length;D++)(0,b[D])(d)},function(D){for(T.status="rejected",T.reason=D,D=0;D<b.length;D++)(0,b[D])(void 0)}),T}function Jt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ge(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Me(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Ee(f,d,b){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(xn&2)!==0){var D=T.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),T.pending=d,d=ne(f),Ht(f,null,b),d}return Be(f,T,d,b),ne(f)}function oe(f,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194176)!==0)){var T=d.lanes;T&=f.pendingLanes,b|=T,d.lanes=b,tt(f,b)}}function ut(f,d){var b=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var D=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var Z={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};L===null?D=L=Z:L=L.next=Z,b=b.next}while(b!==null);L===null?D=L=d:L=L.next=d}else D=L=d;b={baseState:T.baseState,firstBaseUpdate:D,lastBaseUpdate:L,shared:T.shared,callbacks:T.callbacks},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=d:f.next=d,b.lastBaseUpdate=d}function Ft(){if(Ql){var f=$l;if(f!==null)throw f}}function ce(f,d,b,T){Ql=!1;var D=f.updateQueue;bo=!1;var L=D.firstBaseUpdate,Z=D.lastBaseUpdate,st=D.shared.pending;if(st!==null){D.shared.pending=null;var bt=st,qt=bt.next;bt.next=null,Z===null?L=qt:Z.next=qt,Z=bt;var re=f.alternate;re!==null&&(re=re.updateQueue,st=re.lastBaseUpdate,st!==Z&&(st===null?re.firstBaseUpdate=qt:st.next=qt,re.lastBaseUpdate=bt))}if(L!==null){var me=D.baseState;Z=0,re=qt=bt=null,st=L;do{var ye=st.lane&-536870913,Ye=ye!==st.lane;if(Ye?(dn&ye)===ye:(T&ye)===ye){ye!==0&&ye===pa&&(Ql=!0),re!==null&&(re=re.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});t:{var Sa=f,gl=st;ye=d;var yl=b;switch(gl.tag){case 1:if(Sa=gl.payload,typeof Sa=="function"){me=Sa.call(yl,me,ye);break t}me=Sa;break t;case 3:Sa.flags=Sa.flags&-65537|128;case 0:if(Sa=gl.payload,ye=typeof Sa=="function"?Sa.call(yl,me,ye):Sa,ye==null)break t;me=pd({},me,ye);break t;case 2:bo=!0}}ye=st.callback,ye!==null&&(f.flags|=64,Ye&&(f.flags|=8192),Ye=D.callbacks,Ye===null?D.callbacks=[ye]:Ye.push(ye))}else Ye={lane:ye,tag:st.tag,payload:st.payload,callback:st.callback,next:null},re===null?(qt=re=Ye,bt=me):re=re.next=Ye,Z|=ye;if(st=st.next,st===null){if(st=D.shared.pending,st===null)break;Ye=st,st=Ye.next,Ye.next=null,D.lastBaseUpdate=Ye,D.shared.pending=null}}while(!0);re===null&&(bt=me),D.baseState=bt,D.firstBaseUpdate=qt,D.lastBaseUpdate=re,L===null&&(D.shared.lanes=0),_a|=Z,f.lanes=Z,f.memoizedState=me}}function lt(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function ee(f,d){var b=f.callbacks;if(b!==null)for(f.callbacks=null,f=0;f<b.length;f++)lt(b[f],d)}function Dt(f,d){if(Wr(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var b=Object.keys(f),T=Object.keys(d);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var D=b[T];if(!Ns.call(d,D)||!Wr(f[D],d[D]))return!1}return!0}function Gt(f){return f=f.status,f==="fulfilled"||f==="rejected"}function pe(){}function fe(f,d,b){switch(b=f[b],b===void 0?f.push(d):b!==d&&(d.then(pe,pe),d=b),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===pc?Error(r(483)):f;default:if(typeof d.status=="string")d.then(pe,pe);else{if(f=Dn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(T){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=T}},function(T){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===pc?Error(r(483)):f}throw ul=d,pc}}function Ce(){if(ul===null)throw Error(r(459));var f=ul;return ul=null,f}function rn(f){var d=fl;return fl+=1,cl===null&&(cl=[]),fe(cl,f,d)}function On(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function $e(f,d){throw d.$$typeof===U1?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function Ti(f){var d=f._init;return d(f._payload)}function si(f){function d(Et,ct){if(f){var Rt=Et.deletions;Rt===null?(Et.deletions=[ct],Et.flags|=16):Rt.push(ct)}}function b(Et,ct){if(!f)return null;for(;ct!==null;)d(Et,ct),ct=ct.sibling;return null}function T(Et){for(var ct=new Map;Et!==null;)Et.key!==null?ct.set(Et.key,Et):ct.set(Et.index,Et),Et=Et.sibling;return ct}function D(Et,ct){return Et=Na(Et,ct),Et.index=0,Et.sibling=null,Et}function L(Et,ct,Rt){return Et.index=Rt,f?(Rt=Et.alternate,Rt!==null?(Rt=Rt.index,Rt<ct?(Et.flags|=33554434,ct):Rt):(Et.flags|=33554434,ct)):(Et.flags|=1048576,ct)}function Z(Et){return f&&Et.alternate===null&&(Et.flags|=33554434),Et}function st(Et,ct,Rt,ie){return ct===null||ct.tag!==6?(ct=hd(Rt,Et.mode,ie),ct.return=Et,ct):(ct=D(ct,Rt),ct.return=Et,ct)}function bt(Et,ct,Rt,ie){var Oe=Rt.type;return Oe===el?re(Et,ct,Rt.props.children,ie,Rt.key):ct!==null&&(ct.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Ua&&Ti(Oe)===ct.type)?(ct=D(ct,Rt.props),On(ct,Rt),ct.return=Et,ct):(ct=ws(Rt.type,Rt.key,Rt.props,null,Et.mode,ie),On(ct,Rt),ct.return=Et,ct)}function qt(Et,ct,Rt,ie){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==Rt.containerInfo||ct.stateNode.implementation!==Rt.implementation?(ct=Km(Rt,Et.mode,ie),ct.return=Et,ct):(ct=D(ct,Rt.children||[]),ct.return=Et,ct)}function re(Et,ct,Rt,ie,Oe){return ct===null||ct.tag!==7?(ct=pi(Rt,Et.mode,ie,Oe),ct.return=Et,ct):(ct=D(ct,Rt),ct.return=Et,ct)}function me(Et,ct,Rt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=hd(""+ct,Et.mode,Rt),ct.return=Et,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case Rf:return Rt=ws(ct.type,ct.key,ct.props,null,Et.mode,Rt),On(Rt,ct),Rt.return=Et,Rt;case Pa:return ct=Km(ct,Et.mode,Rt),ct.return=Et,ct;case Ua:var ie=ct._init;return ct=ie(ct._payload),me(Et,ct,Rt)}if(nc(ct)||a(ct))return ct=pi(ct,Et.mode,Rt,null),ct.return=Et,ct;if(typeof ct.then=="function")return me(Et,rn(ct),Rt);if(ct.$$typeof===rs)return me(Et,mf(Et,ct),Rt);$e(Et,ct)}return null}function ye(Et,ct,Rt,ie){var Oe=ct!==null?ct.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return Oe!==null?null:st(Et,ct,""+Rt,ie);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Rf:return Rt.key===Oe?bt(Et,ct,Rt,ie):null;case Pa:return Rt.key===Oe?qt(Et,ct,Rt,ie):null;case Ua:return Oe=Rt._init,Rt=Oe(Rt._payload),ye(Et,ct,Rt,ie)}if(nc(Rt)||a(Rt))return Oe!==null?null:re(Et,ct,Rt,ie,null);if(typeof Rt.then=="function")return ye(Et,ct,rn(Rt),ie);if(Rt.$$typeof===rs)return ye(Et,ct,mf(Et,Rt),ie);$e(Et,Rt)}return null}function Ye(Et,ct,Rt,ie,Oe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Et=Et.get(Rt)||null,st(ct,Et,""+ie,Oe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Rf:return Et=Et.get(ie.key===null?Rt:ie.key)||null,bt(ct,Et,ie,Oe);case Pa:return Et=Et.get(ie.key===null?Rt:ie.key)||null,qt(ct,Et,ie,Oe);case Ua:var ri=ie._init;return ie=ri(ie._payload),Ye(Et,ct,Rt,ie,Oe)}if(nc(ie)||a(ie))return Et=Et.get(Rt)||null,re(ct,Et,ie,Oe,null);if(typeof ie.then=="function")return Ye(Et,ct,Rt,rn(ie),Oe);if(ie.$$typeof===rs)return Ye(Et,ct,Rt,mf(ct,ie),Oe);$e(ct,ie)}return null}function Sa(Et,ct,Rt,ie){for(var Oe=null,ri=null,Ge=ct,En=ct=0,Mi=null;Ge!==null&&En<Rt.length;En++){Ge.index>En?(Mi=Ge,Ge=null):Mi=Ge.sibling;var fn=ye(Et,Ge,Rt[En],ie);if(fn===null){Ge===null&&(Ge=Mi);break}f&&Ge&&fn.alternate===null&&d(Et,Ge),ct=L(fn,ct,En),ri===null?Oe=fn:ri.sibling=fn,ri=fn,Ge=Mi}if(En===Rt.length)return b(Et,Ge),yn&&G(Et,En),Oe;if(Ge===null){for(;En<Rt.length;En++)Ge=me(Et,Rt[En],ie),Ge!==null&&(ct=L(Ge,ct,En),ri===null?Oe=Ge:ri.sibling=Ge,ri=Ge);return yn&&G(Et,En),Oe}for(Ge=T(Ge);En<Rt.length;En++)Mi=Ye(Ge,Et,En,Rt[En],ie),Mi!==null&&(f&&Mi.alternate!==null&&Ge.delete(Mi.key===null?En:Mi.key),ct=L(Mi,ct,En),ri===null?Oe=Mi:ri.sibling=Mi,ri=Mi);return f&&Ge.forEach(function(Fs){return d(Et,Fs)}),yn&&G(Et,En),Oe}function gl(Et,ct,Rt,ie){if(Rt==null)throw Error(r(151));for(var Oe=null,ri=null,Ge=ct,En=ct=0,Mi=null,fn=Rt.next();Ge!==null&&!fn.done;En++,fn=Rt.next()){Ge.index>En?(Mi=Ge,Ge=null):Mi=Ge.sibling;var Fs=ye(Et,Ge,fn.value,ie);if(Fs===null){Ge===null&&(Ge=Mi);break}f&&Ge&&Fs.alternate===null&&d(Et,Ge),ct=L(Fs,ct,En),ri===null?Oe=Fs:ri.sibling=Fs,ri=Fs,Ge=Mi}if(fn.done)return b(Et,Ge),yn&&G(Et,En),Oe;if(Ge===null){for(;!fn.done;En++,fn=Rt.next())fn=me(Et,fn.value,ie),fn!==null&&(ct=L(fn,ct,En),ri===null?Oe=fn:ri.sibling=fn,ri=fn);return yn&&G(Et,En),Oe}for(Ge=T(Ge);!fn.done;En++,fn=Rt.next())fn=Ye(Ge,Et,En,fn.value,ie),fn!==null&&(f&&fn.alternate!==null&&Ge.delete(fn.key===null?En:fn.key),ct=L(fn,ct,En),ri===null?Oe=fn:ri.sibling=fn,ri=fn);return f&&Ge.forEach(function(Vd){return d(Et,Vd)}),yn&&G(Et,En),Oe}function yl(Et,ct,Rt,ie){if(typeof Rt=="object"&&Rt!==null&&Rt.type===el&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Rf:t:{for(var Oe=Rt.key;ct!==null;){if(ct.key===Oe){if(Oe=Rt.type,Oe===el){if(ct.tag===7){b(Et,ct.sibling),ie=D(ct,Rt.props.children),ie.return=Et,Et=ie;break t}}else if(ct.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Ua&&Ti(Oe)===ct.type){b(Et,ct.sibling),ie=D(ct,Rt.props),On(ie,Rt),ie.return=Et,Et=ie;break t}b(Et,ct);break}else d(Et,ct);ct=ct.sibling}Rt.type===el?(ie=pi(Rt.props.children,Et.mode,ie,Rt.key),ie.return=Et,Et=ie):(ie=ws(Rt.type,Rt.key,Rt.props,null,Et.mode,ie),On(ie,Rt),ie.return=Et,Et=ie)}return Z(Et);case Pa:t:{for(Oe=Rt.key;ct!==null;){if(ct.key===Oe)if(ct.tag===4&&ct.stateNode.containerInfo===Rt.containerInfo&&ct.stateNode.implementation===Rt.implementation){b(Et,ct.sibling),ie=D(ct,Rt.children||[]),ie.return=Et,Et=ie;break t}else{b(Et,ct);break}else d(Et,ct);ct=ct.sibling}ie=Km(Rt,Et.mode,ie),ie.return=Et,Et=ie}return Z(Et);case Ua:return Oe=Rt._init,Rt=Oe(Rt._payload),yl(Et,ct,Rt,ie)}if(nc(Rt))return Sa(Et,ct,Rt,ie);if(a(Rt)){if(Oe=a(Rt),typeof Oe!="function")throw Error(r(150));return Rt=Oe.call(Rt),gl(Et,ct,Rt,ie)}if(typeof Rt.then=="function")return yl(Et,ct,rn(Rt),ie);if(Rt.$$typeof===rs)return yl(Et,ct,mf(Et,Rt),ie);$e(Et,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint"?(Rt=""+Rt,ct!==null&&ct.tag===6?(b(Et,ct.sibling),ie=D(ct,Rt),ie.return=Et,Et=ie):(b(Et,ct),ie=hd(Rt,Et.mode,ie),ie.return=Et,Et=ie),Z(Et)):b(Et,ct)}return function(Et,ct,Rt,ie){try{fl=0;var Oe=yl(Et,ct,Rt,ie);return cl=null,Oe}catch(Ge){if(Ge===pc)throw Ge;var ri=e(29,Ge,null,Et.mode);return ri.lanes=ie,ri.return=Et,ri}finally{}}}function wi(f,d){f=_r,w(mc,f),w($n,d),_r=f|d.baseLanes}function Ii(){w(mc,_r),w($n,$n.current)}function vr(){_r=mc.current,M($n),M(mc)}function Fr(f){var d=f.alternate;w(Hi,Hi.current&1),w(ma,f),Xn===null&&(d===null||$n.current!==null||d.memoizedState!==null)&&(Xn=f)}function nf(f){if(f.tag===22){if(w(Hi,Hi.current),w(ma,f),Xn===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(Xn=f)}}else $a()}function $a(){w(Hi,Hi.current),w(ma,ma.current)}function Tr(f){M(ma),Xn===f&&(Xn=null),M(Hi)}function Qa(f){for(var d=f;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Md(b)||Ed(b)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function In(){throw Error(r(321))}function Ja(f,d){if(d===null)return!1;for(var b=0;b<d.length&&b<f.length;b++)if(!Wr(f[b],d[b]))return!1;return!0}function ts(f,d,b,T,D,L){return _o=L,en=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ve.H=f===null||f.memoizedState===null?pl:Ur,dl=!1,L=b(T,D),dl=!1,Jl&&(L=Qs(d,b,T,D)),Ho(f),L}function Ho(f){Ve.H=mi;var d=Ue!==null&&Ue.next!==null;if(_o=0,_n=Ue=en=null,Ha=!1,tu=0,Zi=null,d)throw Error(r(300));f===null||Yn||(f=f.dependencies,f!==null&&pf(f)&&(Yn=!0))}function Qs(f,d,b,T){en=f;var D=0;do{if(Jl&&(Zi=null),tu=0,Jl=!1,25<=D)throw Error(r(301));if(D+=1,_n=Ue=null,f.updateQueue!=null){var L=f.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}Ve.H=va,L=d(b,T)}while(Jl);return L}function Oi(){var f=Ve.H,d=f.useState()[0];return d=typeof d.then=="function"?Tt(d):d,f=f.useState()[0],(Ue!==null?Ue.memoizedState:null)!==f&&(en.flags|=1024),d}function Uu(){var f=Ud!==0;return Ud=0,f}function Lu(f,d,b){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~b}function es(f){if(Ha){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}Ha=!1}_o=0,_n=Ue=en=null,Jl=!1,tu=Ud=0,Zi=null}function Y(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?en.memoizedState=_n=f:_n=_n.next=f,_n}function ht(){if(Ue===null){var f=en.alternate;f=f!==null?f.memoizedState:null}else f=Ue.next;var d=_n===null?en.memoizedState:_n.next;if(d!==null)_n=d,Ue=f;else{if(f===null)throw en.alternate===null?Error(r(467)):Error(r(310));Ue=f,f={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},_n===null?en.memoizedState=_n=f:_n=_n.next=f}return _n}function Tt(f){var d=tu;return tu+=1,Zi===null&&(Zi=[]),f=fe(Zi,f,d),d=en,(_n===null?d.memoizedState:_n.next)===null&&(d=d.alternate,Ve.H=d===null||d.memoizedState===null?pl:Ur),f}function Ot(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Tt(f);if(f.$$typeof===rs)return ir(f)}throw Error(r(438,String(f)))}function yt(f){var d=null,b=en.updateQueue;if(b!==null&&(d=b.memoCache),d==null){var T=en.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),b===null&&(b=Ld(),en.updateQueue=b),b.memoCache=d,b=d.data[d.index],b===void 0)for(b=d.data[d.index]=Array(f),T=0;T<f;T++)b[T]=p0;return d.index++,b}function Kt(f,d){return typeof d=="function"?d(f):d}function ue(f){var d=ht();return he(d,Ue,f)}function he(f,d,b){var T=f.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=b;var D=f.baseQueue,L=T.pending;if(L!==null){if(D!==null){var Z=D.next;D.next=L.next,L.next=Z}d.baseQueue=D=L,T.pending=null}if(L=f.baseState,D===null)f.memoizedState=L;else{d=D.next;var st=Z=null,bt=null,qt=d,re=!1;do{var me=qt.lane&-536870913;if(me!==qt.lane?(dn&me)===me:(_o&me)===me){var ye=qt.revertLane;if(ye===0)bt!==null&&(bt=bt.next={lane:0,revertLane:0,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null}),me===pa&&(re=!0);else if((_o&ye)===ye){qt=qt.next,ye===pa&&(re=!0);continue}else me={lane:0,revertLane:qt.revertLane,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},bt===null?(st=bt=me,Z=L):bt=bt.next=me,en.lanes|=ye,_a|=ye;me=qt.action,dl&&b(L,me),L=qt.hasEagerState?qt.eagerState:b(L,me)}else ye={lane:me,revertLane:qt.revertLane,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},bt===null?(st=bt=ye,Z=L):bt=bt.next=ye,en.lanes|=me,_a|=me;qt=qt.next}while(qt!==null&&qt!==d);if(bt===null?Z=L:bt.next=st,!Wr(L,f.memoizedState)&&(Yn=!0,re&&(b=$l,b!==null)))throw b;f.memoizedState=L,f.baseState=Z,f.baseQueue=bt,T.lastRenderedState=L}return D===null&&(T.lanes=0),[f.memoizedState,T.dispatch]}function xe(f){var d=ht(),b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=f;var T=b.dispatch,D=b.pending,L=d.memoizedState;if(D!==null){b.pending=null;var Z=D=D.next;do L=f(L,Z.action),Z=Z.next;while(Z!==D);Wr(L,d.memoizedState)||(Yn=!0),d.memoizedState=L,d.baseQueue===null&&(d.baseState=L),b.lastRenderedState=L}return[L,T]}function ze(f,d,b){var T=en,D=ht(),L=yn;if(L){if(b===void 0)throw Error(r(407));b=b()}else b=d();var Z=!Wr((Ue||D).memoizedState,b);if(Z&&(D.memoizedState=b,Yn=!0),D=D.queue,xm(ln.bind(null,T,D,f),[f]),D.getSnapshot!==d||Z||_n!==null&&_n.memoizedState.tag&1){if(T.flags|=2048,wr(9,we.bind(null,T,D,b,d),{destroy:void 0},null),Dn===null)throw Error(r(349));L||(_o&60)!==0||De(T,d,b)}return b}function De(f,d,b){f.flags|=16384,f={getSnapshot:d,value:b},d=en.updateQueue,d===null?(d=Ld(),en.updateQueue=d,d.stores=[f]):(b=d.stores,b===null?d.stores=[f]:b.push(f))}function we(f,d,b,T){d.value=b,d.getSnapshot=T,bn(d)&&oi(f)}function ln(f,d,b){return b(function(){bn(d)&&oi(f)})}function bn(f){var d=f.getSnapshot;f=f.value;try{var b=d();return!Wr(f,b)}catch{return!0}}function oi(f){var d=Pt(f,2);d!==null&&Xi(d,f,2)}function cn(f){var d=Y();if(typeof f=="function"){var b=f;if(f=b(),dl){q(!0);try{b()}finally{q(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:f},d}function hn(f,d,b,T){return f.baseState=b,he(f,Ue,typeof T=="function"?T:Kt)}function Ne(f,d,b,T,D){if(uf(f))throw Error(r(485));if(f=d.action,f!==null){var L={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){L.listeners.push(Z)}};Ve.T!==null?b(!0):L.isTransition=!1,T(L),b=d.pending,b===null?(L.next=d.pending=L,ci(d,L)):(L.next=b.next,d.pending=b.next=L)}}function ci(f,d){var b=d.action,T=d.payload,D=f.state;if(d.isTransition){var L=Ve.T,Z={};Ve.T=Z;try{var st=b(D,T),bt=Ve.S;bt!==null&&bt(Z,st),gn(f,d,st)}catch(qt){xs(f,d,qt)}finally{Ve.T=L}}else try{L=b(D,T),gn(f,d,L)}catch(qt){xs(f,d,qt)}}function gn(f,d,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(T){tr(f,d,T)},function(T){return xs(f,d,T)}):tr(f,d,b)}function tr(f,d,b){d.status="fulfilled",d.value=b,qn(d),f.state=b,d=f.pending,d!==null&&(b=d.next,b===d?f.pending=null:(b=b.next,d.next=b,ci(f,b)))}function xs(f,d,b){var T=f.pending;if(f.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=b,qn(d),d=d.next;while(d!==T)}f.action=null}function qn(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function Ss(f,d){return d}function Bn(f,d){if(yn){var b=Dn.formState;if(b!==null){t:{var T=en;if(yn){if(ur){var D=dv(ur,Wi);if(D){ur=pv(D),T=I0(D);break t}}$t(T)}T=!1}T&&(d=b[0])}}b=Y(),b.memoizedState=b.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:d},b.queue=T,b=Am.bind(null,en,T),T.dispatch=b,T=cn(!1);var L=zu.bind(null,en,!1,T.queue);return T=Y(),D={state:d,dispatch:null,action:f,pending:null},T.queue=D,b=Ne.bind(null,en,D,L,b),D.dispatch=b,T.memoizedState=f,[d,b,!1]}function er(f){var d=ht();return Ci(d,Ue,f)}function Ci(f,d,b){d=he(f,d,Ss)[0],f=ue(Kt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Tt(d):d;var T=ht(),D=T.queue,L=D.dispatch;return b!==T.memoizedState&&(en.flags|=2048,wr(9,Gi.bind(null,D,b),{destroy:void 0},null)),[d,L,f]}function Gi(f,d){f.action=d}function qi(f){var d=ht(),b=Ue;if(b!==null)return Ci(d,b,f);ht(),d=d.memoizedState,b=ht();var T=b.queue.dispatch;return b.memoizedState=f,[d,T,!1]}function wr(f,d,b,T){return f={tag:f,create:d,inst:b,deps:T,next:null},d=en.updateQueue,d===null&&(d=Ld(),en.updateQueue=d),b=d.lastEffect,b===null?d.lastEffect=f.next=f:(T=b.next,b.next=f,f.next=T,d.lastEffect=f),f}function Ms(){return ht().memoizedState}function rf(f,d,b,T){var D=Y();en.flags|=f,D.memoizedState=wr(1|d,b,{destroy:void 0},T===void 0?null:T)}function af(f,d,b,T){var D=ht();T=T===void 0?null:T;var L=D.memoizedState.inst;Ue!==null&&T!==null&&Ja(T,Ue.memoizedState.deps)?D.memoizedState=wr(d,b,L,T):(en.flags|=f,D.memoizedState=wr(1|d,b,L,T))}function Xh(f,d){rf(8390656,8,f,d)}function xm(f,d){af(2048,8,f,d)}function Xy(f,d){return af(4,2,f,d)}function sf(f,d){return af(4,4,f,d)}function Yh(f,d){if(typeof d=="function"){f=f();var b=d(f);return function(){typeof b=="function"?b():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Wh(f,d,b){b=b!=null?b.concat([f]):null,af(4,4,Yh.bind(null,d,f),b)}function Fo(){}function Il(f,d){var b=ht();d=d===void 0?null:d;var T=b.memoizedState;return d!==null&&Ja(d,T[1])?T[0]:(b.memoizedState=[f,d],f)}function Sm(f,d){var b=ht();d=d===void 0?null:d;var T=b.memoizedState;if(d!==null&&Ja(d,T[1]))return T[0];if(T=f(),dl){q(!0);try{f()}finally{q(!1)}}return b.memoizedState=[T,d],T}function of(f,d,b){return b===void 0||(_o&1073741824)!==0?f.memoizedState=d:(f.memoizedState=b,f=qm(),en.lanes|=f,_a|=f,b)}function Mm(f,d,b,T){return Wr(b,d)?b:$n.current!==null?(f=of(f,b,T),Wr(f,d)||(Yn=!0),f):(_o&42)===0?(Yn=!0,f.memoizedState=b):(f=qm(),en.lanes|=f,_a|=f,d)}function Iu(f,d,b,T,D){var L=mo();yr(L!==0&&8>L?L:8);var Z=Ve.T,st={};Ve.T=st,zu(f,!1,d,b);try{var bt=D(),qt=Ve.S;if(qt!==null&&qt(st,bt),bt!==null&&typeof bt=="object"&&typeof bt.then=="function"){var re=tn(bt,T);jo(f,d,re,bi(f))}else jo(f,d,T,bi(f))}catch(me){jo(f,d,{then:function(){},status:"rejected",reason:me},bi())}finally{yr(L),Ve.T=Z}}function Es(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:il,baseState:il,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:il},next:null};var b={};return d.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:b},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function lf(){return ir(as)}function Bu(){return ht().memoizedState}function Js(){return ht().memoizedState}function Em(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var b=bi();f=Me(b);var T=Ee(d,f,b);T!==null&&(Xi(T,d,b),oe(T,d,b)),d={cache:ko()},f.payload=d;return}d=d.return}}function Zh(f,d,b){var T=bi();b={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},uf(f)?Or(d,b):(b=It(f,d,b,T),b!==null&&(Xi(b,f,T),Vo(b,d,T)))}function Am(f,d,b){var T=bi();jo(f,d,b,T)}function jo(f,d,b,T){var D={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(uf(f))Or(d,D);else{var L=f.alternate;if(f.lanes===0&&(L===null||L.lanes===0)&&(L=d.lastRenderedReducer,L!==null))try{var Z=d.lastRenderedState,st=L(Z,b);if(D.hasEagerState=!0,D.eagerState=st,Wr(st,Z))return Be(f,d,D,0),Dn===null&&nt(),!1}catch{}finally{}if(b=It(f,d,D,T),b!==null)return Xi(b,f,T),Vo(b,d,T),!0}return!1}function zu(f,d,b,T){if(T={lane:2,revertLane:le(),action:T,hasEagerState:!1,eagerState:null,next:null},uf(f)){if(d)throw Error(r(479))}else d=It(f,b,T,2),d!==null&&Xi(d,f,2)}function uf(f){var d=f.alternate;return f===en||d!==null&&d===en}function Or(f,d){Jl=Ha=!0;var b=f.pending;b===null?d.next=d:(d.next=b.next,b.next=d),f.pending=d}function Vo(f,d,b){if((b&4194176)!==0){var T=d.lanes;T&=f.pendingLanes,b|=T,d.lanes=b,tt(f,b)}}function Hu(f,d,b,T){d=f.memoizedState,b=b(T,d),b=b==null?d:pd({},d,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}function Fu(f,d,b,T,D,L,Z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,L,Z):d.prototype&&d.prototype.isPureReactComponent?!Dt(b,T)||!Dt(D,L):!0}function Yy(f,d,b,T){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,T),d.state!==f&&Us.enqueueReplaceState(d,d.state,null)}function to(f,d){var b=d;if("ref"in d){b={};for(var T in d)T!=="ref"&&(b[T]=d[T])}if(f=f.defaultProps){b===d&&(b=pd({},b));for(var D in f)b[D]===void 0&&(b[D]=f[D])}return b}function ju(f,d){try{var b=f.onUncaughtError;b(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Vu(f,d,b){try{var T=f.onCaughtError;T(b.value,{componentStack:b.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Gu(f,d,b){return b=Me(b),b.tag=3,b.payload={element:null},b.callback=function(){ju(f,d)},b}function Tm(f){return f=Me(f),f.tag=3,f}function Wy(f,d,b,T){var D=b.type.getDerivedStateFromError;if(typeof D=="function"){var L=T.value;f.payload=function(){return D(L)},f.callback=function(){Vu(d,b,T)}}var Z=b.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(f.callback=function(){Vu(d,b,T),typeof D!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var st=T.stack;this.componentDidCatch(T.value,{componentStack:st!==null?st:""})})}function R1(f,d,b,T,D){if(b.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=b.alternate,d!==null&&df(d,b,D,!0),b=ma.current,b!==null){switch(b.tag){case 13:return Xn===null?lo():b.alternate===null&&Wn===0&&(Wn=3),b.flags&=-257,b.flags|=65536,b.lanes=D,T===kf?b.flags|=16384:(d=b.updateQueue,d===null?b.updateQueue=new Set([T]):d.add(T),Hl(f,T,D)),!1;case 22:return b.flags|=65536,T===kf?b.flags|=16384:(d=b.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},b.updateQueue=d):(b=d.retryQueue,b===null?d.retryQueue=new Set([T]):b.add(T)),Hl(f,T,D)),!1}throw Error(r(435,b.tag))}return Hl(f,T,D),lo(),!1}if(yn)return d=ma.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,T!==Vf&&(f=Error(r(422),{cause:T}),be(it(f,b)))):(T!==Vf&&(d=Error(r(423),{cause:T}),be(it(d,b))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,T=it(T,b),D=Gu(f.stateNode,T,D),ut(f,D),Wn!==4&&(Wn=2)),!1;var L=Error(r(520),{cause:T});if(L=it(L,b),nu===null?nu=[L]:nu.push(L),Wn!==4&&(Wn=2),d===null)return!0;T=it(T,b),b=d;do{switch(b.tag){case 3:return b.flags|=65536,f=D&-D,b.lanes|=f,f=Gu(b.stateNode,T,f),ut(b,f),!1;case 1:if(d=b.type,L=b.stateNode,(b.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ml===null||!ml.has(L))))return b.flags|=65536,D&=-D,b.lanes|=D,D=Tm(D),Wy(D,f,b,T),ut(b,D),!1}b=b.return}while(b!==null);return!1}function nr(f,d,b,T){d.child=f===null?Ps(d,null,b,T):hl(d,f.child,b,T)}function Kh(f,d,b,T,D){b=b.render;var L=d.ref;if("ref"in T){var Z={};for(var st in T)st!=="ref"&&(Z[st]=T[st])}else Z=T;return qo(d),T=ts(f,d,b,Z,L,D),st=Uu(),f!==null&&!Yn?(Lu(f,d,D),eo(f,d,D)):(yn&&st&&ot(d),d.flags|=1,nr(f,d,T,D),d.child)}function Zy(f,d,b,T,D){if(f===null){var L=b.type;return typeof L=="function"&&!Tf(L)&&L.defaultProps===void 0&&b.compare===null?(d.tag=15,d.type=L,Ky(f,d,L,T,D)):(f=ws(b.type,null,T,d,d.mode,D),f.ref=d.ref,f.return=d,d.child=f)}if(L=f.child,!Dm(f,D)){var Z=L.memoizedProps;if(b=b.compare,b=b!==null?b:Dt,b(Z,T)&&f.ref===d.ref)return eo(f,d,D)}return d.flags|=1,f=Na(L,T),f.ref=d.ref,f.return=d,d.child=f}function Ky(f,d,b,T,D){if(f!==null){var L=f.memoizedProps;if(Dt(L,T)&&f.ref===d.ref)if(Yn=!1,d.pendingProps=T=L,Dm(f,D))(f.flags&131072)!==0&&(Yn=!0);else return d.lanes=f.lanes,eo(f,d,D)}return $h(f,d,b,T,D)}function $y(f,d,b){var T=d.pendingProps,D=T.children,L=(d.stateNode._pendingVisibility&2)!==0,Z=f!==null?f.memoizedState:null;if(cf(f,d),T.mode==="hidden"||L){if((d.flags&128)!==0){if(T=Z!==null?Z.baseLanes|b:b,f!==null){for(D=d.child=f.child,L=0;D!==null;)L=L|D.lanes|D.childLanes,D=D.sibling;d.childLanes=L&~T}else d.childLanes=0,d.child=null;return Qy(f,d,T,b)}if((b&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&Jh(d,Z!==null?Z.cachePool:null),Z!==null?wi(d,Z):Ii(),nf(d);else return d.lanes=d.childLanes=536870912,Qy(f,d,Z!==null?Z.baseLanes|b:b,b)}else Z!==null?(Jh(d,Z.cachePool),wi(d,Z),$a(),d.memoizedState=null):(f!==null&&Jh(d,null),Ii(),$a());return nr(f,d,D,b),d.child}function Qy(f,d,b,T){var D=Pm();return D=D===null?null:{parent:Dr?Qn._currentValue:Qn._currentValue2,pool:D},d.memoizedState={baseLanes:b,cachePool:D},f!==null&&Jh(d,null),Ii(),nf(d),f!==null&&df(f,d,T,!0),null}function cf(f,d){var b=d.ref;if(b===null)f!==null&&f.ref!==null&&(d.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(f===null||f.ref!==b)&&(d.flags|=2097664)}}function $h(f,d,b,T,D){return qo(d),b=ts(f,d,b,T,void 0,D),T=Uu(),f!==null&&!Yn?(Lu(f,d,D),eo(f,d,D)):(yn&&T&&ot(d),d.flags|=1,nr(f,d,b,D),d.child)}function Jy(f,d,b,T,D,L){return qo(d),d.updateQueue=null,b=Qs(d,T,b,D),Ho(f),T=Uu(),f!==null&&!Yn?(Lu(f,d,L),eo(f,d,L)):(yn&&T&&ot(d),d.flags|=1,nr(f,d,b,L),d.child)}function t0(f,d,b,T,D){if(qo(d),d.stateNode===null){var L=ol,Z=b.contextType;typeof Z=="object"&&Z!==null&&(L=ir(Z)),L=new b(T,L),d.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Us,d.stateNode=L,L._reactInternals=d,L=d.stateNode,L.props=T,L.state=d.memoizedState,L.refs={},Jt(d),Z=b.contextType,L.context=typeof Z=="object"&&Z!==null?ir(Z):ol,L.state=d.memoizedState,Z=b.getDerivedStateFromProps,typeof Z=="function"&&(Hu(d,b,Z,T),L.state=d.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(Z=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),Z!==L.state&&Us.enqueueReplaceState(L,L.state,null),ce(d,T,L,D),Ft(),L.state=d.memoizedState),typeof L.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(f===null){L=d.stateNode;var st=d.memoizedProps,bt=to(b,st);L.props=bt;var qt=L.context,re=b.contextType;Z=ol,typeof re=="object"&&re!==null&&(Z=ir(re));var me=b.getDerivedStateFromProps;re=typeof me=="function"||typeof L.getSnapshotBeforeUpdate=="function",st=d.pendingProps!==st,re||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(st||qt!==Z)&&Yy(d,L,T,Z),bo=!1;var ye=d.memoizedState;L.state=ye,ce(d,T,L,D),Ft(),qt=d.memoizedState,st||ye!==qt||bo?(typeof me=="function"&&(Hu(d,b,me,T),qt=d.memoizedState),(bt=bo||Fu(d,b,bt,T,ye,qt,Z))?(re||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(d.flags|=4194308)):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=qt),L.props=T,L.state=qt,L.context=Z,T=bt):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{L=d.stateNode,ge(f,d),Z=d.memoizedProps,re=to(b,Z),L.props=re,me=d.pendingProps,ye=L.context,qt=b.contextType,bt=ol,typeof qt=="object"&&qt!==null&&(bt=ir(qt)),st=b.getDerivedStateFromProps,(qt=typeof st=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Z!==me||ye!==bt)&&Yy(d,L,T,bt),bo=!1,ye=d.memoizedState,L.state=ye,ce(d,T,L,D),Ft();var Ye=d.memoizedState;Z!==me||ye!==Ye||bo||f!==null&&f.dependencies!==null&&pf(f.dependencies)?(typeof st=="function"&&(Hu(d,b,st,T),Ye=d.memoizedState),(re=bo||Fu(d,b,re,T,ye,Ye,bt)||f!==null&&f.dependencies!==null&&pf(f.dependencies))?(qt||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(T,Ye,bt),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(T,Ye,bt)),typeof L.componentDidUpdate=="function"&&(d.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof L.componentDidUpdate!="function"||Z===f.memoizedProps&&ye===f.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Z===f.memoizedProps&&ye===f.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ye),L.props=T,L.state=Ye,L.context=bt,T=re):(typeof L.componentDidUpdate!="function"||Z===f.memoizedProps&&ye===f.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Z===f.memoizedProps&&ye===f.memoizedState||(d.flags|=1024),T=!1)}return L=T,cf(f,d),T=(d.flags&128)!==0,L||T?(L=d.stateNode,b=T&&typeof b.getDerivedStateFromError!="function"?null:L.render(),d.flags|=1,f!==null&&T?(d.child=hl(d,f.child,null,D),d.child=hl(d,null,b,D)):nr(f,d,b,D),d.memoizedState=L.state,f=d.child):f=eo(f,d,D),f}function e0(f,d,b,T){return Lt(),d.flags|=256,nr(f,d,b,T),d.child}function wm(f){return{baseLanes:f,cachePool:Um()}}function ff(f,d,b){return f=f!==null?f.childLanes&~b:0,d&&(f|=xa),f}function n0(f,d,b){var T=d.pendingProps,D=!1,L=(d.flags&128)!==0,Z;if((Z=L)||(Z=f!==null&&f.memoizedState===null?!1:(Hi.current&2)!==0),Z&&(D=!0,d.flags&=-129),Z=(d.flags&32)!==0,d.flags&=-33,f===null){if(yn){if(D?Fr(d):$a(),yn){var st=ur,bt;(bt=st)&&(st=H0(st,Wi),st!==null?(d.memoizedState={dehydrated:st,treeContext:ll!==null?{id:os,overflow:ls}:null,retryLane:536870912},bt=e(18,null,null,0),bt.stateNode=st,bt.return=d,d.child=bt,lr=d,ur=null,bt=!0):bt=!1),bt||$t(d)}if(st=d.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return Ed(st)?d.lanes=16:d.lanes=536870912,null;Tr(d)}return st=T.children,T=T.fallback,D?($a(),D=d.mode,st=Cm({mode:"hidden",children:st},D),T=pi(T,D,b,null),st.return=d,T.return=d,st.sibling=T,d.child=st,D=d.child,D.memoizedState=wm(b),D.childLanes=ff(f,Z,b),d.memoizedState=zd,T):(Fr(d),Om(d,st))}if(bt=f.memoizedState,bt!==null&&(st=bt.dehydrated,st!==null)){if(L)d.flags&256?(Fr(d),d.flags&=-257,d=Qh(f,d,b)):d.memoizedState!==null?($a(),d.child=f.child,d.flags|=128,d=null):($a(),D=T.fallback,st=d.mode,T=Cm({mode:"visible",children:T.children},st),D=pi(D,st,b,null),D.flags|=2,T.return=d,D.return=d,T.sibling=D,d.child=T,hl(d,f.child,null,b),T=d.child,T.memoizedState=wm(b),T.childLanes=ff(f,Z,b),d.memoizedState=zd,d=D);else if(Fr(d),Ed(st))Z=U0(st).digest,T=Error(r(419)),T.stack="",T.digest=Z,be({value:T,source:null,stack:null}),d=Qh(f,d,b);else if(Yn||df(f,d,b,!1),Z=(b&f.childLanes)!==0,Yn||Z){if(Z=Dn,Z!==null){if(T=b&-b,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&(Z.suspendedLanes|b))!==0?0:T,T!==0&&T!==bt.retryLane)throw bt.retryLane=T,Pt(f,T),Xi(Z,f,T),Bd}Md(st)||lo(),d=Qh(f,d,b)}else Md(st)?(d.flags|=128,d.child=f.child,d=uo.bind(null,f),L0(st,d),d=null):(f=bt.treeContext,or&&(ur=z0(st),lr=d,yn=!0,Ba=null,Wi=!1,f!==null&&(ha[da++]=os,ha[da++]=ls,ha[da++]=ll,os=f.id,ls=f.overflow,ll=d)),d=Om(d,T.children),d.flags|=4096);return d}return D?($a(),D=T.fallback,st=d.mode,bt=f.child,L=bt.sibling,T=Na(bt,{mode:"hidden",children:T.children}),T.subtreeFlags=bt.subtreeFlags&31457280,L!==null?D=Na(L,D):(D=pi(D,st,b,null),D.flags|=2),D.return=d,T.return=d,T.sibling=D,d.child=T,T=D,D=d.child,st=f.child.memoizedState,st===null?st=wm(b):(bt=st.cachePool,bt!==null?(L=Dr?Qn._currentValue:Qn._currentValue2,bt=bt.parent!==L?{parent:L,pool:L}:bt):bt=Um(),st={baseLanes:st.baseLanes|b,cachePool:bt}),D.memoizedState=st,D.childLanes=ff(f,Z,b),d.memoizedState=zd,T):(Fr(d),b=f.child,f=b.sibling,b=Na(b,{mode:"visible",children:T.children}),b.return=d,b.sibling=null,f!==null&&(Z=d.deletions,Z===null?(d.deletions=[f],d.flags|=16):Z.push(f)),d.child=b,d.memoizedState=null,b)}function Om(f,d){return d=Cm({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function Cm(f,d){return Of(f,d,0,null)}function Qh(f,d,b){return hl(d,f.child,null,b),f=Om(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function i0(f,d,b){f.lanes|=d;var T=f.alternate;T!==null&&(T.lanes|=d),hf(f.return,d,b)}function Rm(f,d,b,T,D){var L=f.memoizedState;L===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:D}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=T,L.tail=b,L.tailMode=D)}function r0(f,d,b){var T=d.pendingProps,D=T.revealOrder,L=T.tail;if(nr(f,d,T.children,b),T=Hi.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)t:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&i0(f,b,d);else if(f.tag===19)i0(f,b,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break t;for(;f.sibling===null;){if(f.return===null||f.return===d)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}switch(w(Hi,T),D){case"forwards":for(b=d.child,D=null;b!==null;)f=b.alternate,f!==null&&Qa(f)===null&&(D=b),b=b.sibling;b=D,b===null?(D=d.child,d.child=null):(D=b.sibling,b.sibling=null),Rm(d,!1,D,b,L);break;case"backwards":for(b=null,D=d.child,d.child=null;D!==null;){if(f=D.alternate,f!==null&&Qa(f)===null){d.child=D;break}f=D.sibling,D.sibling=b,b=D,D=f}Rm(d,!0,b,null,L);break;case"together":Rm(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function eo(f,d,b){if(f!==null&&(d.dependencies=f.dependencies),_a|=d.lanes,(b&d.childLanes)===0)if(f!==null){if(df(f,d,b,!1),(b&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,b=Na(f,f.pendingProps),d.child=b,b.return=d;f.sibling!==null;)f=f.sibling,b=b.sibling=Na(f,f.pendingProps),b.return=d;b.sibling=null}return d.child}function Dm(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&pf(f)))}function D1(f,d,b){switch(d.tag){case 3:rt(d,d.stateNode.containerInfo),Go(d,Qn,f.memoizedState.cache),Lt();break;case 27:case 5:Ut(d);break;case 4:rt(d,d.stateNode.containerInfo);break;case 10:Go(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(Fr(d),d.flags|=128,null):(b&d.child.childLanes)!==0?n0(f,d,b):(Fr(d),f=eo(f,d,b),f!==null?f.sibling:null);Fr(d);break;case 19:var D=(f.flags&128)!==0;if(T=(b&d.childLanes)!==0,T||(df(f,d,b,!1),T=(b&d.childLanes)!==0),D){if(T)return r0(f,d,b);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),w(Hi,Hi.current),T)break;return null;case 22:case 23:return d.lanes=0,$y(f,d,b);case 24:Go(d,Qn,f.memoizedState.cache)}return eo(f,d,b)}function a0(f,d,b){if(f!==null)if(f.memoizedProps!==d.pendingProps)Yn=!0;else{if(!Dm(f,b)&&(d.flags&128)===0)return Yn=!1,D1(f,d,b);Yn=(f.flags&131072)!==0}else Yn=!1,yn&&(d.flags&1048576)!==0&&et(d,cc,d.index);switch(d.lanes=0,d.tag){case 16:t:{f=d.pendingProps;var T=d.elementType,D=T._init;if(T=D(T._payload),d.type=T,typeof T=="function")Tf(T)?(f=to(T,f),d.tag=1,d=t0(null,d,T,f,b)):(d.tag=0,d=$h(null,d,T,f,b));else{if(T!=null){if(D=T.$$typeof,D===Pf){d.tag=11,d=Kh(null,d,T,f,b);break t}else if(D===gd){d.tag=14,d=Zy(null,d,T,f,b);break t}}throw d=o(T)||T,Error(r(306,d,""))}}return d;case 0:return $h(f,d,d.type,d.pendingProps,b);case 1:return T=d.type,D=to(T,d.pendingProps),t0(f,d,T,D,b);case 3:t:{if(rt(d,d.stateNode.containerInfo),f===null)throw Error(r(387));var L=d.pendingProps;D=d.memoizedState,T=D.element,ge(f,d),ce(d,L,null,b);var Z=d.memoizedState;if(L=Z.cache,Go(d,Qn,L),L!==D.cache&&Bl(d,[Qn],b,!0),Ft(),L=Z.element,or&&D.isDehydrated)if(D={element:L,isDehydrated:!1,cache:Z.cache},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){d=e0(f,d,L,b);break t}else if(L!==T){T=it(Error(r(424)),d),be(T),d=e0(f,d,L,b);break t}else for(or&&(ur=B0(d.stateNode.containerInfo),lr=d,yn=!0,Ba=null,Wi=!0),b=Ps(d,null,L,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Lt(),L===T){d=eo(f,d,b);break t}nr(f,d,L,b)}d=d.child}return d;case 26:if(fa)return cf(f,d),f===null?(b=gv(d.type,null,d.pendingProps,null))?d.memoizedState=b:yn||(d.stateNode=Cd(d.type,d.pendingProps,Ds.current,d)):d.memoizedState=gv(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(kn)return Ut(d),f===null&&kn&&yn&&(T=d.stateNode=ss(d.type,d.pendingProps,Ds.current,zi.current,!1),lr=d,Wi=!0,ur=Ad(T)),T=d.pendingProps.children,f!==null||yn?nr(f,d,T,b):d.child=hl(d,null,T,b),cf(f,d),d.child;case 5:return f===null&&yn&&(wd(d.type,d.pendingProps,zi.current),(D=T=ur)&&(T=z1(T,d.type,d.pendingProps,Wi),T!==null?(d.stateNode=T,lr=d,ur=Ad(T),Wi=!1,D=!0):D=!1),D||$t(d)),Ut(d),D=d.type,L=d.pendingProps,Z=f!==null?f.memoizedProps:null,T=L.children,Ze(D,L)?T=null:Z!==null&&Ze(D,Z)&&(d.flags|=32),d.memoizedState!==null&&(D=ts(f,d,Oi,null,null,b),Dr?as._currentValue=D:as._currentValue2=D),cf(f,d),nr(f,d,T,b),d.child;case 6:return f===null&&yn&&(q0(d.pendingProps,zi.current),(f=b=ur)&&(b=mv(b,d.pendingProps,Wi),b!==null?(d.stateNode=b,lr=d,ur=null,f=!0):f=!1),f||$t(d)),null;case 13:return n0(f,d,b);case 4:return rt(d,d.stateNode.containerInfo),T=d.pendingProps,f===null?d.child=hl(d,null,T,b):nr(f,d,T,b),d.child;case 11:return Kh(f,d,d.type,d.pendingProps,b);case 7:return nr(f,d,d.pendingProps,b),d.child;case 8:return nr(f,d,d.pendingProps.children,b),d.child;case 12:return nr(f,d,d.pendingProps.children,b),d.child;case 10:return T=d.pendingProps,Go(d,d.type,T.value),nr(f,d,T.children,b),d.child;case 9:return D=d.type._context,T=d.pendingProps.children,qo(d),D=ir(D),T=T(D),d.flags|=1,nr(f,d,T,b),d.child;case 14:return Zy(f,d,d.type,d.pendingProps,b);case 15:return Ky(f,d,d.type,d.pendingProps,b);case 19:return r0(f,d,b);case 22:return $y(f,d,b);case 24:return qo(d),T=ir(Qn),f===null?(D=Pm(),D===null&&(D=Dn,L=ko(),D.pooledCache=L,L.refCount++,L!==null&&(D.pooledCacheLanes|=b),D=L),d.memoizedState={parent:T,cache:D},Jt(d),Go(d,Qn,D)):((f.lanes&b)!==0&&(ge(f,d),ce(d,null,null,b),Ft()),D=f.memoizedState,L=d.memoizedState,D.parent!==T?(D={parent:T,cache:T},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),Go(d,Qn,T)):(T=L.cache,Go(d,Qn,T),T!==D.cache&&Bl(d,[Qn],b,!0))),nr(f,d,d.pendingProps.children,b),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Go(f,d,b){Dr?(w(xo,d._currentValue),d._currentValue=b):(w(xo,d._currentValue2),d._currentValue2=b)}function no(f){var d=xo.current;Dr?f._currentValue=d:f._currentValue2=d,M(xo)}function hf(f,d,b){for(;f!==null;){var T=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),f===b)break;f=f.return}}function Bl(f,d,b,T){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var L=D.dependencies;if(L!==null){var Z=D.child;L=L.firstContext;t:for(;L!==null;){var st=L;L=D;for(var bt=0;bt<d.length;bt++)if(st.context===d[bt]){L.lanes|=b,st=L.alternate,st!==null&&(st.lanes|=b),hf(L.return,b,f),T||(Z=null);break t}L=st.next}}else if(D.tag===18){if(Z=D.return,Z===null)throw Error(r(341));Z.lanes|=b,L=Z.alternate,L!==null&&(L.lanes|=b),hf(Z,b,f),Z=null}else Z=D.child;if(Z!==null)Z.return=D;else for(Z=D;Z!==null;){if(Z===f){Z=null;break}if(D=Z.sibling,D!==null){D.return=Z.return,Z=D;break}Z=Z.return}D=Z}}function df(f,d,b,T){f=null;for(var D=d,L=!1;D!==null;){if(!L){if((D.flags&524288)!==0)L=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var Z=D.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var st=D.type;Wr(D.pendingProps.value,Z.value)||(f!==null?f.push(st):f=[st])}}else if(D===Yl.current){if(Z=D.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(as):f=[as])}D=D.return}f!==null&&Bl(d,f,b,T),d.flags|=262144}function pf(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!Wr(Dr?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function qo(f){fs=f,ga=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ir(f){return Nm(fs,f)}function mf(f,d){return fs===null&&qo(f),Nm(f,d)}function Nm(f,d){var b=Dr?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:b,next:null},ga===null){if(f===null)throw Error(r(308));ga=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else ga=ga.next=d;return b}function ko(){return{controller:new vc,data:new Map,refCount:0}}function vf(f){f.refCount--,f.refCount===0&&eb(nb,function(){f.controller.abort()})}function Pm(){var f=Ls.current;return f!==null?f:Dn.pooledCache}function Jh(f,d){d===null?w(Ls,Ls.current):w(Ls,d.pool)}function Um(){var f=Pm();return f===null?null:{parent:Dr?Qn._currentValue:Qn._currentValue2,pool:f}}function jr(f){f.flags|=4}function qu(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function zl(f,d,b,T){if(Bi)for(b=d.child;b!==null;){if(b.tag===5||b.tag===6)Lf(f,b.stateNode);else if(!(b.tag===4||kn&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(La)for(var D=d.child;D!==null;){if(D.tag===5){var L=D.stateNode;b&&T&&(L=fv(L,D.type,D.memoizedProps)),Lf(f,L)}else if(D.tag===6)L=D.stateNode,b&&T&&(L=hv(L,D.memoizedProps)),Lf(f,L);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)L=D.child,L!==null&&(L.return=D),zl(f,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function s0(f,d,b,T){if(La)for(var D=d.child;D!==null;){if(D.tag===5){var L=D.stateNode;b&&T&&(L=fv(L,D.type,D.memoizedProps)),cv(f,L)}else if(D.tag===6)L=D.stateNode,b&&T&&(L=hv(L,D.memoizedProps)),cv(f,L);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)L=D.child,L!==null&&(L.return=D),s0(f,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function gf(f,d){if(La&&qu(f,d)){f=d.stateNode;var b=f.containerInfo,T=If();s0(T,d,!1,!1),f.pendingChildren=T,jr(d),Sd(b,T)}}function td(f,d,b,T){if(Bi)f.memoizedProps!==T&&jr(d);else if(La){var D=f.stateNode,L=f.memoizedProps;if((f=qu(f,d))||L!==T){var Z=zi.current;L=oc(D,b,L,T,!f,null),L===D?d.stateNode=D:(po(L,b,T,Z)&&jr(d),d.stateNode=L,f?zl(L,d,!1,!1):jr(d))}else d.stateNode=D}}function ed(f,d,b){if(nv(d,b)){if(f.flags|=16777216,!_d(d,b))if($o())f.flags|=8192;else throw ul=kf,qf}else f.flags&=-16777217}function nd(f,d){if(Y0(d)){if(f.flags|=16777216,!Vl(d))if($o())f.flags|=8192;else throw ul=kf,qf}else f.flags&=-16777217}function ku(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?I():536870912,f.lanes|=d,zs|=d)}function Xu(f,d){if(!yn)switch(f.tailMode){case"hidden":d=f.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function li(f){var d=f.alternate!==null&&f.alternate.child===f.child,b=0,T=0;if(d)for(var D=f.child;D!==null;)b|=D.lanes|D.childLanes,T|=D.subtreeFlags&31457280,T|=D.flags&31457280,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)b|=D.lanes|D.childLanes,T|=D.subtreeFlags,T|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=T,f.childLanes=b,d}function o0(f,d,b){var T=d.pendingProps;switch(mt(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(d),null;case 1:return li(d),null;case 3:return b=d.stateNode,T=null,f!==null&&(T=f.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),no(Qn),_t(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(f===null||f.child===null)&&(se(d)?jr(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ba!==null&&(Ef(Ba),Ba=null))),gf(f,d),li(d),null;case 26:if(fa){b=d.type;var D=d.memoizedState;return f===null?(jr(d),D!==null?(li(d),nd(d,D)):(li(d),ed(d,b,T))):D?D!==f.memoizedState?(jr(d),li(d),nd(d,D)):(li(d),d.flags&=-16777217):(Bi?f.memoizedProps!==T&&jr(d):td(f,d,b,T),li(d),ed(d,b,T)),null}case 27:if(kn){if(Zt(d),b=Ds.current,D=d.type,f!==null&&d.stateNode!=null)Bi?f.memoizedProps!==T&&jr(d):td(f,d,D,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return li(d),null}f=zi.current,se(d)?wt(d,f):(f=ss(D,T,b,f,!0),d.stateNode=f,jr(d))}return li(d),null}case 5:if(Zt(d),b=d.type,f!==null&&d.stateNode!=null)td(f,d,b,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return li(d),null}f=zi.current,se(d)?wt(d,f):(D=ev(b,T,Ds.current,f,d),zl(D,d,!1,!1),d.stateNode=D,po(D,b,T,f)&&jr(d))}return li(d),ed(d,d.type,d.pendingProps),null;case 6:if(f&&d.stateNode!=null)b=f.memoizedProps,Bi?b!==T&&jr(d):La&&(b!==T?(d.stateNode=Un(T,Ds.current,zi.current,d),jr(d)):d.stateNode=f.stateNode);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(f=Ds.current,b=zi.current,se(d)){if(!or)throw Error(r(176));if(f=d.stateNode,b=d.memoizedProps,T=null,D=lr,D!==null)switch(D.tag){case 27:case 5:T=D.memoizedProps}vv(f,b,d,T)||$t(d)}else d.stateNode=Un(T,f,b,d)}return li(d),null;case 13:if(T=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=se(d),T!==null&&T.dehydrated!==null){if(f===null){if(!D)throw Error(r(318));if(!or)throw Error(r(344));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));j0(D,d)}else Lt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;li(d),D=!1}else Ba!==null&&(Ef(Ba),Ba=null),D=!0;if(!D)return d.flags&256?(Tr(d),d):(Tr(d),null)}if(Tr(d),(d.flags&128)!==0)return d.lanes=b,d;if(b=T!==null,f=f!==null&&f.memoizedState!==null,b){T=d.child,D=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(D=T.alternate.memoizedState.cachePool.pool);var L=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(L=T.memoizedState.cachePool.pool),L!==D&&(T.flags|=2048)}return b!==f&&b&&(d.child.flags|=8192),ku(d,d.updateQueue),li(d),null;case 4:return _t(),gf(f,d),f===null&&_i(d.stateNode.containerInfo),li(d),null;case 10:return no(d.type),li(d),null;case 19:if(M(Hi),D=d.memoizedState,D===null)return li(d),null;if(T=(d.flags&128)!==0,L=D.rendering,L===null)if(T)Xu(D,!1);else{if(Wn!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(L=Qa(f),L!==null){for(d.flags|=128,Xu(D,!1),f=L.updateQueue,d.updateQueue=f,ku(d,f),d.subtreeFlags=0,f=b,b=d.child;b!==null;)wf(b,f),b=b.sibling;return w(Hi,Hi.current&1|2),d.child}f=f.sibling}D.tail!==null&&Ia()>bc&&(d.flags|=128,T=!0,Xu(D,!1),d.lanes=4194304)}else{if(!T)if(f=Qa(L),f!==null){if(d.flags|=128,T=!0,f=f.updateQueue,d.updateQueue=f,ku(d,f),Xu(D,!0),D.tail===null&&D.tailMode==="hidden"&&!L.alternate&&!yn)return li(d),null}else 2*Ia()-D.renderingStartTime>bc&&b!==536870912&&(d.flags|=128,T=!0,Xu(D,!1),d.lanes=4194304);D.isBackwards?(L.sibling=d.child,d.child=L):(f=D.last,f!==null?f.sibling=L:d.child=L,D.last=L)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=Ia(),d.sibling=null,f=Hi.current,w(Hi,T?f&1|2:f&1),d):(li(d),null);case 22:case 23:return Tr(d),vr(),T=d.memoizedState!==null,f!==null?f.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(b&536870912)!==0&&(d.flags&128)===0&&(li(d),d.subtreeFlags&6&&(d.flags|=8192)):li(d),b=d.updateQueue,b!==null&&ku(d,b.retryQueue),b=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==b&&(d.flags|=2048),f!==null&&M(Ls),null;case 24:return b=null,f!==null&&(b=f.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),no(Qn),li(d),null;case 25:return null}throw Error(r(156,d.tag))}function N1(f,d){switch(mt(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return no(Qn),_t(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return Zt(d),null;case 13:if(Tr(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Lt()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return M(Hi),null;case 4:return _t(),null;case 10:return no(d.type),null;case 22:case 23:return Tr(d),vr(),f!==null&&M(Ls),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return no(Qn),null;case 25:return null;default:return null}}function l0(f,d){switch(mt(d),d.tag){case 3:no(Qn),_t();break;case 26:case 27:case 5:Zt(d);break;case 4:_t();break;case 13:Tr(d);break;case 19:M(Hi);break;case 10:no(d.type);break;case 22:case 23:Tr(d),vr(),f!==null&&M(Ls);break;case 24:no(Qn)}}function yf(f,d){try{var b=d.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var D=T.next;b=D;do{if((b.tag&f)===f){T=void 0;var L=b.create,Z=b.inst;T=L(),Z.destroy=T}b=b.next}while(b!==D)}}catch(st){Cn(d,d.return,st)}}function Xo(f,d,b){try{var T=d.updateQueue,D=T!==null?T.lastEffect:null;if(D!==null){var L=D.next;T=L;do{if((T.tag&f)===f){var Z=T.inst,st=Z.destroy;if(st!==void 0){Z.destroy=void 0,D=d;var bt=b;try{st()}catch(qt){Cn(D,bt,qt)}}}T=T.next}while(T!==L)}}catch(qt){Cn(d,d.return,qt)}}function u0(f){var d=f.updateQueue;if(d!==null){var b=f.stateNode;try{ee(d,b)}catch(T){Cn(f,f.return,T)}}}function Vr(f,d,b){b.props=to(f.type,f.memoizedProps),b.state=f.memoizedState;try{b.componentWillUnmount()}catch(T){Cn(f,d,T)}}function ns(f,d){try{var b=f.ref;if(b!==null){var T=f.stateNode;switch(f.tag){case 26:case 27:case 5:var D=rc(T);break;default:D=T}typeof b=="function"?f.refCleanup=b(D):b.current=D}}catch(L){Cn(f,d,L)}}function Gr(f,d){var b=f.ref,T=f.refCleanup;if(b!==null)if(typeof T=="function")try{T()}catch(D){Cn(f,d,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(D){Cn(f,d,D)}else b.current=null}function Lm(f){var d=f.type,b=f.memoizedProps,T=f.stateNode;try{I1(T,d,b,f)}catch(D){Cn(f,f.return,D)}}function Im(f,d,b){try{T0(f.stateNode,f.type,b,d,f)}catch(T){Cn(f,f.return,T)}}function Bm(f){return f.tag===5||f.tag===3||(fa?f.tag===26:!1)||(kn?f.tag===27:!1)||f.tag===4}function bf(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||Bm(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!kn||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function zm(f,d,b){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?O0(b,f,d):ov(b,f);else if(!(T===4||kn&&T===27)&&(f=f.child,f!==null))for(zm(f,d,b),f=f.sibling;f!==null;)zm(f,d,b),f=f.sibling}function io(f,d,b){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?w0(b,f,d):E0(b,f);else if(!(T===4||kn&&T===27)&&(f=f.child,f!==null))for(io(f,d,b),f=f.sibling;f!==null;)io(f,d,b),f=f.sibling}function id(f,d,b){f=f.containerInfo;try{lc(f,b)}catch(T){Cn(d,d.return,T)}}function _f(f,d){for(yd(f.containerInfo),Xe=d;Xe!==null;)if(f=Xe,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Xe=d;else for(;Xe!==null;){f=Xe;var b=f.alternate;switch(d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&b!==null){d=void 0;var T=f,D=b.memoizedProps;b=b.memoizedState;var L=T.stateNode;try{var Z=to(T.type,D,T.elementType===T.type);d=L.getSnapshotBeforeUpdate(Z,b),L.__reactInternalSnapshotBeforeUpdate=d}catch(st){Cn(T,T.return,st)}}break;case 3:(d&1024)!==0&&Bi&&P0(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,Xe=d;break}Xe=f.return}return Z=un,un=!1,Z}function rd(f,d,b){var T=b.flags;switch(b.tag){case 0:case 11:case 15:ao(f,b),T&4&&yf(5,b);break;case 1:if(ao(f,b),T&4)if(f=b.stateNode,d===null)try{f.componentDidMount()}catch(st){Cn(b,b.return,st)}else{var D=to(b.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(D,d,f.__reactInternalSnapshotBeforeUpdate)}catch(st){Cn(b,b.return,st)}}T&64&&u0(b),T&512&&ns(b,b.return);break;case 3:if(ao(f,b),T&64&&(T=b.updateQueue,T!==null)){if(f=null,b.child!==null)switch(b.child.tag){case 27:case 5:f=rc(b.child.stateNode);break;case 1:f=b.child.stateNode}try{ee(T,f)}catch(st){Cn(b,b.return,st)}}break;case 26:if(fa){ao(f,b),T&512&&ns(b,b.return);break}case 27:case 5:ao(f,b),d===null&&T&4&&Lm(b),T&512&&ns(b,b.return);break;case 12:ao(f,b);break;case 13:ao(f,b),T&4&&ad(f,b);break;case 22:if(D=b.memoizedState!==null||Is,!D){d=d!==null&&d.memoizedState!==null||vi;var L=Is,Z=vi;Is=D,(vi=d)&&!Z?so(f,b,(b.subtreeFlags&8772)!==0):ao(f,b),Is=L,vi=Z}T&512&&(b.memoizedProps.mode==="manual"?ns(b,b.return):Gr(b,b.return));break;default:ao(f,b)}}function Hm(f){var d=f.alternate;d!==null&&(f.alternate=null,Hm(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&L1(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function rr(f,d,b){for(b=b.child;b!==null;)Yo(f,d,b),b=b.sibling}function Yo(f,d,b){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Si,b)}catch{}switch(b.tag){case 26:if(fa){vi||Gr(b,d),rr(f,d,b),b.memoizedState?jl(b.memoizedState):b.stateNode&&uc(b.stateNode);break}case 27:if(kn){vi||Gr(b,d);var T=Pe,D=Qe;Pe=b.stateNode,rr(f,d,b),sl(b.stateNode),Pe=T,Qe=D;break}case 5:vi||Gr(b,d);case 6:if(Bi){if(T=Pe,D=Qe,Pe=null,rr(f,d,b),Pe=T,Qe=D,Pe!==null)if(Qe)try{C0(Pe,b.stateNode)}catch(L){Cn(b,d,L)}else try{lv(Pe,b.stateNode)}catch(L){Cn(b,d,L)}}else rr(f,d,b);break;case 18:Bi&&Pe!==null&&(Qe?Bf(Pe,b.stateNode):G0(Pe,b.stateNode));break;case 4:Bi?(T=Pe,D=Qe,Pe=b.stateNode.containerInfo,Qe=!0,rr(f,d,b),Pe=T,Qe=D):(La&&id(b.stateNode,b,If()),rr(f,d,b));break;case 0:case 11:case 14:case 15:vi||Xo(2,b,d),vi||Xo(4,b,d),rr(f,d,b);break;case 1:vi||(Gr(b,d),T=b.stateNode,typeof T.componentWillUnmount=="function"&&Vr(b,d,T)),rr(f,d,b);break;case 21:rr(f,d,b);break;case 22:vi||Gr(b,d),vi=(T=vi)||b.memoizedState!==null,rr(f,d,b),vi=T;break;default:rr(f,d,b)}}function ad(f,d){if(or&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{F1(f)}catch(b){Cn(d,d.return,b)}}function c0(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new Rn),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new Rn),d;default:throw Error(r(435,f.tag))}}function ro(f,d){var b=c0(f);d.forEach(function(T){var D=tl.bind(null,f,T);b.has(T)||(b.add(T),T.then(D,D))})}function Cr(f,d){var b=d.deletions;if(b!==null)for(var T=0;T<b.length;T++){var D=b[T],L=f,Z=d;if(Bi){var st=Z;t:for(;st!==null;){switch(st.tag){case 27:case 5:Pe=st.stateNode,Qe=!1;break t;case 3:Pe=st.stateNode.containerInfo,Qe=!0;break t;case 4:Pe=st.stateNode.containerInfo,Qe=!0;break t}st=st.return}if(Pe===null)throw Error(r(160));Yo(L,Z,D),Pe=null,Qe=!1}else Yo(L,Z,D);L=D.alternate,L!==null&&(L.return=null),D.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Fm(d,f),d=d.sibling}function Fm(f,d){var b=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Cr(d,f),qr(f),T&4&&(Xo(3,f,f.return),yf(3,f),Xo(5,f,f.return));break;case 1:Cr(d,f),qr(f),T&512&&(vi||b===null||Gr(b,b.return)),T&64&&Is&&(f=f.updateQueue,f!==null&&(T=f.callbacks,T!==null&&(b=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=b===null?T:b.concat(T))));break;case 26:if(fa){var D=hi;Cr(d,f),qr(f),T&512&&(vi||b===null||Gr(b,b.return)),T&4&&(T=b!==null?b.memoizedState:null,d=f.memoizedState,b===null?d===null?f.stateNode===null?f.stateNode=Hf(D,f.type,f.memoizedProps,f):Ff(D,f.type,f.stateNode):f.stateNode=k0(D,d,f.memoizedProps):T!==d?(T===null?b.stateNode!==null&&uc(b.stateNode):jl(T),d===null?Ff(D,f.type,f.stateNode):k0(D,d,f.memoizedProps)):d===null&&f.stateNode!==null&&Im(f,f.memoizedProps,b.memoizedProps));break}case 27:if(kn&&T&4&&f.alternate===null){D=f.stateNode;var L=f.memoizedProps;try{al(D),Z0(f.type,L,D,f)}catch(re){Cn(f,f.return,re)}}case 5:if(Cr(d,f),qr(f),T&512&&(vi||b===null||Gr(b,b.return)),Bi){if(f.flags&32){d=f.stateNode;try{uv(d)}catch(re){Cn(f,f.return,re)}}T&4&&f.stateNode!=null&&(d=f.memoizedProps,Im(f,d,b!==null?b.memoizedProps:d)),T&1024&&(xv=!0)}break;case 6:if(Cr(d,f),qr(f),T&4&&Bi){if(f.stateNode===null)throw Error(r(162));T=f.memoizedProps,b=b!==null?b.memoizedProps:T,d=f.stateNode;try{A0(d,b,T)}catch(re){Cn(f,f.return,re)}}break;case 3:if(fa?(X0(),D=hi,hi=Od(d.containerInfo),Cr(d,f),hi=D):Cr(d,f),qr(f),T&4){if(Bi&&or&&b!==null&&b.memoizedState.isDehydrated)try{H1(d.containerInfo)}catch(re){Cn(f,f.return,re)}if(La){T=d.containerInfo,b=d.pendingChildren;try{lc(T,b)}catch(re){Cn(f,f.return,re)}}}xv&&(xv=!1,f0(f));break;case 4:fa?(b=hi,hi=Od(f.stateNode.containerInfo),Cr(d,f),qr(f),hi=b):(Cr(d,f),qr(f)),T&4&&La&&id(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Cr(d,f),qr(f);break;case 13:Cr(d,f),qr(f),f.child.flags&8192&&f.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Lr=Ia()),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,ro(f,T)));break;case 22:T&512&&(vi||b===null||Gr(b,b.return)),D=f.memoizedState!==null;var Z=b!==null&&b.memoizedState!==null,st=Is,bt=vi;if(Is=st||D,vi=bt||Z,Cr(d,f),vi=bt,Is=st,qr(f),d=f.stateNode,d._current=f,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,T&8192&&(d._visibility=D?d._visibility&-2:d._visibility|1,D&&(d=Is||vi,b===null||Z||d||Yu(f)),Bi&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){t:if(b=null,Bi)for(d=f;;){if(d.tag===5||fa&&d.tag===26||kn&&d.tag===27){if(b===null){Z=b=d;try{L=Z.stateNode,D?R0(L):N0(Z.stateNode,Z.memoizedProps)}catch(re){Cn(Z,Z.return,re)}}}else if(d.tag===6){if(b===null){Z=d;try{var qt=Z.stateNode;D?D0(qt):B1(qt,Z.memoizedProps)}catch(re){Cn(Z,Z.return,re)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break t;for(;d.sibling===null;){if(d.return===null||d.return===f)break t;b===d&&(b=null),d=d.return}b===d&&(b=null),d.sibling.return=d.return,d=d.sibling}}T&4&&(T=f.updateQueue,T!==null&&(b=T.retryQueue,b!==null&&(T.retryQueue=null,ro(f,b))));break;case 19:Cr(d,f),qr(f),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,ro(f,T)));break;case 21:break;default:Cr(d,f),qr(f)}}function qr(f){var d=f.flags;if(d&2){try{if(Bi&&(!kn||f.tag!==27)){t:{for(var b=f.return;b!==null;){if(Bm(b)){var T=b;break t}b=b.return}throw Error(r(160))}switch(T.tag){case 27:if(kn){var D=T.stateNode,L=bf(f);io(f,L,D);break}case 5:var Z=T.stateNode;T.flags&32&&(uv(Z),T.flags&=-33);var st=bf(f);io(f,st,Z);break;case 3:case 4:var bt=T.stateNode.containerInfo,qt=bf(f);zm(f,qt,bt);break;default:throw Error(r(161))}}}catch(re){Cn(f,f.return,re)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function f0(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;f0(d),d.tag===5&&d.flags&1024&&xd(d.stateNode),f=f.sibling}}function ao(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)rd(f,d.alternate,d),d=d.sibling}function Yu(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:Xo(4,d,d.return),Yu(d);break;case 1:Gr(d,d.return);var b=d.stateNode;typeof b.componentWillUnmount=="function"&&Vr(d,d.return,b),Yu(d);break;case 26:case 27:case 5:Gr(d,d.return),Yu(d);break;case 22:Gr(d,d.return),d.memoizedState===null&&Yu(d);break;default:Yu(d)}f=f.sibling}}function so(f,d,b){for(b=b&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,D=f,L=d,Z=L.flags;switch(L.tag){case 0:case 11:case 15:so(D,L,b),yf(4,L);break;case 1:if(so(D,L,b),T=L,D=T.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(qt){Cn(T,T.return,qt)}if(T=L,D=T.updateQueue,D!==null){var st=T.stateNode;try{var bt=D.shared.hiddenCallbacks;if(bt!==null)for(D.shared.hiddenCallbacks=null,D=0;D<bt.length;D++)lt(bt[D],st)}catch(qt){Cn(T,T.return,qt)}}b&&Z&64&&u0(L),ns(L,L.return);break;case 26:case 27:case 5:so(D,L,b),b&&T===null&&Z&4&&Lm(L),ns(L,L.return);break;case 12:so(D,L,b);break;case 13:so(D,L,b),b&&Z&4&&ad(D,L);break;case 22:L.memoizedState===null&&so(D,L,b),ns(L,L.return);break;default:so(D,L,b)}d=d.sibling}}function sd(f,d){var b=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==b&&(f!=null&&f.refCount++,b!=null&&vf(b))}function xf(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&vf(f))}function ki(f,d,b,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)jm(f,d,b,T),d=d.sibling}function jm(f,d,b,T){var D=d.flags;switch(d.tag){case 0:case 11:case 15:ki(f,d,b,T),D&2048&&yf(9,d);break;case 3:ki(f,d,b,T),D&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&vf(f)));break;case 12:if(D&2048){ki(f,d,b,T),f=d.stateNode;try{var L=d.memoizedProps,Z=L.id,st=L.onPostCommit;typeof st=="function"&&st(Z,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(bt){Cn(d,d.return,bt)}}else ki(f,d,b,T);break;case 23:break;case 22:L=d.stateNode,d.memoizedState!==null?L._visibility&4?ki(f,d,b,T):gr(f,d):L._visibility&4?ki(f,d,b,T):(L._visibility|=4,ar(f,d,b,T,(d.subtreeFlags&10256)!==0)),D&2048&&sd(d.alternate,d);break;case 24:ki(f,d,b,T),D&2048&&xf(d.alternate,d);break;default:ki(f,d,b,T)}}function ar(f,d,b,T,D){for(D=D&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var L=f,Z=d,st=b,bt=T,qt=Z.flags;switch(Z.tag){case 0:case 11:case 15:ar(L,Z,st,bt,D),yf(8,Z);break;case 23:break;case 22:var re=Z.stateNode;Z.memoizedState!==null?re._visibility&4?ar(L,Z,st,bt,D):gr(L,Z):(re._visibility|=4,ar(L,Z,st,bt,D)),D&&qt&2048&&sd(Z.alternate,Z);break;case 24:ar(L,Z,st,bt,D),D&&qt&2048&&xf(Z.alternate,Z);break;default:ar(L,Z,st,bt,D)}d=d.sibling}}function gr(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var b=f,T=d,D=T.flags;switch(T.tag){case 22:gr(b,T),D&2048&&sd(T.alternate,T);break;case 24:gr(b,T),D&2048&&xf(T.alternate,T);break;default:gr(b,T)}d=d.sibling}}function Ra(f){if(f.subtreeFlags&ya)for(f=f.child;f!==null;)od(f),f=f.sibling}function od(f){switch(f.tag){case 26:Ra(f),f.flags&ya&&(f.memoizedState!==null?W0(hi,f.memoizedState,f.memoizedProps):Nr(f.type,f.memoizedProps));break;case 5:Ra(f),f.flags&ya&&Nr(f.type,f.memoizedProps);break;case 3:case 4:if(fa){var d=hi;hi=Od(f.stateNode.containerInfo),Ra(f),hi=d}else Ra(f);break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=ya,ya=16777216,Ra(f),ya=d):Ra(f));break;default:Ra(f)}}function Sf(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function Wo(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var T=d[b];Xe=T,Vm(T,f)}Sf(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ld(f),f=f.sibling}function ld(f){switch(f.tag){case 0:case 11:case 15:Wo(f),f.flags&2048&&Xo(9,f,f.return);break;case 3:Wo(f);break;case 12:Wo(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&4&&(f.return===null||f.return.tag!==13)?(d._visibility&=-5,oo(f)):Wo(f);break;default:Wo(f)}}function oo(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var T=d[b];Xe=T,Vm(T,f)}Sf(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:Xo(8,d,d.return),oo(d);break;case 22:b=d.stateNode,b._visibility&4&&(b._visibility&=-5,oo(d));break;default:oo(d)}f=f.sibling}}function Vm(f,d){for(;Xe!==null;){var b=Xe;switch(b.tag){case 0:case 11:case 15:Xo(8,b,d);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var T=b.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:vf(b.memoizedState.cache)}if(T=b.child,T!==null)T.return=b,Xe=T;else t:for(b=f;Xe!==null;){T=Xe;var D=T.sibling,L=T.return;if(Hm(T),T===b){Xe=null;break t}if(D!==null){D.return=L,Xe=D;break t}Xe=L}}}function Wu(f){var d=g0(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(f=av(f),f===null)throw Error(r(362));return f.stateNode.current}function Zo(f,d){var b=f.tag;switch(d.$$typeof){case yc:if(f.type===d.value)return!0;break;case Fa:t:{for(d=d.value,f=[f,0],b=0;b<f.length;){var T=f[b++],D=T.tag,L=f[b++],Z=d[L];if(D!==5&&D!==26&&D!==27||!sc(T)){for(;Z!=null&&Zo(T,Z);)L++,Z=d[L];if(L===d.length){d=!0;break t}else for(T=T.child;T!==null;)f.push(T,L),T=T.sibling}}d=!1}return d;case ii:if((b===5||b===26||b===27)&&x0(f.stateNode,d.value))return!0;break;case Bs:if((b===5||b===6||b===26||b===27)&&(f=_0(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case hs:if((b===5||b===26||b===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Gm(f){switch(f.$$typeof){case yc:return"<"+(o(f.value)||"Unknown")+">";case Fa:return":has("+(Gm(f)||"")+")";case ii:return'[role="'+f.value+'"]';case Bs:return'"'+f.value+'"';case hs:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function kr(f,d){var b=[];f=[f,0];for(var T=0;T<f.length;){var D=f[T++],L=D.tag,Z=f[T++],st=d[Z];if(L!==5&&L!==26&&L!==27||!sc(D)){for(;st!=null&&Zo(D,st);)Z++,st=d[Z];if(Z===d.length)b.push(D);else for(D=D.child;D!==null;)f.push(D,Z),D=D.sibling}}return b}function Mf(f,d){if(!rl)throw Error(r(363));f=Wu(f),f=kr(f,d),d=[],f=Array.from(f);for(var b=0;b<f.length;){var T=f[b++],D=T.tag;if(D===5||D===26||D===27)sc(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return d}function bi(){if((xn&2)!==0&&dn!==0)return dn&-dn;if(Ve.T!==null){var f=pa;return f!==0?f:le()}return y0()}function qm(){xa===0&&(xa=(dn&536870912)===0||yn?z():536870912);var f=ma.current;return f!==null&&(f.flags|=32),xa}function Xi(f,d,b){(f===Dn&&zn===2||f.cancelPendingCommit!==null)&&(sr(f,0),Xr(f,dn,xa,!1)),F(f,b),((xn&2)===0||f!==Dn)&&(f===Dn&&((xn&2)===0&&(So|=b),Wn===4&&Xr(f,dn,xa,!1)),Bt(f))}function Ko(f,d,b){if((xn&6)!==0)throw Error(r(327));var T=!b&&(d&60)===0&&(d&f.expiredLanes)===0||P(f,d),D=T?Xm(f,d):cd(f,d,!0),L=T;do{if(D===0){ba&&!T&&Xr(f,d,0,!1);break}else if(D===6)Xr(f,d,0,!Va);else{if(b=f.current.alternate,L&&!Zu(b)){D=cd(f,d,!1),L=!1;continue}if(D===2){if(L=d,f.errorRecoveryDisabledLanes&L)var Z=0;else Z=f.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){d=Z;t:{var st=f;D=nu;var bt=or&&st.current.memoizedState.isDehydrated;if(bt&&(sr(st,Z).flags|=256),Z=cd(st,Z,!1),Z!==2){if(Fi&&!bt){st.errorRecoveryDisabledLanes|=L,So|=L,D=4;break t}L=gi,gi=D,L!==null&&Ef(L)}D=Z}if(L=!1,D!==2)continue}}if(D===1){sr(f,0),Xr(f,d,0,!0);break}t:{switch(T=f,D){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Xr(T,d,xa,!Va);break t}break;case 2:gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(T.finishedWork=b,T.finishedLanes=d,(d&62914560)===d&&(L=Lr+300-Ia(),10<L)){if(Xr(T,d,xa,!Va),N(T,0)!==0)break t;T.timeoutHandle=Di(ud.bind(null,T,b,gi,Yf,Hd,d,xa,So,zs,Va,2,-0,0),L);break t}ud(T,b,gi,Yf,Hd,d,xa,So,zs,Va,0,-0,0)}}break}while(!0);Bt(f)}function Ef(f){gi===null?gi=f:gi.push.apply(gi,f)}function ud(f,d,b,T,D,L,Z,st,bt,qt,re,me,ye){var Ye=d.subtreeFlags;if((Ye&8192||(Ye&16785408)===16785408)&&(iv(),od(d),d=Ni(),d!==null)){f.cancelPendingCommit=d(Qo.bind(null,f,b,T,D,Z,st,bt,1,me,ye)),Xr(f,L,Z,!qt);return}Qo(f,b,T,D,Z,st,bt,re,me,ye)}function Zu(f){for(var d=f;;){var b=d.tag;if((b===0||b===11||b===15)&&d.flags&16384&&(b=d.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var T=0;T<b.length;T++){var D=b[T],L=D.getSnapshot;D=D.value;try{if(!Wr(L(),D))return!1}catch{return!1}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Xr(f,d,b,T){d&=~Xf,d&=~So,f.suspendedLanes|=d,f.pingedLanes&=~d,T&&(f.warmLanes|=d),T=f.expirationTimes;for(var D=d;0<D;){var L=31-Pr(D),Z=1<<L;T[L]=-1,D&=~Z}b!==0&&W(f,b,d)}function Af(){return(xn&6)===0?($(0),!1):!0}function Ku(){if(Le!==null){if(zn===0)var f=Le.return;else f=Le,ga=fs=null,es(f),cl=null,fl=0,f=Le;for(;f!==null;)l0(f.alternate,f),f=f.return;Le=null}}function sr(f,d){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;b!==nl&&(f.timeoutHandle=nl,bd(b)),b=f.cancelPendingCommit,b!==null&&(f.cancelPendingCommit=null,b()),Ku(),Dn=f,Le=b=Na(f.current,null),dn=d,zn=0,br=null,Va=!1,ba=P(f,d),Fi=!1,zs=xa=Xf=So=_a=Wn=0,gi=nu=null,Hd=!1,(d&8)!==0&&(d|=d&32);var T=f.entangledLanes;if(T!==0)for(f=f.entanglements,T&=d;0<T;){var D=31-Pr(T),L=1<<D;d|=f[D],T&=~L}return _r=d,nt(),b}function la(f,d){en=null,Ve.H=mi,d===pc?(d=Ce(),zn=3):d===qf?(d=Ce(),zn=4):zn=d===Bd?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,br=d,Le===null&&(Wn=1,ju(f,it(d,f.current)))}function $o(){var f=ma.current;return f===null?!0:(dn&4194176)===dn?Xn===null:(dn&62914560)===dn||(dn&536870912)!==0?f===Xn:!1}function As(){var f=Ve.H;return Ve.H=mi,f===null?mi:f}function Ts(){var f=Ve.A;return Ve.A=gc,f}function lo(){Wn=4,Va||(dn&4194176)!==dn&&ma.current!==null||(ba=!0),(_a&134217727)===0&&(So&134217727)===0||Dn===null||Xr(Dn,dn,xa,!1)}function cd(f,d,b){var T=xn;xn|=2;var D=As(),L=Ts();(Dn!==f||dn!==d)&&(Yf=null,sr(f,d)),d=!1;var Z=Wn;t:do try{if(zn!==0&&Le!==null){var st=Le,bt=br;switch(zn){case 8:Ku(),Z=6;break t;case 3:case 2:case 6:ma.current===null&&(d=!0);var qt=zn;if(zn=0,br=null,Da(f,st,bt,qt),b&&ba){Z=0;break t}break;default:qt=zn,zn=0,br=null,Da(f,st,bt,qt)}}km(),Z=Wn;break}catch(re){la(f,re)}while(!0);return d&&f.shellSuspendCounter++,ga=fs=null,xn=T,Ve.H=D,Ve.A=L,Le===null&&(Dn=null,dn=0,nt()),Z}function km(){for(;Le!==null;)fi(Le)}function Xm(f,d){var b=xn;xn|=2;var T=As(),D=Ts();Dn!==f||dn!==d?(Yf=null,bc=Ia()+500,sr(f,d)):ba=P(f,d);t:do try{if(zn!==0&&Le!==null){d=Le;var L=br;e:switch(zn){case 1:zn=0,br=null,Da(f,d,L,1);break;case 2:if(Gt(L)){zn=0,br=null,Mn(d);break}d=function(){zn===2&&Dn===f&&(zn=7),Bt(f)},L.then(d,d);break t;case 3:zn=7;break t;case 4:zn=5;break t;case 7:Gt(L)?(zn=0,br=null,Mn(d)):(zn=0,br=null,Da(f,d,L,7));break;case 5:var Z=null;switch(Le.tag){case 26:Z=Le.memoizedState;case 5:case 27:var st=Le,bt=st.type,qt=st.pendingProps;if(Z?Vl(Z):_d(bt,qt)){zn=0,br=null;var re=st.sibling;if(re!==null)Le=re;else{var me=st.return;me!==null?(Le=me,ua(me)):Le=null}break e}}zn=0,br=null,Da(f,d,L,5);break;case 6:zn=0,br=null,Da(f,d,L,6);break;case 8:Ku(),Wn=6;break t;default:throw Error(r(462))}}Rr();break}catch(ye){la(f,ye)}while(!0);return ga=fs=null,Ve.H=T,Ve.A=D,xn=b,Le!==null?0:(Dn=null,dn=0,nt(),Wn)}function Rr(){for(;Le!==null&&!Q0();)fi(Le)}function fi(f){var d=a0(f.alternate,f,_r);f.memoizedProps=f.pendingProps,d===null?ua(f):Le=d}function Mn(f){var d=f,b=d.alternate;switch(d.tag){case 15:case 0:d=Jy(b,d,d.pendingProps,d.type,void 0,dn);break;case 11:d=Jy(b,d,d.pendingProps,d.type.render,d.ref,dn);break;case 5:es(d);default:l0(b,d),d=Le=wf(d,_r),d=a0(b,d,_r)}f.memoizedProps=f.pendingProps,d===null?ua(f):Le=d}function Da(f,d,b,T){ga=fs=null,es(d),cl=null,fl=0;var D=d.return;try{if(R1(f,D,d,b,dn)){Wn=1,ju(f,it(b,f.current)),Le=null;return}}catch(L){if(D!==null)throw Le=D,L;Wn=1,ju(f,it(b,f.current)),Le=null;return}d.flags&32768?(yn||T===1?f=!0:ba||(dn&536870912)!==0?f=!1:(Va=f=!0,(T===2||T===3||T===6)&&(T=ma.current,T!==null&&T.tag===13&&(T.flags|=16384))),fd(d,f)):ua(d)}function ua(f){var d=f;do{if((d.flags&32768)!==0){fd(d,Va);return}f=d.return;var b=o0(d.alternate,d,_r);if(b!==null){Le=b;return}if(d=d.sibling,d!==null){Le=d;return}Le=d=f}while(d!==null);Wn===0&&(Wn=5)}function fd(f,d){do{var b=N1(f.alternate,f);if(b!==null){b.flags&=32767,Le=b;return}if(b=f.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!d&&(f=f.sibling,f!==null)){Le=f;return}Le=f=b}while(f!==null);Wn=6,Le=null}function Qo(f,d,b,T,D,L,Z,st,bt,qt){var re=Ve.T,me=mo();try{yr(2),Ve.T=null,h0(f,d,b,T,me,D,L,Z,st,bt,qt)}finally{Ve.T=re,yr(me)}}function h0(f,d,b,T,D,L,Z,st){do is();while(Hs!==null);if((xn&6)!==0)throw Error(r(327));var bt=f.finishedWork;if(T=f.finishedLanes,bt===null)return null;if(f.finishedWork=null,f.finishedLanes=0,bt===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var qt=bt.lanes|bt.childLanes;if(qt|=us,K(f,T,qt,L,Z,st),f===Dn&&(Le=Dn=null,dn=0),(bt.subtreeFlags&10256)===0&&(bt.flags&10256)===0||ds||(ds=!0,vl=qt,Fd=b,co(Pd,function(){return is(),null})),b=(bt.flags&15990)!==0,(bt.subtreeFlags&15990)!==0||b?(b=Ve.T,Ve.T=null,L=mo(),yr(2),Z=xn,xn|=4,_f(f,bt),Fm(bt,f),v0(f.containerInfo),f.current=bt,rd(f,bt.alternate,bt),Dd(),xn=Z,yr(L),Ve.T=b):f.current=bt,ds?(ds=!1,Hs=f,iu=T):Ym(f,qt),qt=f.pendingLanes,qt===0&&(ml=null),H(bt.stateNode),Bt(f),d!==null)for(D=f.onRecoverableError,bt=0;bt<d.length;bt++)qt=d[bt],D(qt.value,{componentStack:qt.stack});return(iu&3)!==0&&is(),qt=f.pendingLanes,(T&4194218)!==0&&(qt&42)!==0?f===jd?_c++:(_c=0,jd=f):_c=0,$(0),null}function Ym(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,vf(d)))}function is(){if(Hs!==null){var f=Hs,d=vl;vl=0;var b=J(iu),T=32>b?32:b;b=Ve.T;var D=mo();try{if(yr(T),Ve.T=null,Hs===null)var L=!1;else{T=Fd,Fd=null;var Z=Hs,st=iu;if(Hs=null,iu=0,(xn&6)!==0)throw Error(r(331));var bt=xn;if(xn|=4,ld(Z.current),jm(Z,Z.current,st,T),xn=bt,$(0,!1),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Si,Z)}catch{}L=!0}return L}finally{yr(D),Ve.T=b,Ym(f,d)}}return!1}function $u(f,d,b){d=it(b,d),d=Gu(f.stateNode,d,2),f=Ee(f,d,2),f!==null&&(F(f,2),Bt(f))}function Cn(f,d,b){if(f.tag===3)$u(f,f,b);else for(;d!==null;){if(d.tag===3){$u(d,f,b);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ml===null||!ml.has(T))){f=it(b,f),b=Tm(2),T=Ee(d,b,2),T!==null&&(Wy(b,T,d,f),F(T,2),Bt(T));break}}d=d.return}}function Hl(f,d,b){var T=f.pingCache;if(T===null){T=f.pingCache=new ja;var D=new Set;T.set(d,D)}else D=T.get(d),D===void 0&&(D=new Set,T.set(d,D));D.has(b)||(Fi=!0,D.add(b),f=Wm.bind(null,f,d,b),d.then(f,f))}function Wm(f,d,b){var T=f.pingCache;T!==null&&T.delete(d),f.pingedLanes|=f.suspendedLanes&b,f.warmLanes&=~b,Dn===f&&(dn&b)===b&&(Wn===4||Wn===3&&(dn&62914560)===dn&&300>Ia()-Lr?(xn&2)===0&&sr(f,0):Xf|=b,zs===dn&&(zs=0)),Bt(f)}function Jo(f,d){d===0&&(d=I()),f=Pt(f,d),f!==null&&(F(f,d),Bt(f))}function uo(f){var d=f.memoizedState,b=0;d!==null&&(b=d.retryLane),Jo(f,b)}function tl(f,d){var b=0;switch(f.tag){case 13:var T=f.stateNode,D=f.memoizedState;D!==null&&(b=D.retryLane);break;case 19:T=f.stateNode;break;case 22:T=f.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),Jo(f,b)}function co(f,d){return jf(f,d)}function Zm(f,d,b,T){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tf(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Na(f,d){var b=f.alternate;return b===null?(b=e(f.tag,d,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=d,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&31457280,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,d=f.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b.refCleanup=f.refCleanup,b}function wf(f,d){f.flags&=31457282;var b=f.alternate;return b===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=b.childLanes,f.lanes=b.lanes,f.child=b.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=b.memoizedProps,f.memoizedState=b.memoizedState,f.updateQueue=b.updateQueue,f.type=b.type,d=b.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function ws(f,d,b,T,D,L){var Z=0;if(T=f,typeof f=="function")Tf(f)&&(Z=1);else if(typeof f=="string")Z=fa&&kn?zf(f,b,zi.current)?26:Cs(f)?27:5:fa?zf(f,b,zi.current)?26:5:kn&&Cs(f)?27:5;else t:switch(f){case el:return pi(b.children,D,L,d);case Df:Z=8,D|=24;break;case md:return f=e(12,b,d,D|2),f.elementType=md,f.lanes=L,f;case vd:return f=e(13,b,d,D),f.elementType=vd,f.lanes=L,f;case ec:return f=e(19,b,d,D),f.elementType=ec,f.lanes=L,f;case Qm:return Of(b,D,L,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Nf:case rs:Z=10;break t;case $m:Z=9;break t;case Pf:Z=11;break t;case gd:Z=14;break t;case Ua:Z=16,T=null;break t}Z=29,b=Error(r(130,f===null?"null":typeof f,"")),T=null}return d=e(Z,b,d,D),d.elementType=f,d.type=T,d.lanes=L,d}function pi(f,d,b,T){return f=e(7,f,T,d),f.lanes=b,f}function Of(f,d,b,T){f=e(22,f,T,d),f.elementType=Qm,f.lanes=b;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var L=D._current;if(L===null)throw Error(r(456));if((D._pendingVisibility&2)===0){var Z=Pt(L,2);Z!==null&&(D._pendingVisibility|=2,Xi(Z,L,2))}},attach:function(){var L=D._current;if(L===null)throw Error(r(456));if((D._pendingVisibility&2)!==0){var Z=Pt(L,2);Z!==null&&(D._pendingVisibility&=-3,Xi(Z,L,2))}}};return f.stateNode=D,f}function hd(f,d,b){return f=e(6,f,null,d),f.lanes=b,f}function Km(f,d,b){return d=e(4,f.children!==null?f.children:[],f.key,d),d.lanes=b,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function P1(f,d,b,T,D,L,Z,st){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=nl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=T,this.onUncaughtError=D,this.onCaughtError=L,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function d0(f,d,b,T,D,L,Z,st,bt,qt,re,me){return f=new P1(f,d,b,Z,st,bt,qt,me),d=1,L===!0&&(d|=24),L=e(3,null,null,d),f.current=L,L.stateNode=f,d=ko(),d.refCount++,f.pooledCache=d,d.refCount++,L.memoizedState={element:T,isDehydrated:b,cache:d},Jt(L),f}function Ri(f){return f?(f=ol,f):ol}function dd(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=_(d),f=f!==null?S(f):null,f===null?null:rc(f.stateNode)}function Qu(f,d,b,T,D,L){D=Ri(D),T.context===null?T.context=D:T.pendingContext=D,T=Me(d),T.payload={element:b},L=L===void 0?null:L,L!==null&&(T.callback=L),b=Ee(f,T,d),b!==null&&(Xi(b,f,d),oe(b,f,d))}function Ju(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<d?b:d}}function Cf(f,d){Ju(f,d),(f=f.alternate)&&Ju(f,d)}var We={},tc=om(),ca=Tft(),pd=Object.assign,U1=Symbol.for("react.element"),Rf=Symbol.for("react.transitional.element"),Pa=Symbol.for("react.portal"),el=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),$m=Symbol.for("react.consumer"),rs=Symbol.for("react.context"),Pf=Symbol.for("react.forward_ref"),vd=Symbol.for("react.suspense"),ec=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),Qm=Symbol.for("react.offscreen"),p0=Symbol.for("react.memo_cache_sentinel"),fo=Symbol.iterator,Jm=Symbol.for("react.client.reference"),Ve=tc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Os,ho,Fl=!1,nc=Array.isArray,tv=t.rendererVersion,Uf=t.rendererPackageName,ic=t.extraDevToolsConfig,rc=t.getPublicInstance,m0=t.getRootHostContext,ac=t.getChildHostContext,yd=t.prepareForCommit,v0=t.resetAfterCommit,ev=t.createInstance,Lf=t.appendInitialChild,po=t.finalizeInitialChildren,Ze=t.shouldSetTextContent,Un=t.createTextInstance,Di=t.scheduleTimeout,bd=t.cancelTimeout,nl=t.noTimeout,Dr=t.isPrimaryRenderer;t.warnsIfNotActing;var Bi=t.supportsMutation,La=t.supportsPersistence,or=t.supportsHydration,g0=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var _i=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var yr=t.setCurrentUpdatePriority,mo=t.getCurrentUpdatePriority,y0=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var b0=t.shouldAttemptEagerTransition,L1=t.detachDeletedInstance;t.requestPostPaintCallback;var nv=t.maySuspendCommit,_d=t.preloadInstance,iv=t.startSuspendingCommit,Nr=t.suspendInstance,Ni=t.waitForCommitToBeReady,il=t.NotPendingTransition,as=t.HostTransitionContext,xd=t.resetFormInstance;t.bindToConsole;var rv=t.supportsMicrotasks,vo=t.scheduleMicrotask,rl=t.supportsTestSelectors,av=t.findFiberRoot,sv=t.getBoundingRect,_0=t.getTextContent,sc=t.isHiddenSubtree,x0=t.matchAccessibilityRole,S0=t.setFocusIfFocusable,M0=t.setupIntersectionObserver,E0=t.appendChild,ov=t.appendChildToContainer,A0=t.commitTextUpdate,I1=t.commitMount,T0=t.commitUpdate,w0=t.insertBefore,O0=t.insertInContainerBefore,lv=t.removeChild,C0=t.removeChildFromContainer,uv=t.resetTextContent,R0=t.hideInstance,D0=t.hideTextInstance,N0=t.unhideInstance,B1=t.unhideTextInstance,P0=t.clearContainer,oc=t.cloneInstance,If=t.createContainerChildSet,cv=t.appendChildToContainerChildSet,Sd=t.finalizeContainerChildren,lc=t.replaceContainerChildren,fv=t.cloneHiddenInstance,hv=t.cloneHiddenTextInstance,Md=t.isSuspenseInstancePending,Ed=t.isSuspenseInstanceFallback,U0=t.getSuspenseInstanceFallbackErrorDetails,L0=t.registerSuspenseInstanceRetry,dv=t.canHydrateFormStateMarker,I0=t.isFormStateMarkerMatching,pv=t.getNextHydratableSibling,Ad=t.getFirstHydratableChild,B0=t.getFirstHydratableChildWithinContainer,z0=t.getFirstHydratableChildWithinSuspenseInstance,z1=t.canHydrateInstance,mv=t.canHydrateTextInstance,H0=t.canHydrateSuspenseInstance,F0=t.hydrateInstance,vv=t.hydrateTextInstance,j0=t.hydrateSuspenseInstance,V0=t.getNextHydratableInstanceAfterSuspenseInstance,H1=t.commitHydratedContainer,F1=t.commitHydratedSuspenseInstance,G0=t.clearSuspenseBoundary,Bf=t.clearSuspenseBoundaryFromContainer,Td=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var wd=t.validateHydratableInstance,q0=t.validateHydratableTextInstance,fa=t.supportsResources,zf=t.isHostHoistableType,Od=t.getHoistableRoot,gv=t.getResource,k0=t.acquireResource,jl=t.releaseResource,Hf=t.hydrateHoistable,Ff=t.mountHoistable,uc=t.unmountHoistable,Cd=t.createHoistableInstance,X0=t.prepareToCommitHoistables,Y0=t.mayResourceSuspendCommit,Vl=t.preloadResource,W0=t.suspendResource,kn=t.supportsSingletons,ss=t.resolveSingletonInstance,al=t.clearSingleton,Z0=t.acquireSingletonInstance,sl=t.releaseSingletonInstance,Cs=t.isHostSingletonType,xi=[],go=-1,ol={},Pr=Math.clz32?Math.clz32:O,K0=Math.log,$0=Math.LN2,Rs=128,Gl=4194304,jf=ca.unstable_scheduleCallback,Rd=ca.unstable_cancelCallback,Q0=ca.unstable_shouldYield,Dd=ca.unstable_requestPaint,Ia=ca.unstable_now,Nd=ca.unstable_ImmediatePriority,J0=ca.unstable_UserBlockingPriority,Pd=ca.unstable_NormalPriority,j1=ca.unstable_IdlePriority,tb=ca.log,Yi=ca.unstable_setDisableYieldValue,Si=null,Yr=null,Wr=typeof Object.is=="function"?Object.is:k,yv=new WeakMap,ql=[],kl=0,Xl=null,cc=0,ha=[],da=0,ll=null,os=1,ls="",zi=x(null),fc=x(null),Ds=x(null),Yl=x(null),lr=null,ur=null,yn=!1,Ba=null,Wi=!1,Vf=Error(r(519)),za=[],Wl=0,us=0,Gf=null,yo=null,Zl=!1,Kn=!1,bv=!1,hc=0,dc=null,Kl=0,pa=0,$l=null,bo=!1,Ql=!1,Ns=Object.prototype.hasOwnProperty,pc=Error(r(460)),qf=Error(r(474)),kf={then:function(){}},ul=null,cl=null,fl=0,hl=si(!0),Ps=si(!1),$n=x(null),mc=x(0),ma=x(null),Xn=null,Hi=x(0),_o=0,en=null,Ue=null,_n=null,Ha=!1,Jl=!1,dl=!1,Ud=0,tu=0,Zi=null,cs=0,Ld=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},mi={readContext:ir,use:Ot,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In};mi.useCacheRefresh=In,mi.useMemoCache=In,mi.useHostTransitionStatus=In,mi.useFormState=In,mi.useActionState=In,mi.useOptimistic=In;var pl={readContext:ir,use:Ot,useCallback:function(f,d){return Y().memoizedState=[f,d===void 0?null:d],f},useContext:ir,useEffect:Xh,useImperativeHandle:function(f,d,b){b=b!=null?b.concat([f]):null,rf(4194308,4,Yh.bind(null,d,f),b)},useLayoutEffect:function(f,d){return rf(4194308,4,f,d)},useInsertionEffect:function(f,d){rf(4,2,f,d)},useMemo:function(f,d){var b=Y();d=d===void 0?null:d;var T=f();if(dl){q(!0);try{f()}finally{q(!1)}}return b.memoizedState=[T,d],T},useReducer:function(f,d,b){var T=Y();if(b!==void 0){var D=b(d);if(dl){q(!0);try{b(d)}finally{q(!1)}}}else D=d;return T.memoizedState=T.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},T.queue=f,f=f.dispatch=Zh.bind(null,en,f),[T.memoizedState,f]},useRef:function(f){var d=Y();return f={current:f},d.memoizedState=f},useState:function(f){f=cn(f);var d=f.queue,b=Am.bind(null,en,d);return d.dispatch=b,[f.memoizedState,b]},useDebugValue:Fo,useDeferredValue:function(f,d){var b=Y();return of(b,f,d)},useTransition:function(){var f=cn(!1);return f=Iu.bind(null,en,f.queue,!0,!1),Y().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,b){var T=en,D=Y();if(yn){if(b===void 0)throw Error(r(407));b=b()}else{if(b=d(),Dn===null)throw Error(r(349));(dn&60)!==0||De(T,d,b)}D.memoizedState=b;var L={value:b,getSnapshot:d};return D.queue=L,Xh(ln.bind(null,T,L,f),[f]),T.flags|=2048,wr(9,we.bind(null,T,L,b,d),{destroy:void 0},null),b},useId:function(){var f=Y(),d=Dn.identifierPrefix;if(yn){var b=ls,T=os;b=(T&~(1<<32-Pr(T)-1)).toString(32)+b,d=":"+d+"R"+b,b=Ud++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=cs++,d=":"+d+"r"+b.toString(32)+":";return f.memoizedState=d},useCacheRefresh:function(){return Y().memoizedState=Em.bind(null,en)}};pl.useMemoCache=yt,pl.useHostTransitionStatus=lf,pl.useFormState=Bn,pl.useActionState=Bn,pl.useOptimistic=function(f){var d=Y();d.memoizedState=d.baseState=f;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=b,d=zu.bind(null,en,!0,b),b.dispatch=d,[f,d]};var Ur={readContext:ir,use:Ot,useCallback:Il,useContext:ir,useEffect:xm,useImperativeHandle:Wh,useInsertionEffect:Xy,useLayoutEffect:sf,useMemo:Sm,useReducer:ue,useRef:Ms,useState:function(){return ue(Kt)},useDebugValue:Fo,useDeferredValue:function(f,d){var b=ht();return Mm(b,Ue.memoizedState,f,d)},useTransition:function(){var f=ue(Kt)[0],d=ht().memoizedState;return[typeof f=="boolean"?f:Tt(f),d]},useSyncExternalStore:ze,useId:Bu};Ur.useCacheRefresh=Js,Ur.useMemoCache=yt,Ur.useHostTransitionStatus=lf,Ur.useFormState=er,Ur.useActionState=er,Ur.useOptimistic=function(f,d){var b=ht();return hn(b,Ue,f,d)};var va={readContext:ir,use:Ot,useCallback:Il,useContext:ir,useEffect:xm,useImperativeHandle:Wh,useInsertionEffect:Xy,useLayoutEffect:sf,useMemo:Sm,useReducer:xe,useRef:Ms,useState:function(){return xe(Kt)},useDebugValue:Fo,useDeferredValue:function(f,d){var b=ht();return Ue===null?of(b,f,d):Mm(b,Ue.memoizedState,f,d)},useTransition:function(){var f=xe(Kt)[0],d=ht().memoizedState;return[typeof f=="boolean"?f:Tt(f),d]},useSyncExternalStore:ze,useId:Bu};va.useCacheRefresh=Js,va.useMemoCache=yt,va.useHostTransitionStatus=lf,va.useFormState=qi,va.useActionState=qi,va.useOptimistic=function(f,d){var b=ht();return Ue!==null?hn(b,Ue,f,d):(b.baseState=f,[f,b.queue.dispatch])};var Us={isMounted:function(f){return(f=f._reactInternals)?v(f)===f:!1},enqueueSetState:function(f,d,b){f=f._reactInternals;var T=bi(),D=Me(T);D.payload=d,b!=null&&(D.callback=b),d=Ee(f,D,T),d!==null&&(Xi(d,f,T),oe(d,f,T))},enqueueReplaceState:function(f,d,b){f=f._reactInternals;var T=bi(),D=Me(T);D.tag=1,D.payload=d,b!=null&&(D.callback=b),d=Ee(f,D,T),d!==null&&(Xi(d,f,T),oe(d,f,T))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var b=bi(),T=Me(b);T.tag=2,d!=null&&(T.callback=d),d=Ee(f,T,b),d!==null&&(Xi(d,f,b),oe(d,f,b))}},Id=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},Bd=Error(r(461)),Yn=!1,zd={dehydrated:null,treeContext:null,retryLane:0},xo=x(null),fs=null,ga=null,vc=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(b,T){f.push(T)}};this.abort=function(){d.aborted=!0,f.forEach(function(b){return b()})}},eb=ca.unstable_scheduleCallback,nb=ca.unstable_NormalPriority,Qn={$$typeof:rs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},_v=Ve.S;Ve.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&te(f,d),_v!==null&&_v(f,d)};var Ls=x(null),Is=!1,vi=!1,xv=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,Xe=null,un=!1,Pe=null,Qe=!1,hi=null,ya=8192,gc={getCacheForType:function(f){var d=ir(Qn),b=d.data.get(f);return b===void 0&&(b=f(),d.data.set(f,b)),b}},yc=0,Fa=1,ii=2,hs=3,Bs=4;if(typeof Symbol=="function"&&Symbol.for){var eu=Symbol.for;yc=eu("selector.component"),Fa=eu("selector.has_pseudo_class"),ii=eu("selector.role"),hs=eu("selector.test_id"),Bs=eu("selector.text")}var ja=typeof WeakMap=="function"?WeakMap:Map,xn=0,Dn=null,Le=null,dn=0,zn=0,br=null,Va=!1,ba=!1,Fi=!1,_r=0,Wn=0,_a=0,So=0,Xf=0,xa=0,zs=0,nu=null,gi=null,Hd=!1,Lr=0,bc=1/0,Yf=null,ml=null,ds=!1,Hs=null,iu=0,vl=0,Fd=null,_c=0,jd=null;return We.attemptContinuousHydration=function(f){if(f.tag===13){var d=Pt(f,67108864);d!==null&&Xi(d,f,67108864),Cf(f,67108864)}},We.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=bi(),b=Pt(f,d);b!==null&&Xi(b,f,d),Cf(f,d)}},We.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=R(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var b=1<<31-Pr(d);f.entanglements[1]|=b,d&=~b}Bt(f),(xn&6)===0&&(bc=Ia()+500,$(0))}}break;case 13:d=Pt(f,2),d!==null&&Xi(d,f,2),Af(),Cf(f,2)}},We.batchedUpdates=function(f,d){return f(d)},We.createComponentSelector=function(f){return{$$typeof:yc,value:f}},We.createContainer=function(f,d,b,T,D,L,Z,st,bt,qt){return d0(f,d,!1,null,b,T,L,Z,st,bt,qt,null)},We.createHasPseudoClassSelector=function(f){return{$$typeof:Fa,value:f}},We.createHydrationContainer=function(f,d,b,T,D,L,Z,st,bt,qt,re,me,ye){return f=d0(b,T,!0,f,D,L,st,bt,qt,re,me,ye),f.context=Ri(null),b=f.current,T=bi(),D=Me(T),D.callback=d??null,Ee(b,D,T),f.current.lanes=T,F(f,T),Bt(f),f},We.createPortal=function(f,d,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:T==null?null:""+T,children:f,containerInfo:d,implementation:b}},We.createRoleSelector=function(f){return{$$typeof:ii,value:f}},We.createTestNameSelector=function(f){return{$$typeof:hs,value:f}},We.createTextSelector=function(f){return{$$typeof:Bs,value:f}},We.defaultOnCaughtError=function(f){console.error(f)},We.defaultOnRecoverableError=function(f){Id(f)},We.defaultOnUncaughtError=function(f){Id(f)},We.deferredUpdates=function(f){var d=Ve.T,b=mo();try{return yr(32),Ve.T=null,f()}finally{yr(b),Ve.T=d}},We.discreteUpdates=function(f,d,b,T,D){var L=Ve.T,Z=mo();try{return yr(2),Ve.T=null,f(d,b,T,D)}finally{yr(Z),Ve.T=L,xn===0&&(bc=Ia()+500)}},We.findAllNodes=Mf,We.findBoundingRects=function(f,d){if(!rl)throw Error(r(363));d=Mf(f,d),f=[];for(var b=0;b<d.length;b++)f.push(sv(d[b]));for(d=f.length-1;0<d;d--){b=f[d];for(var T=b.x,D=T+b.width,L=b.y,Z=L+b.height,st=d-1;0<=st;st--)if(d!==st){var bt=f[st],qt=bt.x,re=qt+bt.width,me=bt.y,ye=me+bt.height;if(T>=qt&&L>=me&&D<=re&&Z<=ye){f.splice(d,1);break}else if(T!==qt||b.width!==bt.width||ye<L||me>Z){if(!(L!==me||b.height!==bt.height||re<T||qt>D)){qt>T&&(bt.width+=qt-T,bt.x=T),re<D&&(bt.width=D-qt),f.splice(d,1);break}}else{me>L&&(bt.height+=me-L,bt.y=L),ye<Z&&(bt.height=Z-me),f.splice(d,1);break}}}return f},We.findHostInstance=dd,We.findHostInstanceWithNoPortals=function(f){return f=_(f),f=f!==null?E(f):null,f===null?null:rc(f.stateNode)},We.findHostInstanceWithWarning=function(f){return dd(f)},We.flushPassiveEffects=is,We.flushSyncFromReconciler=function(f){var d=xn;xn|=1;var b=Ve.T,T=mo();try{if(yr(2),Ve.T=null,f)return f()}finally{yr(T),Ve.T=b,xn=d,(xn&6)===0&&$(0)}},We.flushSyncWork=Af,We.focusWithin=function(f,d){if(!rl)throw Error(r(363));for(f=Wu(f),d=kr(f,d),d=Array.from(d),f=0;f<d.length;){var b=d[f++],T=b.tag;if(!sc(b)){if((T===5||T===26||T===27)&&S0(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},We.getFindAllNodesFailureDescription=function(f,d){if(!rl)throw Error(r(363));var b=0,T=[];f=[Wu(f),0];for(var D=0;D<f.length;){var L=f[D++],Z=L.tag,st=f[D++],bt=d[st];if((Z!==5&&Z!==26&&Z!==27||!sc(L))&&(Zo(L,bt)&&(T.push(Gm(bt)),st++,st>b&&(b=st)),st<d.length))for(L=L.child;L!==null;)f.push(L,st),L=L.sibling}if(b<d.length){for(f=[];b<d.length;b++)f.push(Gm(d[b]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},We.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return rc(f.child.stateNode);default:return f.child.stateNode}},We.injectIntoDevTools=function(){var f={bundleType:0,version:tv,rendererPackageName:Uf,currentDispatcherRef:Ve,findFiberByHostInstance:g0,reconcilerVersion:"19.0.0"};if(ic!==null&&(f.rendererConfig=ic),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Si=d.inject(f),Yr=d}catch{}f=!!d.checkDCE}}return f},We.isAlreadyRendering=function(){return!1},We.observeVisibleRects=function(f,d,b,T){if(!rl)throw Error(r(363));f=Mf(f,d);var D=M0(f,b,T).disconnect;return{disconnect:function(){D()}}},We.shouldError=function(){return null},We.shouldSuspend=function(){return!1},We.startHostTransition=function(f,d,b,T){if(f.tag!==5)throw Error(r(476));var D=Es(f).queue;Iu(f,D,d,il,b===null?i:function(){var L=Es(f).next.queue;return jo(f,L,{},bi()),b(T)})},We.updateContainer=function(f,d,b,T){var D=d.current,L=bi();return Qu(D,L,f,d,b,T),L},We.updateContainerSync=function(f,d,b,T){return d.tag===0&&is(),Qu(d.current,2,f,d,b,T),2},We},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(c2)),c2.exports}var x4;function Oft(){return x4||(x4=1,u2.exports=wft()),u2.exports}var Cft=Oft();const Rft=Gn(Cft);var d2={exports:{}},p2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4;function Dft(){return S4||(S4=1,function(n){function t(H,q){var k=H.length;H.push(q);t:for(;0<k;){var it=k-1>>>1,G=H[it];if(0<r(G,q))H[it]=q,H[k]=G,k=it;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],k=H.pop();if(k!==q){H[0]=k;t:for(var it=0,G=H.length,et=G>>>1;it<et;){var ot=2*(it+1)-1,mt=H[ot],rt=ot+1,_t=H[rt];if(0>r(mt,k))rt<G&&0>r(_t,mt)?(H[it]=_t,H[rt]=k,it=rt):(H[it]=mt,H[ot]=k,it=ot);else if(rt<G&&0>r(_t,k))H[it]=_t,H[rt]=k,it=rt;else break t}}return q}function r(H,q){var k=H.sortIndex-q.sortIndex;return k!==0?k:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],m=1,v=null,y=3,_=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var q=e(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=H)i(h),q.sortIndex=q.expirationTime,t(c,q);else break;q=e(h)}}function R(H){if(E=!1,O(H),!S)if(e(c)!==null)S=!0,tt();else{var q=e(h);q!==null&&J(R,q.startTime-H)}}var N=!1,P=-1,U=5,z=-1;function I(){return!(n.unstable_now()-z<U)}function B(){if(N){var H=n.unstable_now();z=H;var q=!0;try{t:{S=!1,E&&(E=!1,M(P),P=-1),_=!0;var k=y;try{e:{for(O(H),v=e(c);v!==null&&!(v.expirationTime>H&&I());){var it=v.callback;if(typeof it=="function"){v.callback=null,y=v.priorityLevel;var G=it(v.expirationTime<=H);if(H=n.unstable_now(),typeof G=="function"){v.callback=G,O(H),q=!0;break e}v===e(c)&&i(c),O(H)}else i(c);v=e(c)}if(v!==null)q=!0;else{var et=e(h);et!==null&&J(R,et.startTime-H),q=!1}}break t}finally{v=null,y=k,_=!1}q=void 0}}finally{q?F():N=!1}}}var F;if(typeof w=="function")F=function(){w(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=B,F=function(){W.postMessage(null)}}else F=function(){x(B,0)};function tt(){N||(N=!0,F())}function J(H,q){P=x(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,tt())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(c)},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var k=y;y=q;try{return H()}finally{y=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=y;y=H;try{return q()}finally{y=k}},n.unstable_scheduleCallback=function(H,q,k){var it=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?it+k:it):k=it,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,H={id:m++,callback:q,priorityLevel:H,startTime:k,expirationTime:G,sortIndex:-1},k>it?(H.sortIndex=k,t(h,H),e(c)===null&&H===e(h)&&(E?(M(P),P=-1):E=!0,J(R,k-it))):(H.sortIndex=G,t(c,H),S||_||(S=!0,tt())),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var q=y;return function(){var k=y;y=q;try{return H.apply(this,arguments)}finally{y=k}}}}(p2)),p2}var M4;function Nft(){return M4||(M4=1,d2.exports=Dft()),d2.exports}var E4=Nft();function QR(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const r=QR(i,t,e);if(r)return r;i=t?null:i.sibling}}function kj(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const JR=kj(St.createContext(null));class Xj extends St.Component{render(){return St.createElement(JR.Provider,{value:this._reactInternals},this.props.children)}}function Yj(){const n=St.useContext(JR);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=St.useId();return St.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=QR(e,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(i)return i}},[n,t])}const Pft=Symbol.for("react.context"),Uft=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Pft;function Lft(){const n=Yj(),[t]=St.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;Uft(i)&&i!==JR&&!t.has(i)&&t.set(i,St.use(kj(i))),e=e.return}return t}function Ift(){const n=Lft();return St.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>St.createElement(t,null,St.createElement(e.Provider,{...i,value:n.get(e)})),t=>St.createElement(Xj,{...t})),[n])}function Wj(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const Zj=n=>n&&n.isOrthographicCamera,Bft=n=>n&&n.hasOwnProperty("current"),zft=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),ky=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?St.useLayoutEffect:St.useEffect;function Kj(n){const t=St.useRef(n);return ky(()=>void(t.current=n),[n]),t}function Hft(){const n=Yj(),t=Ift();return St.useMemo(()=>({children:e})=>{const r=!!QR(n,!0,a=>a.type===St.StrictMode)?St.StrictMode:St.Fragment;return dt.jsx(r,{children:dt.jsx(t,{children:e})})},[n,t])}function Fft({set:n}){return ky(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const jft=(n=>(n=class extends St.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function $j(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function mp(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const Ei={obj:n=>n===Object(n)&&!Ei.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(Ei.str(n)||Ei.num(n)||Ei.boo(n))return n===t;const a=Ei.obj(n);if(a&&i==="reference")return n===t;const o=Ei.arr(n);if(o&&e==="reference")return n===t;if((o||a)&&n===t)return!0;let l;for(l in n)if(!(l in t))return!1;if(a&&e==="shallow"&&i==="shallow"){for(l in r?t:n)if(!Ei.equ(n[l],t[l],{strict:r,objects:"reference"}))return!1}else for(l in r?t:n)if(n[l]!==t[l])return!1;if(Ei.und(l)){if(o&&n.length===0&&t.length===0||a&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function Vft(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const Qj=["children","key","ref"];function Gft(n){const t={};for(const e in n)Qj.includes(e)||(t[e]=n[e]);return t}function hS(n,t,e,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:t,type:e,parent:null,children:[],props:Gft(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Ey(n,t){let e=n[t];if(!t.includes("-"))return{root:n,key:t,target:e};e=n;for(const r of t.split("-")){var i;t=r,n=e,e=(i=e)==null?void 0:i[t]}return{root:n,key:t,target:e}}const A4=/-\d+$/;function dS(n,t){if(Ei.str(t.props.attach)){if(A4.test(t.props.attach)){const r=t.props.attach.replace(A4,""),{root:a,key:o}=Ey(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:e,key:i}=Ey(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else Ei.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function pS(n,t){if(Ei.str(t.props.attach)){const{root:e,key:i}=Ey(n.object,t.props.attach),r=t.previousAttach;r===void 0?delete e[i]:e[i]=r}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const tC=[...Qj,"args","dispose","attach","object","onUpdate","dispose"],T4=new Map;function qft(n){let t=T4.get(n.constructor);try{t||(t=new n.constructor,T4.set(n.constructor,t))}catch{}return t}function kft(n,t){const e={};for(const i in t)if(!tC.includes(i)&&!Ei.equ(t[i],n.props[i])){e[i]=t[i];for(const r in t)r.startsWith(`${i}-`)&&(e[r]=t[r])}for(const i in n.props){if(tC.includes(i)||t.hasOwnProperty(i))continue;const{root:r,key:a}=Ey(n.object,i);if(r.constructor&&r.constructor.length===0){const o=qft(r);Ei.und(o)||(e[a]=o[a])}else e[a]=0}return e}const Xft=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Yft=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function zc(n,t){var e;const i=n.__r3f,r=i&&Wj(i).getState(),a=i==null?void 0:i.eventCount;for(const l in t){let c=t[l];if(tC.includes(l))continue;if(i&&Yft.test(l)){typeof c=="function"?i.handlers[l]=c:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:h,key:m,target:v}=Ey(n,l);if(v instanceof nm&&c instanceof nm)v.mask=c.mask;else if(v instanceof _e&&zft(c))v.set(c);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&c!=null&&c.constructor&&v.constructor===c.constructor)v.copy(c);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(c))typeof v.fromArray=="function"?v.fromArray(c):v.set(...c);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof c=="number")typeof v.setScalar=="function"?v.setScalar(c):v.set(c);else{var o;h[m]=c,r&&!r.linear&&Xft.includes(m)&&(o=h[m])!=null&&o.isTexture&&h[m].format===ia&&h[m].type===Io&&(h[m].colorSpace=ta)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(e=i.object)!=null&&e.isObject3D&&a!==i.eventCount){const l=i.object,c=r.internal.interaction.indexOf(l);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&_m(i),n}function _m(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function Wft(n,t){n.manual||(Zj(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const ka=n=>n==null?void 0:n.isObject3D;function E_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Jj(n,t,e,i){const r=e.get(t);r&&(e.delete(t),e.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Zft(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,r)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(r)}),e.capturedMap.forEach((i,r)=>{Jj(e.capturedMap,t,i,r)})}function Kft(n){function t(c){const{internal:h}=n.getState(),m=c.offsetX-h.initialClick[0],v=c.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function e(c){return c.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=h.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(c,h){const m=n.getState(),v=new Set,y=[],_=h?h(m.internal.interaction):m.internal.interaction;for(let M=0;M<_.length;M++){const w=mp(_[M]);w&&(w.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(c,m);function S(M){const w=mp(M);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var O;w.events.compute==null||w.events.compute(c,w,(O=w.previousRoot)==null?void 0:O.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(M,!0):[]}let E=_.flatMap(S).sort((M,w)=>{const O=mp(M.object),R=mp(w.object);return!O||!R?M.distance-w.distance:R.events.priority-O.events.priority||M.distance-w.distance}).filter(M=>{const w=E_(M);return v.has(w)?!1:(v.add(w),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const M of E){let w=M.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&y.push({...M,eventObject:w}),w=w.parent}}if("pointerId"in c&&m.internal.capturedMap.has(c.pointerId))for(let M of m.internal.capturedMap.get(c.pointerId).values())v.has(E_(M.intersection))||y.push(M.intersection);return y}function r(c,h,m,v){if(c.length){const y={stopped:!1};for(const _ of c){let S=mp(_.object);if(S||_.object.traverseAncestors(E=>{const x=mp(E);if(x)return S=x,!1}),S){const{raycaster:E,pointer:x,camera:M,internal:w}=S,O=new Q(x.x,x.y,0).unproject(M),R=I=>{var B,F;return(B=(F=w.capturedMap.get(I))==null?void 0:F.has(_.eventObject))!=null?B:!1},N=I=>{const B={intersection:_,target:h.target};w.capturedMap.has(I)?w.capturedMap.get(I).set(_.eventObject,B):w.capturedMap.set(I,new Map([[_.eventObject,B]])),h.target.setPointerCapture(I)},P=I=>{const B=w.capturedMap.get(I);B&&Jj(w.capturedMap,_.eventObject,B,I)};let U={};for(let I in h){let B=h[I];typeof B!="function"&&(U[I]=B)}let z={..._,...U,pointer:x,intersections:c,stopped:y.stopped,delta:m,unprojectedPoint:O,ray:E.ray,camera:M,stopPropagation(){const I="pointerId"in h&&w.capturedMap.get(h.pointerId);if((!I||I.has(_.eventObject))&&(z.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(B=>B.eventObject===_.eventObject))){const B=c.slice(0,c.indexOf(_));a([...B,_])}},target:{hasPointerCapture:R,setPointerCapture:N,releasePointerCapture:P},currentTarget:{hasPointerCapture:R,setPointerCapture:N,releasePointerCapture:P},nativeEvent:h};if(v(z),y.stopped===!0)break}}}return c}function a(c){const{internal:h}=n.getState();for(const m of h.hovered.values())if(!c.length||!c.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(h.hovered.delete(E_(m)),y!=null&&y.eventCount){const _=y.handlers,S={...m,intersections:c};_.onPointerOut==null||_.onPointerOut(S),_.onPointerLeave==null||_.onPointerLeave(S)}}}function o(c,h){for(let m=0;m<h.length;m++){const v=h[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return h=>{const{internal:m}=n.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),a([]))})}}return function(m){const{onPointerMissed:v,internal:y}=n.getState();y.lastEvent.current=m;const _=c==="onPointerMove",S=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",x=i(m,_?e:void 0),M=S?t(m):0;c==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=x.map(O=>O.eventObject)),S&&!x.length&&M<=2&&(o(m,y.interaction),v&&v(m)),_&&a(x);function w(O){const R=O.eventObject,N=R.__r3f;if(!(N!=null&&N.eventCount))return;const P=N.handlers;if(_){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const U=E_(O),z=y.hovered.get(U);z?z.stopped&&O.stopPropagation():(y.hovered.set(U,O),P.onPointerOver==null||P.onPointerOver(O),P.onPointerEnter==null||P.onPointerEnter(O))}P.onPointerMove==null||P.onPointerMove(O)}else{const U=P[c];U?(!S||y.initialHits.includes(R))&&(o(m,y.interaction.filter(z=>!y.initialHits.includes(z))),U(O)):S&&y.initialHits.includes(R)&&o(m,y.interaction.filter(z=>!y.initialHits.includes(z)))}}r(x,m,M,w)}}return{handlePointer:l}}const w4=n=>!!(n!=null&&n.render),t8=St.createContext(null),$ft=(n,t)=>{const e=Eft((l,c)=>{const h=new Q,m=new Q,v=new Q;function y(M=c().camera,w=m,O=c().size){const{width:R,height:N,top:P,left:U}=O,z=R/N;w.isVector3?v.copy(w):v.set(...w);const I=M.getWorldPosition(h).distanceTo(v);if(Zj(M))return{width:R/M.zoom,height:N/M.zoom,top:P,left:U,factor:1,distance:I,aspect:z};{const B=M.fov*Math.PI/180,F=2*Math.tan(B/2)*I,K=F*(R/N);return{width:K,height:F,top:P,left:U,factor:R/K,distance:I,aspect:z}}}let _;const S=M=>l(w=>({performance:{...w.performance,current:M}})),E=new Xt;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(c(),M),advance:(M,w)=>t(M,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YR,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=c();_&&clearTimeout(_),M.performance.current!==M.performance.min&&S(M.performance.min),_=setTimeout(()=>S(c().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:M=>l(w=>({...w,events:{...w.events,...M}})),setSize:(M,w,O=0,R=0)=>{const N=c().camera,P={width:M,height:w,top:O,left:R};l(U=>({size:P,viewport:{...U.viewport,...y(N,m,P)}}))},setDpr:M=>l(w=>{const O=$j(M);return{viewport:{...w.viewport,dpr:O,initialDpr:w.viewport.initialDpr||O}}}),setFrameloop:(M="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,M!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:St.createRef(),active:!1,frames:0,priority:0,subscribe:(M,w,O)=>{const R=c().internal;return R.priority=R.priority+(w>0?1:0),R.subscribers.push({ref:M,priority:w,store:O}),R.subscribers=R.subscribers.sort((N,P)=>N.priority-P.priority),()=>{const N=c().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(w>0?1:0),N.subscribers=N.subscribers.filter(P=>P.ref!==M))}}}}}),i=e.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return e.subscribe(()=>{const{camera:l,size:c,viewport:h,gl:m,set:v}=e.getState();if(c.width!==r.width||c.height!==r.height||h.dpr!==a){r=c,a=h.dpr,Wft(l,c),h.dpr>0&&m.setPixelRatio(h.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(c.width,c.height,y)}l!==o&&(o=l,v(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),e.subscribe(l=>n(l)),e};function e8(){const n=St.useContext(t8);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uc(n=e=>e,t){return e8()(n,t)}function n8(n,t=0){const e=e8(),i=e.getState().internal.subscribe,r=Kj(n);return ky(()=>i(r,t,e),[t,i,e]),null}function Qft(n){const t=Rft(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:St.version}),t}const i8=0,sm={},Jft=/^three(?=[A-Z])/,C1=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let tht=0;const eht=n=>typeof n=="function";function r8(n){if(eht(n)){const t=`${tht++}`;return sm[t]=n,t}else Object.assign(sm,n)}function a8(n,t){const e=C1(n),i=sm[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function nht(n,t,e){var i;return n=C1(n)in sm?n:n.replace(Jft,""),a8(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,hS(t.object,e,n,t)}function iht(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?pS(n.parent,n):ka(n.object)&&(n.object.visible=!1),n.isHidden=!0,_m(n)}}function s8(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?dS(n.parent,n):ka(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,_m(n)}}function tD(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var r,a;const o=sm[C1(t.type)];t.object=(r=t.props.object)!=null?r:new o(...(a=t.props.args)!=null?a:[]),t.object.__r3f=t}if(zc(t.object,t.props),t.props.attach)dS(n,t);else if(ka(t.object)&&ka(n.object)){const o=n.object.children.indexOf(e==null?void 0:e.object);if(e&&o!==-1){const l=n.object.children.indexOf(t.object);if(l!==-1){n.object.children.splice(l,1);const c=l<o?o-1:o;n.object.children.splice(c,0,t.object)}else t.object.parent=n.object,n.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})}else n.object.add(t.object)}for(const o of t.children)tD(t,o);_m(t)}}function m2(n,t){t&&(t.parent=n,n.children.push(t),tD(n,t))}function O4(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),tD(n,t,e)}function o8(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():E4.unstable_scheduleCallback(E4.unstable_IdlePriority,t)}}function eC(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?pS(n,t):ka(t.object)&&ka(n.object)&&(n.object.remove(t.object),Zft(Wj(t),t.object));const r=t.props.dispose!==null&&e!==!1;for(let a=t.children.length-1;a>=0;a--){const o=t.children[a];eC(t,o,r)}t.children.length=0,delete t.object.__r3f,r&&t.type!=="primitive"&&t.object.type!=="Scene"&&o8(t.object),e===void 0&&_m(t)}function rht(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const N_=[];function aht(){for(const[e]of N_){const i=e.parent;if(i){e.props.attach?pS(i,e):ka(e.object)&&ka(i.object)&&i.object.remove(e.object);for(const r of e.children)r.props.attach?pS(e,r):ka(r.object)&&ka(e.object)&&e.object.remove(r.object)}e.isHidden&&s8(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&o8(e.object)}for(const[e,i,r]of N_){e.props=i;const a=e.parent;if(a){var n,t;const o=sm[C1(e.type)];e.object=(n=e.props.object)!=null?n:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,rht(r,e.object),zc(e.object,e.props),e.props.attach?dS(a,e):ka(e.object)&&ka(a.object)&&a.object.add(e.object);for(const l of e.children)l.props.attach?dS(e,l):ka(l.object)&&ka(e.object)&&e.object.add(l.object);_m(e)}}N_.length=0}const v2=()=>{},C4={};let A_=i8;const sht=0,oht=4,nC=Qft({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:nht,removeChild:eC,appendChild:m2,appendInitialChild:m2,insertBefore:O4,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||m2(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||eC(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||O4(i,t,e)},getRootHostContext:()=>C4,getChildHostContext:()=>C4,commitUpdate(n,t,e,i,r){var a,o,l;a8(t,i);let c=!1;if((n.type==="primitive"&&e.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=e.args)==null?void 0:o.length)||(l=i.args)!=null&&l.some((m,v)=>{var y;return m!==((y=e.args)==null?void 0:y[v])}))&&(c=!0),c)N_.push([n,{...i},r]);else{const m=kft(n,i);Object.keys(m).length&&(Object.assign(n.props,m),zc(n.object,m))}(r.sibling===null||(r.flags&oht)===sht)&&aht()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>hS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:iht,unhideInstance:s8,createTextInstance:v2,hideTextInstance:v2,unhideTextInstance:v2,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:St.createContext(null),setCurrentUpdatePriority(n){A_=n},getCurrentUpdatePriority(){return A_},resolveUpdatePriority(){var n;if(A_!==i8)return A_;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return D_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return D_.ContinuousEventPriority;default:return D_.DefaultEventPriority}},resetFormInstance(){}}),Ih=new Map,vp={objects:"shallow",strict:!1};function lht(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:r,left:a}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function uht(n){const t=Ih.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||$ft(aC,D4),o=e||nC.createContainer(a,D_.ConcurrentRoot,null,!1,null,"",r,r,r,null);t||Ih.set(n,{fiber:o,store:a});let l,c,h=!1,m=null;return{async configure(v={}){let y;m=new Promise(et=>y=et);let{gl:_,size:S,scene:E,events:x,onCreated:M,shadows:w=!1,linear:O=!1,flat:R=!1,legacy:N=!1,orthographic:P=!1,frameloop:U="always",dpr:z=[1,2],performance:I,raycaster:B,camera:F,onPointerMissed:K}=v,W=a.getState(),tt=W.gl;if(!W.gl){const et={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ot=typeof _=="function"?await _(et):_;w4(ot)?tt=ot:tt=new qj({...et,..._}),W.set({gl:tt})}let J=W.raycaster;J||W.set({raycaster:J=new Ij});const{params:H,...q}=B||{};if(Ei.equ(q,J,vp)||zc(J,{...q}),Ei.equ(H,J.params,vp)||zc(J,{params:{...J.params,...H}}),!W.camera||W.camera===c&&!Ei.equ(c,F,vp)){c=F;const et=F==null?void 0:F.isCamera,ot=et?F:P?new Vc(0,0,0,0,.1,1e3):new Vi(75,0,.1,1e3);et||(ot.position.z=5,F&&(zc(ot,F),ot.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(ot.manual=!0,ot.updateProjectionMatrix())),!W.camera&&!(F!=null&&F.rotation)&&ot.lookAt(0,0,0)),W.set({camera:ot}),J.camera=ot}if(!W.scene){let et;E!=null&&E.isScene?(et=E,hS(et,a,"",{})):(et=new wR,hS(et,a,"",{}),E&&zc(et,E)),W.set({scene:et})}x&&!W.events.handlers&&W.set({events:x(a)});const k=lht(n,S);if(Ei.equ(k,W.size,vp)||W.setSize(k.width,k.height,k.top,k.left),z&&W.viewport.dpr!==$j(z)&&W.setDpr(z),W.frameloop!==U&&W.setFrameloop(U),W.onPointerMissed||W.set({onPointerMissed:K}),I&&!Ei.equ(I,W.performance,vp)&&W.set(et=>({performance:{...et.performance,...I}})),!W.xr){var it;const et=(rt,_t)=>{const Ut=a.getState();Ut.frameloop!=="never"&&D4(rt,!0,Ut,_t)},ot=()=>{const rt=a.getState();rt.gl.xr.enabled=rt.gl.xr.isPresenting,rt.gl.xr.setAnimationLoop(rt.gl.xr.isPresenting?et:null),rt.gl.xr.isPresenting||aC(rt)},mt={connect(){const rt=a.getState().gl;rt.xr.addEventListener("sessionstart",ot),rt.xr.addEventListener("sessionend",ot)},disconnect(){const rt=a.getState().gl;rt.xr.removeEventListener("sessionstart",ot),rt.xr.removeEventListener("sessionend",ot)}};typeof((it=tt.xr)==null?void 0:it.addEventListener)=="function"&&mt.connect(),W.set({xr:mt})}if(tt.shadowMap){const et=tt.shadowMap.enabled,ot=tt.shadowMap.type;if(tt.shadowMap.enabled=!!w,Ei.boo(w))tt.shadowMap.type=dg;else if(Ei.str(w)){var G;const mt={basic:XF,percentage:KS,soft:dg,variance:Co};tt.shadowMap.type=(G=mt[w])!=null?G:dg}else Ei.obj(w)&&Object.assign(tt.shadowMap,w);(et!==tt.shadowMap.enabled||ot!==tt.shadowMap.type)&&(tt.shadowMap.needsUpdate=!0)}return Sn.enabled=!N,h||(tt.outputColorSpace=O?kc:ta,tt.toneMapping=R?wl:cR),W.legacy!==N&&W.set(()=>({legacy:N})),W.linear!==O&&W.set(()=>({linear:O})),W.flat!==R&&W.set(()=>({flat:R})),_&&!Ei.fun(_)&&!w4(_)&&!Ei.equ(_,tt,vp)&&zc(tt,_),l=M,h=!0,y(),this},render(v){return!h&&!m&&this.configure(),m.then(()=>{nC.updateContainer(dt.jsx(cht,{store:a,children:v,onCreated:l,rootElement:n}),o,null,()=>{})}),a},unmount(){l8(n)}}}function cht({store:n,children:t,onCreated:e,rootElement:i}){return ky(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),e&&e(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),dt.jsx(t8.Provider,{value:n,children:t})}function l8(n,t){const e=Ih.get(n),i=e==null?void 0:e.fiber;if(i){const r=e==null?void 0:e.store.getState();r&&(r.internal.active=!1),nC.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,l,c;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),Vft(r.scene),Ih.delete(n)}catch{}},500)})}}const fht=new Set,hht=new Set,dht=new Set;function g2(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function Mg(n,t){switch(n){case"before":return g2(fht,t);case"after":return g2(hht,t);case"tail":return g2(dht,t)}}let y2,b2;function iC(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),y2=t.internal.subscribers;for(let r=0;r<y2.length;r++)b2=y2[r],b2.ref.current(b2.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let mS=!1,rC=!1,_2,R4,gp;function u8(n){R4=requestAnimationFrame(u8),mS=!0,_2=0,Mg("before",n),rC=!0;for(const e of Ih.values()){var t;gp=e.store.getState(),gp.internal.active&&(gp.frameloop==="always"||gp.internal.frames>0)&&!((t=gp.gl.xr)!=null&&t.isPresenting)&&(_2+=iC(n,gp))}if(rC=!1,Mg("after",n),_2===0)return Mg("tail",n),mS=!1,cancelAnimationFrame(R4)}function aC(n,t=1){var e;if(!n)return Ih.forEach(i=>aC(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):rC?n.internal.frames=2:n.internal.frames=1,mS||(mS=!0,requestAnimationFrame(u8)))}function D4(n,t=!0,e,i){if(t&&Mg("before",n),e)iC(n,e,i);else for(const r of Ih.values())iC(n,r.store.getState());t&&Mg("after",n)}const x2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pht(n){const{handlePointer:t}=Kft(n);return{priority:1,enabled:!0,compute(e,i,r){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(x2).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:r}=n.getState();(e=r.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:e=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:e}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l,c]=x2[a];e.addEventListener(l,o,{passive:c})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=x2[r];i.connected.removeEventListener(o,a)}e(r=>({events:{...r.events,connected:void 0}}))}}}}function N4(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function mht({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=St.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=St.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,m=St.useRef(!1);St.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,y,_]=St.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:w,top:O,width:R,height:N,bottom:P,right:U,x:z,y:I}=l.current.element.getBoundingClientRect(),B={left:w,top:O,width:R,height:N,bottom:P,right:U,x:z,y:I};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),m.current&&!bht(l.current.lastBounds,B)&&o(l.current.lastBounds=B)};return[M,h?N4(M,h):M,c?N4(M,c):M]},[o,i,c,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function E(){l.current.element&&(l.current.resizeObserver=new r(_),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",_,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const x=M=>{!M||M===l.current.element||(S(),l.current.element=M,l.current.scrollContainers=c8(M),E())};return ght(_,!!t),vht(y),St.useEffect(()=>{S(),E()},[t,_,y]),St.useEffect(()=>S,[]),[x,a,v]}function vht(n){St.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function ght(n,t){St.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function c8(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[e,i,r].some(a=>a==="auto"||a==="scroll")&&t.push(n),[...t,...c8(n.parentElement)]}const yht=["x","y","top","bottom","left","right","width","height"],bht=(n,t)=>yht.every(e=>n[e]===t[e]);function _ht({ref:n,children:t,fallback:e,resize:i,style:r,gl:a,events:o=pht,eventSource:l,eventPrefix:c,shadows:h,linear:m,flat:v,legacy:y,orthographic:_,frameloop:S,dpr:E,performance:x,raycaster:M,camera:w,scene:O,onPointerMissed:R,onCreated:N,...P}){St.useMemo(()=>r8(fft),[]);const U=Hft(),[z,I]=mht({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=St.useRef(null),F=St.useRef(null);St.useImperativeHandle(n,()=>B.current);const K=Kj(R),[W,tt]=St.useState(!1),[J,H]=St.useState(!1);if(W)throw W;if(J)throw J;const q=St.useRef(null);ky(()=>{const it=B.current;if(I.width>0&&I.height>0&&it){q.current||(q.current=uht(it));async function G(){await q.current.configure({gl:a,scene:O,events:o,shadows:h,linear:m,flat:v,legacy:y,orthographic:_,frameloop:S,dpr:E,performance:x,raycaster:M,camera:w,size:I,onPointerMissed:(...et)=>K.current==null?void 0:K.current(...et),onCreated:et=>{et.events.connect==null||et.events.connect(l?Bft(l)?l.current:l:F.current),c&&et.setEvents({compute:(ot,mt)=>{const rt=ot[c+"X"],_t=ot[c+"Y"];mt.pointer.set(rt/mt.size.width*2-1,-(_t/mt.size.height)*2+1),mt.raycaster.setFromCamera(mt.pointer,mt.camera)}}),N==null||N(et)}}),q.current.render(dt.jsx(U,{children:dt.jsx(jft,{set:H,children:dt.jsx(St.Suspense,{fallback:dt.jsx(Fft,{set:tt}),children:t??null})})}))}G()}}),St.useEffect(()=>{const it=B.current;if(it)return()=>l8(it)},[]);const k=l?"none":"auto";return dt.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...r},...P,children:dt.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:dt.jsx("canvas",{ref:B,style:{display:"block"},children:e})})})}function xht(n){return dt.jsx(Xj,{children:dt.jsx(_ht,{...n})})}var Sht=Object.defineProperty,Mht=(n,t,e)=>t in n?Sht(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Eht=(n,t,e)=>(Mht(n,t+"",e),e);class Aht{constructor(){Eht(this,"_listeners")}addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,t);t.target=null}}}var Tht=Object.defineProperty,wht=(n,t,e)=>t in n?Tht(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ie=(n,t,e)=>(wht(n,typeof t!="symbol"?t+"":t,e),e);const T_=new Vh,P4=new xl,Oht=Math.cos(70*(Math.PI/180)),U4=(n,t)=>(n%t+t)%t;let Cht=class extends Aht{constructor(t,e){super(),Ie(this,"object"),Ie(this,"domElement"),Ie(this,"enabled",!0),Ie(this,"target",new Q),Ie(this,"minDistance",0),Ie(this,"maxDistance",1/0),Ie(this,"minZoom",0),Ie(this,"maxZoom",1/0),Ie(this,"minPolarAngle",0),Ie(this,"maxPolarAngle",Math.PI),Ie(this,"minAzimuthAngle",-1/0),Ie(this,"maxAzimuthAngle",1/0),Ie(this,"enableDamping",!1),Ie(this,"dampingFactor",.05),Ie(this,"enableZoom",!0),Ie(this,"zoomSpeed",1),Ie(this,"enableRotate",!0),Ie(this,"rotateSpeed",1),Ie(this,"enablePan",!0),Ie(this,"panSpeed",1),Ie(this,"screenSpacePanning",!0),Ie(this,"keyPanSpeed",7),Ie(this,"zoomToCursor",!1),Ie(this,"autoRotate",!1),Ie(this,"autoRotateSpeed",2),Ie(this,"reverseOrbit",!1),Ie(this,"reverseHorizontalOrbit",!1),Ie(this,"reverseVerticalOrbit",!1),Ie(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ie(this,"mouseButtons",{LEFT:fh.ROTATE,MIDDLE:fh.DOLLY,RIGHT:fh.PAN}),Ie(this,"touches",{ONE:hh.ROTATE,TWO:hh.DOLLY_PAN}),Ie(this,"target0"),Ie(this,"position0"),Ie(this,"zoom0"),Ie(this,"_domElementKeyEvents",null),Ie(this,"getPolarAngle"),Ie(this,"getAzimuthalAngle"),Ie(this,"setPolarAngle"),Ie(this,"setAzimuthalAngle"),Ie(this,"getDistance"),Ie(this,"getZoomScale"),Ie(this,"listenToKeyEvents"),Ie(this,"stopListenToKeyEvents"),Ie(this,"saveState"),Ie(this,"reset"),Ie(this,"update"),Ie(this,"connect"),Ie(this,"dispose"),Ie(this,"dollyIn"),Ie(this,"dollyOut"),Ie(this,"getScale"),Ie(this,"setScale"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ut=>{let Ft=U4(ut,2*Math.PI),ce=m.phi;ce<0&&(ce+=2*Math.PI),Ft<0&&(Ft+=2*Math.PI);let lt=Math.abs(Ft-ce);2*Math.PI-lt<lt&&(Ft<ce?Ft+=2*Math.PI:ce+=2*Math.PI),v.phi=Ft-ce,i.update()},this.setAzimuthalAngle=ut=>{let Ft=U4(ut,2*Math.PI),ce=m.theta;ce<0&&(ce+=2*Math.PI),Ft<0&&(Ft+=2*Math.PI);let lt=Math.abs(Ft-ce);2*Math.PI-lt<lt&&(Ft<ce?Ft+=2*Math.PI:ce+=2*Math.PI),v.theta=Ft-ce,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ut=>{ut.addEventListener("keydown",te),this._domElementKeyEvents=ut},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",te),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),c=l.NONE},this.update=(()=>{const ut=new Q,Ft=new Q(0,1,0),ce=new aa().setFromUnitVectors(t.up,Ft),lt=ce.clone().invert(),ee=new Q,Dt=new aa,Gt=2*Math.PI;return function(){const fe=i.object.position;ce.setFromUnitVectors(t.up,Ft),lt.copy(ce).invert(),ut.copy(fe).sub(i.target),ut.applyQuaternion(ce),m.setFromVector3(ut),i.autoRotate&&c===l.NONE&&tt(K()),i.enableDamping?(m.theta+=v.theta*i.dampingFactor,m.phi+=v.phi*i.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let Ce=i.minAzimuthAngle,rn=i.maxAzimuthAngle;isFinite(Ce)&&isFinite(rn)&&(Ce<-Math.PI?Ce+=Gt:Ce>Math.PI&&(Ce-=Gt),rn<-Math.PI?rn+=Gt:rn>Math.PI&&(rn-=Gt),Ce<=rn?m.theta=Math.max(Ce,Math.min(rn,m.theta)):m.theta=m.theta>(Ce+rn)/2?Math.max(Ce,m.theta):Math.min(rn,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(_,i.dampingFactor):i.target.add(_),i.zoomToCursor&&I||i.object.isOrthographicCamera?m.radius=mt(m.radius):m.radius=mt(m.radius*y),ut.setFromSpherical(m),ut.applyQuaternion(lt),fe.copy(i.target).add(ut),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,_.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),_.set(0,0,0));let On=!1;if(i.zoomToCursor&&I){let $e=null;if(i.object instanceof Vi&&i.object.isPerspectiveCamera){const Ti=ut.length();$e=mt(Ti*y);const si=Ti-$e;i.object.position.addScaledVector(U,si),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ti=new Q(z.x,z.y,0);Ti.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),On=!0;const si=new Q(z.x,z.y,0);si.unproject(i.object),i.object.position.sub(si).add(Ti),i.object.updateMatrixWorld(),$e=ut.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;$e!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar($e).add(i.object.position):(T_.origin.copy(i.object.position),T_.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(T_.direction))<Oht?t.lookAt(i.target):(P4.setFromNormalAndCoplanarPoint(i.object.up,i.target),T_.intersectPlane(P4,i.target))))}else i.object instanceof Vc&&i.object.isOrthographicCamera&&(On=y!==1,On&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,I=!1,On||ee.distanceToSquared(i.object.position)>h||8*(1-Dt.dot(i.object.quaternion))>h?(i.dispatchEvent(r),ee.copy(i.object.position),Dt.copy(i.object.quaternion),On=!1,!0):!1}})(),this.connect=ut=>{i.domElement=ut,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Jt),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",Nt),i.domElement.addEventListener("wheel",le)},this.dispose=()=>{var ut,Ft,ce,lt,ee,Dt;i.domElement&&(i.domElement.style.touchAction="auto"),(ut=i.domElement)==null||ut.removeEventListener("contextmenu",Jt),(Ft=i.domElement)==null||Ft.removeEventListener("pointerdown",V),(ce=i.domElement)==null||ce.removeEventListener("pointercancel",Nt),(lt=i.domElement)==null||lt.removeEventListener("wheel",le),(ee=i.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",pt),(Dt=i.domElement)==null||Dt.ownerDocument.removeEventListener("pointerup",Nt),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",te)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const h=1e-6,m=new KO,v=new KO;let y=1;const _=new Q,S=new Xt,E=new Xt,x=new Xt,M=new Xt,w=new Xt,O=new Xt,R=new Xt,N=new Xt,P=new Xt,U=new Q,z=new Xt;let I=!1;const B=[],F={};function K(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function tt(ut){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=ut:v.theta-=ut}function J(ut){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=ut:v.phi-=ut}const H=(()=>{const ut=new Q;return function(ce,lt){ut.setFromMatrixColumn(lt,0),ut.multiplyScalar(-ce),_.add(ut)}})(),q=(()=>{const ut=new Q;return function(ce,lt){i.screenSpacePanning===!0?ut.setFromMatrixColumn(lt,1):(ut.setFromMatrixColumn(lt,0),ut.crossVectors(i.object.up,ut)),ut.multiplyScalar(ce),_.add(ut)}})(),k=(()=>{const ut=new Q;return function(ce,lt){const ee=i.domElement;if(ee&&i.object instanceof Vi&&i.object.isPerspectiveCamera){const Dt=i.object.position;ut.copy(Dt).sub(i.target);let Gt=ut.length();Gt*=Math.tan(i.object.fov/2*Math.PI/180),H(2*ce*Gt/ee.clientHeight,i.object.matrix),q(2*lt*Gt/ee.clientHeight,i.object.matrix)}else ee&&i.object instanceof Vc&&i.object.isOrthographicCamera?(H(ce*(i.object.right-i.object.left)/i.object.zoom/ee.clientWidth,i.object.matrix),q(lt*(i.object.top-i.object.bottom)/i.object.zoom/ee.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function it(ut){i.object instanceof Vi&&i.object.isPerspectiveCamera||i.object instanceof Vc&&i.object.isOrthographicCamera?y=ut:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function G(ut){it(y/ut)}function et(ut){it(y*ut)}function ot(ut){if(!i.zoomToCursor||!i.domElement)return;I=!0;const Ft=i.domElement.getBoundingClientRect(),ce=ut.clientX-Ft.left,lt=ut.clientY-Ft.top,ee=Ft.width,Dt=Ft.height;z.x=ce/ee*2-1,z.y=-(lt/Dt)*2+1,U.set(z.x,z.y,1).unproject(i.object).sub(i.object.position).normalize()}function mt(ut){return Math.max(i.minDistance,Math.min(i.maxDistance,ut))}function rt(ut){S.set(ut.clientX,ut.clientY)}function _t(ut){ot(ut),R.set(ut.clientX,ut.clientY)}function Ut(ut){M.set(ut.clientX,ut.clientY)}function Zt(ut){E.set(ut.clientX,ut.clientY),x.subVectors(E,S).multiplyScalar(i.rotateSpeed);const Ft=i.domElement;Ft&&(tt(2*Math.PI*x.x/Ft.clientHeight),J(2*Math.PI*x.y/Ft.clientHeight)),S.copy(E),i.update()}function $t(ut){N.set(ut.clientX,ut.clientY),P.subVectors(N,R),P.y>0?G(W()):P.y<0&&et(W()),R.copy(N),i.update()}function wt(ut){w.set(ut.clientX,ut.clientY),O.subVectors(w,M).multiplyScalar(i.panSpeed),k(O.x,O.y),M.copy(w),i.update()}function Qt(ut){ot(ut),ut.deltaY<0?et(W()):ut.deltaY>0&&G(W()),i.update()}function se(ut){let Ft=!1;switch(ut.code){case i.keys.UP:k(0,i.keyPanSpeed),Ft=!0;break;case i.keys.BOTTOM:k(0,-i.keyPanSpeed),Ft=!0;break;case i.keys.LEFT:k(i.keyPanSpeed,0),Ft=!0;break;case i.keys.RIGHT:k(-i.keyPanSpeed,0),Ft=!0;break}Ft&&(ut.preventDefault(),i.update())}function Lt(){if(B.length==1)S.set(B[0].pageX,B[0].pageY);else{const ut=.5*(B[0].pageX+B[1].pageX),Ft=.5*(B[0].pageY+B[1].pageY);S.set(ut,Ft)}}function be(){if(B.length==1)M.set(B[0].pageX,B[0].pageY);else{const ut=.5*(B[0].pageX+B[1].pageX),Ft=.5*(B[0].pageY+B[1].pageY);M.set(ut,Ft)}}function nt(){const ut=B[0].pageX-B[1].pageX,Ft=B[0].pageY-B[1].pageY,ce=Math.sqrt(ut*ut+Ft*Ft);R.set(0,ce)}function Be(){i.enableZoom&&nt(),i.enablePan&&be()}function It(){i.enableZoom&&nt(),i.enableRotate&&Lt()}function Pt(ut){if(B.length==1)E.set(ut.pageX,ut.pageY);else{const ce=oe(ut),lt=.5*(ut.pageX+ce.x),ee=.5*(ut.pageY+ce.y);E.set(lt,ee)}x.subVectors(E,S).multiplyScalar(i.rotateSpeed);const Ft=i.domElement;Ft&&(tt(2*Math.PI*x.x/Ft.clientHeight),J(2*Math.PI*x.y/Ft.clientHeight)),S.copy(E)}function Ht(ut){if(B.length==1)w.set(ut.pageX,ut.pageY);else{const Ft=oe(ut),ce=.5*(ut.pageX+Ft.x),lt=.5*(ut.pageY+Ft.y);w.set(ce,lt)}O.subVectors(w,M).multiplyScalar(i.panSpeed),k(O.x,O.y),M.copy(w)}function ne(ut){const Ft=oe(ut),ce=ut.pageX-Ft.x,lt=ut.pageY-Ft.y,ee=Math.sqrt(ce*ce+lt*lt);N.set(0,ee),P.set(0,Math.pow(N.y/R.y,i.zoomSpeed)),G(P.y),R.copy(N)}function Bt(ut){i.enableZoom&&ne(ut),i.enablePan&&Ht(ut)}function $(ut){i.enableZoom&&ne(ut),i.enableRotate&&Pt(ut)}function V(ut){var Ft,ce;i.enabled!==!1&&(B.length===0&&((Ft=i.domElement)==null||Ft.ownerDocument.addEventListener("pointermove",pt),(ce=i.domElement)==null||ce.ownerDocument.addEventListener("pointerup",Nt)),ge(ut),ut.pointerType==="touch"?ae(ut):jt(ut))}function pt(ut){i.enabled!==!1&&(ut.pointerType==="touch"?tn(ut):zt(ut))}function Nt(ut){var Ft,ce,lt;Me(ut),B.length===0&&((Ft=i.domElement)==null||Ft.releasePointerCapture(ut.pointerId),(ce=i.domElement)==null||ce.ownerDocument.removeEventListener("pointermove",pt),(lt=i.domElement)==null||lt.ownerDocument.removeEventListener("pointerup",Nt)),i.dispatchEvent(o),c=l.NONE}function jt(ut){let Ft;switch(ut.button){case 0:Ft=i.mouseButtons.LEFT;break;case 1:Ft=i.mouseButtons.MIDDLE;break;case 2:Ft=i.mouseButtons.RIGHT;break;default:Ft=-1}switch(Ft){case fh.DOLLY:if(i.enableZoom===!1)return;_t(ut),c=l.DOLLY;break;case fh.ROTATE:if(ut.ctrlKey||ut.metaKey||ut.shiftKey){if(i.enablePan===!1)return;Ut(ut),c=l.PAN}else{if(i.enableRotate===!1)return;rt(ut),c=l.ROTATE}break;case fh.PAN:if(ut.ctrlKey||ut.metaKey||ut.shiftKey){if(i.enableRotate===!1)return;rt(ut),c=l.ROTATE}else{if(i.enablePan===!1)return;Ut(ut),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&i.dispatchEvent(a)}function zt(ut){if(i.enabled!==!1)switch(c){case l.ROTATE:if(i.enableRotate===!1)return;Zt(ut);break;case l.DOLLY:if(i.enableZoom===!1)return;$t(ut);break;case l.PAN:if(i.enablePan===!1)return;wt(ut);break}}function le(ut){i.enabled===!1||i.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(ut.preventDefault(),i.dispatchEvent(a),Qt(ut),i.dispatchEvent(o))}function te(ut){i.enabled===!1||i.enablePan===!1||se(ut)}function ae(ut){switch(Ee(ut),B.length){case 1:switch(i.touches.ONE){case hh.ROTATE:if(i.enableRotate===!1)return;Lt(),c=l.TOUCH_ROTATE;break;case hh.PAN:if(i.enablePan===!1)return;be(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(i.touches.TWO){case hh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Be(),c=l.TOUCH_DOLLY_PAN;break;case hh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;It(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&i.dispatchEvent(a)}function tn(ut){switch(Ee(ut),c){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;Pt(ut),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;Ht(ut),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Bt(ut),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;$(ut),i.update();break;default:c=l.NONE}}function Jt(ut){i.enabled!==!1&&ut.preventDefault()}function ge(ut){B.push(ut)}function Me(ut){delete F[ut.pointerId];for(let Ft=0;Ft<B.length;Ft++)if(B[Ft].pointerId==ut.pointerId){B.splice(Ft,1);return}}function Ee(ut){let Ft=F[ut.pointerId];Ft===void 0&&(Ft=new Xt,F[ut.pointerId]=Ft),Ft.set(ut.pageX,ut.pageY)}function oe(ut){const Ft=ut.pointerId===B[0].pointerId?B[1]:B[0];return F[Ft.pointerId]}this.dollyIn=(ut=W())=>{et(ut),i.update()},this.dollyOut=(ut=W())=>{G(ut),i.update()},this.getScale=()=>y,this.setScale=ut=>{it(ut),i.update()},this.getZoomScale=()=>W(),e!==void 0&&this.connect(e),this.update()}};function Rht(n,t,e,i){var r;return r=class extends Zs{constructor(a){super({vertexShader:t,fragmentShader:e,...a});for(const o in n)this.uniforms[o]=new w1(n[o]),Object.defineProperty(this,o,{get(){return this.uniforms[o].value},set(l){this.uniforms[o].value=l}});this.uniforms=TR.clone(this.uniforms)}},r.key=P6.generateUUID(),r}const Dht=()=>parseInt(Uy.replace(/\D+/g,"")),Nht=Dht(),Pht=St.forwardRef(({makeDefault:n,camera:t,regress:e,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:l,onEnd:c,...h},m)=>{const v=Uc(P=>P.invalidate),y=Uc(P=>P.camera),_=Uc(P=>P.gl),S=Uc(P=>P.events),E=Uc(P=>P.setEvents),x=Uc(P=>P.set),M=Uc(P=>P.get),w=Uc(P=>P.performance),O=t||y,R=i||S.connected||_.domElement,N=St.useMemo(()=>new Cht(O),[O]);return n8(()=>{N.enabled&&N.update()},-1),St.useEffect(()=>(a&&N.connect(a===!0?R:a),N.connect(R),()=>void N.dispose()),[a,R,e,N,v]),St.useEffect(()=>{const P=I=>{v(),e&&w.regress(),o&&o(I)},U=I=>{l&&l(I)},z=I=>{c&&c(I)};return N.addEventListener("change",P),N.addEventListener("start",U),N.addEventListener("end",z),()=>{N.removeEventListener("start",U),N.removeEventListener("end",z),N.removeEventListener("change",P)}},[o,l,c,N,v,E]),St.useEffect(()=>{if(n){const P=M().controls;return x({controls:N}),()=>x({controls:P})}},[n,N]),St.createElement("primitive",Wg({ref:m,object:N,enableDamping:r},h))}),Uht=Rht({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new _e,sectionColor:new _e,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new Q,worldPlanePosition:new Q},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Nht>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),Lht=St.forwardRef(({args:n,cellColor:t="#000000",sectionColor:e="#2080ff",cellSize:i=.5,sectionSize:r=1,followCamera:a=!1,infiniteGrid:o=!1,fadeDistance:l=100,fadeStrength:c=1,fadeFrom:h=1,cellThickness:m=.5,sectionThickness:v=1,side:y=ra,..._},S)=>{r8({GridMaterial:Uht});const E=St.useRef(null);St.useImperativeHandle(S,()=>E.current,[]);const x=new xl,M=new Q(0,1,0),w=new Q(0,0,0);n8(N=>{x.setFromNormalAndCoplanarPoint(M,w).applyMatrix4(E.current.matrixWorld);const P=E.current.material,U=P.uniforms.worldCamProjPosition,z=P.uniforms.worldPlanePosition;x.projectPoint(N.camera.position,U.value),z.value.set(0,0,0).applyMatrix4(E.current.matrixWorld)});const O={cellSize:i,sectionSize:r,cellColor:t,sectionColor:e,cellThickness:m,sectionThickness:v},R={fadeDistance:l,fadeStrength:c,fadeFrom:h,infiniteGrid:o,followCamera:a};return St.createElement("mesh",Wg({ref:E,frustumCulled:!1},_),St.createElement("gridMaterial",Wg({transparent:!0,"extensions-derivatives":!0,side:y},O,R)),St.createElement("planeGeometry",{args:n}))});function Iht({length:n=.1}){return dt.jsxs("group",{children:[dt.jsxs("mesh",{children:[dt.jsx("cylinderGeometry",{args:[.005,.005,n]}),dt.jsx("meshStandardMaterial",{color:"red"})]}),dt.jsxs("mesh",{rotation:[0,0,-Math.PI/2],position:[0,0,0],children:[dt.jsx("cylinderGeometry",{args:[.005,.005,n]}),dt.jsx("meshStandardMaterial",{color:"green"})]}),dt.jsxs("mesh",{rotation:[Math.PI/2,0,0],position:[0,0,0],children:[dt.jsx("cylinderGeometry",{args:[.005,.005,n]}),dt.jsx("meshStandardMaterial",{color:"blue"})]})]})}function Bht({length:n=.1,color:t="#3B82F6"}){return dt.jsxs("mesh",{position:[n/2,0,0],children:[dt.jsx("boxGeometry",{args:[n,.05,.05]}),dt.jsx("meshStandardMaterial",{color:t})]})}function zht({length:n=.1,color:t="#3B82F6"}){return dt.jsxs("mesh",{position:[0,0,n/2],children:[dt.jsx("cylinderGeometry",{args:[.02,.02,n]}),dt.jsx("meshStandardMaterial",{color:t})]})}function Hht(n,t,e,i=!1){const r=o=>o*(Math.PI/180);let a=i?dt.jsxs("mesh",{position:[0,0,0],children:[dt.jsx("sphereGeometry",{args:[.03,16,16]}),dt.jsx("meshStandardMaterial",{color:"yellow"})]}):null;for(let o=n.length-1;o>=0;o--){const l=n[o],c=r(t[o]+l.theta),h=r(l.alpha),m=l.a,v=l.d;a=dt.jsx("group",{rotation:[0,0,c],children:dt.jsxs("group",{children:[v!==0&&dt.jsx(zht,{length:Math.abs(v),color:e}),dt.jsx("group",{position:[0,0,v],children:dt.jsxs("group",{position:[m,0,0],rotation:[h,0,0],children:[dt.jsx(Iht,{length:.1}),m!==0&&dt.jsx(Bht,{length:Math.abs(m),color:e}),a]})})]})},`joint-${o}`)}return a}function L4({jointAngles:n=[0,0,0,0,0,0],basePosition:t=[0,0,0],color:e="#3B82F6",showEndEffector:i=!1}){const r=[{theta:0,d:.089159,a:0,alpha:90},{theta:0,d:0,a:-.425,alpha:0},{theta:0,d:0,a:-.39225,alpha:0},{theta:0,d:.10915,a:0,alpha:90},{theta:0,d:.09465,a:0,alpha:-90},{theta:0,d:.0823,a:0,alpha:0}];return dt.jsx("group",{position:t,children:Hht(r,n,e,i)})}function Fht({masterJointAngles:n=[0,0,0,0,0,0],slaveJointAngles:t=[0,0,0,0,0,0]}){return dt.jsx("div",{className:"h-[400px] w-full bg-gray-100 rounded-lg overflow-hidden border border-gray-300",children:dt.jsxs(xht,{camera:{position:[4,4,4],fov:50},children:[dt.jsx("ambientLight",{intensity:.5}),dt.jsx("pointLight",{position:[10,10,10]}),dt.jsx(Pht,{}),dt.jsx(Lht,{args:[10,10]}),dt.jsx(L4,{jointAngles:n,basePosition:[-.5,0,0],color:"#3B82F6",showEndEffector:!0}),dt.jsx(L4,{jointAngles:t,basePosition:[.5,0,0],color:"#EF4444",showEndEffector:!0})]})})}function jht(){const[n,t]=St.useState("joystick"),[e,i]=St.useState("E-STOP"),[r,a]=St.useState(0),[o,l]=St.useState(0),[c,h]=St.useState(85),[m,v]=St.useState([0,0,0,0,0,0]),[y,_]=St.useState([1.5,2.3,.8,1.5,2.3,.8]),[S,E]=St.useState(30),[x,M]=St.useState([0,0,0,0,0,0]),[w,O]=St.useState({}),[R,N]=St.useState(30),[P,U]=St.useState(29.8),[z,I]=St.useState(12.3),[B,F]=St.useState(11.5),[K,W]=St.useState([]),[tt,J]=St.useState(0),[H,q]=St.useState(0),[k,it]=St.useState(0),[G,et]=St.useState("중립"),[ot,mt]=St.useState([0,0,0,0,0,0]),rt=_t=>{const Ut=new Date().toLocaleTimeString();W(Zt=>[`[${Ut}] ${_t}`,...Zt.slice(0,49)])};return St.useEffect(()=>{const _t=window.location.origin.replace(/^http/,"ws"),Ut=new WebSocket(`${_t}/ws/data`),Zt=new WebSocket(`${_t}/ws/image`);return Zt.onmessage=$t=>{try{const wt=JSON.parse($t.data);wt.images&&O(Qt=>({...Qt,...wt.images}))}catch(wt){console.error("Image WebSocket error:",wt)}},Ut.onmessage=$t=>{try{const wt=JSON.parse($t.data);wt.force_sensor&&M(wt.force_sensor),wt.battery!==void 0&&h(wt.battery),wt.speed!==void 0&&a(wt.speed),wt.steering_angle!==void 0&&l(wt.steering_angle),wt.gripper_opening!==void 0&&E(wt.gripper_opening),wt.joint_angles!==void 0&&v(wt.joint_angles),wt.master_joint_values!==void 0&&mt(wt.joint_angles),wt.angle!==void 0&&J(wt.angle),wt.accel!==void 0&&q(wt.accel),wt.brake!==void 0&&it(wt.brake),wt.gear_status&&et(wt.gear_status),rt("ROS 메시지 수신됨")}catch(wt){console.error("Data WebSocket error:",wt)}},()=>{Zt.close(),Ut.close()}},[]),dt.jsxs("div",{className:"bg-gray-100 min-h-screen p-6",children:[dt.jsx("h1",{className:"text-3xl font-semibold text-center text-gray-800 mb-8",children:"모바일 매니퓰레이터 GUI"}),dt.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 mb-6 w-full",children:[dt.jsx("div",{className:"lg:basis-2/3",children:dt.jsx(Znt,{forceValues:x,cameraImages:w})}),dt.jsxs("div",{className:"lg:basis-1/3 flex flex-col justify-between gap-6",children:[dt.jsx(pV,{robotStatus:e,speed:r,steeringAngle:o,battery:c,jointAngles:m,cartesianCoords:y,gripperOpening:S}),dt.jsxs("div",{className:"flex flex-col gap-2",children:[dt.jsx("div",{className:"flex justify-end",children:dt.jsxs("select",{value:n,onChange:_t=>t(_t.target.value),className:"text-sm border rounded-md py-1 px-2 bg-gray-50",children:[dt.jsx("option",{value:"joystick",children:"조종기 인풋"}),dt.jsx("option",{value:"arm",children:"로봇팔 시각화"}),dt.jsx("option",{value:"compare",children:"마스터/슬레이브 비교"})]})}),dt.jsx("div",{className:"flex-1 flex items-stretch",children:n==="joystick"?dt.jsx(Knt,{angle:tt,onAngleChange:()=>{},accel:H,brake:k,gearStatus:G,jointValues:ot}):n==="arm"?dt.jsx(Jnt,{jointAngles:ot}):dt.jsx(Fht,{masterJointAngles:ot,slaveJointAngles:m})})]})]})]}),dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 items-center w-full",children:[dt.jsx("div",{className:"lg:col-span-3",children:dt.jsx(Qnt,{camera1Fps:R,camera2Fps:P,camera1Latency:z,camera2Latency:B,logs:K})}),dt.jsx("div",{className:"w-full lg:h-full flex items-stretch",children:dt.jsx($nt,{onEStop:()=>{i("E-STOP"),a(0),rt("E-STOP 활성화됨")},onAuto:()=>{i("Auto"),a(1.5),l(5),rt("Auto 모드 전환")},onManual:()=>{i("Manual"),a(.5),l(0),rt("Manual 모드 전환")}})})]})]})}const Vht=sV.createRoot(document.getElementById("root"));Vht.render(dt.jsx(gt.StrictMode,{children:dt.jsx(jht,{})}));
